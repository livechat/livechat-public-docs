---
weight: 20
category: "messaging"
subcategory: "agent-chat-api"
title: "Web API Reference"
tagline: "Interact with the chat as an agent."
desc: "Build powerful Text integrations with an open messaging protocol. Use the Agent Chat Web API to send messages and manage access and properties."
apiVersion: "3.6"
robots: "noindex"
---

import { openChatWindow } from "utils/index";

# Introduction

## Versioning

This document describes the **Agent Chat Web API v3.6**. This is the latest stable version recommended for the production use. [Read more about versioning...](/messaging/#api-versioning)

## What is Web API

Web API is similar to REST API. Client can send a **request message** that results in getting a **response message**. It's also possible to get webhooks.

## When to use Web API

If you're wondering which API to use - Agent Chat **RTM API** or **Web API**, keep on reading.

**Web API** allows for building stateless integrations. The communication is done via **XHR requests**. The implementation is easier than with RTM API, but you need to take possible time delays into consideration.

**Not what you're looking for?** Perhaps, you need to use [**Agent Chat RTM API**](./rtm-reference/) instead.

## Access

The basics on authorization, access tokens, and scopes in the Agent Chat Web API.

### Authorization

**agent authorization** is handled with access tokens. Find out how to get an **access token** from [agent authorization flows](/authorization/agent-authorization/). Take note **you won't be able to use this token** for the Customer Chat API.

### Scopes

All authorization scopes are listed in the [Scopes](/authorization/scopes/) document. If a method requires certain scopes, you'll find them included in the method description. Keep in mind that Web API requires authorization every time you make a request.

## Rate limits

To prevent sending a massive number of requests, there are rate limits for method calls. After exceeding those limits, the requester will get a `Too many requests` error in the response of a specific request. After some time, the request will be unblocked so it can be sent again.

## Pagination

Pagination is a mechanism that allows splitting the database output into more manageable chunks of data.
Based on the `limit` and `sort order` parameters, pagination is able to decide how many records will be returned at once and whether it should fetch the oldest or the latest data first.

Any filters that could be applied should be provided in first pagination request. In the response, you'll get the `next_page_id` and `previous_page_id` parameters.
You should make the subsequent request using one of these parameters as `page_id`, depending on the direction of iteration: forward or backward.

The `filters`, `limit`, and `sort_order` parameters can't be provided along with `page_id`.

ðŸ’¡ The maximum duration of the `page_id` parameter before it expires is one month.

## Calling the API as a bot

To call the API as a bot, you need to use the bot token. You can generate it using the [**Issue Bot Token**](/management/configuration-api/v3.6/#issue-bot-token) method.

# Data structures

To find sample payloads of **events**, **users**, and **other common structures** such as chats or threads [visit the Data structures](/messaging/agent-chat-api/v3.6/data-structures) document.

<Section>
<Text>

# Methods

| HTTP method | The API endpoint                                         |
| ----------- | -------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.6/agent/action/<action>` |

If you specify the API version in the URL, you don't have to include the optional `"X-API-Version: 3.6"` header.

| Required Header |                   Value                    |                                          Notes |
| --------------- | :----------------------------------------: | ---------------------------------------------: |
| `Content-Type`  | `multipart/form-data; boundary=<boundary>` |             Valid for the `upload_file` method |
| `Content-Type`  |             `application/json`             | Valid for all methods except for `upload_file` |
| `Authorization` |              `Bearer <token>`              |                                   Access token |

</Text>
<Code>
<CodeSample path={'GENERAL WEB API REQUEST FORMAT '}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/<action> \
  -H 'Content-Type: <content-type>' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    // payload
    }'
```

</CodeSample>
</Code>
</Section>

## Available methods

|                 |                                                                                                                                                                                                                                                                                                                                     |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Chats**       | [`list_chats`](#list-chats) [`list_threads`](#list-threads) [`get_chat`](#get-chat) [`list_archives`](#list-archives) [`start_chat`](#start-chat) [`resume_chat`](#resume-chat) [`deactivate_chat`](#deactivate-chat) [`follow_chat`](#follow-chat) [`unfollow_chat`](#unfollow-chat)                                               |
| **Chat access** | [`transfer_chat`](#transfer-chat)                                                                                                                                                                                                                                                                                                   |
| **Chat users**  | [`add_user_to_chat`](#add-user-to-chat) [`remove_user_from_chat`](#remove-user-from-chat)                                                                                                                                                                                                                                           |
| **Events**      | [`send_event_preview`](#send-event-preview) [`send_event`](#send-event) [`upload_file`](#upload-file) [`send_rich_message_postback`](#send-rich-message-postback)                                                                                                                                                                   |
| **Properties**  | [`update_chat_properties`](#update-chat-properties) [`delete_chat_properties`](#delete-chat-properties) [`update_thread_properties`](#update-thread-properties) [`delete_thread_properties`](#delete-thread-properties) [`update_event_properties`](#update-event-properties) [`delete_event_properties`](#delete-event-properties) |
| **Thread tags** | [`tag_thread`](#tag-thread) [`untag_thread`](#untag-thread)                                                                                                                                                                                                                                                                         |
| **Customers**   | [`get_customer`](#get-customer) [`update_customer`](#update-customer) [`ban_customer`](#ban-customer) [`follow_customer`](#follow-customer) [`unfollow_customer`](#unfollow-customer)                                                                                                                                               |
| **Status**      | [`set_routing_status`](#set-routing-status) [`list_routing_statuses`](#list-routing-statuses)                                                                                                                                                                                                                                       |
| **Other**       | [`mark_events_as_seen`](#mark-events-as-seen) [`send_thinking_indicator`](#send-thinking-indicator) [`send_typing_indicator`](#send-typing-indicator) [`multicast`](#multicast) [`list_agents_for_transfer`](#list-agents-for-transfer) [`request_thread_summary`](#request-thread-summary)                                         |

## Chats

<Section>
<Text>

### List Chats

It returns [summaries](/messaging/agent-chat-api/v3.6/data-structures/#chat-summaries) of the chats an agent has access to.

#### Specifics

|                        |                                                                          |
| ---------------------- | ------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/list_chats`               |
| **Required scopes**    | `chats--all:ro` **\*** or `chats--access:ro` **\*\***                    |
| **RTM API equivalent** | [`list_chats`](/messaging/agent-chat-api/v3.6/rtm-reference/#list-chats) |
| **Webhook**            | -                                                                        |

**\*)** `chats--all:ro` - to find chats from all groups.

**\*\*)** `chats--access:ro` - to find chats from groups that the requester (related to the token) is a member of.

| Parameter                                             | Required | Type     | Notes                                                                                                                                                                                                                                                             |
| ----------------------------------------------------- | -------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `filters`                                             | No       | `object` | When paginating, filters provided in the first request are remembered and automatically used for the subsequent requests. Providing a new `filters` object will result in a `validation` error. To reset the filters, start paginating with a new set of filters. |
| `filters.active`                                      | No       | `bool`   | If set to `true`: returns active chats only. If set to `false`: returns inactive chats only. If set to `null` or not provided: returns both active and inactive chats.                                                                                            |
| `filters.include_chats_without_threads`               | No       | `bool`   | If set to `true`: includes chats without any threads in the returned chat summary. Default: `true`.                                                                                                                                                               |
| `filters.group_ids`                                   | No       | `array`  | An array of group IDs. Maximum array size: 200.                                                                                                                                                                                                                   |
| `filters.properties.<namespace>.<name>.<filter_type>` | No       | `any`    |                                                                                                                                                                                                                                                                   |
| `sort_order`                                          | No       | `string` | Possible values: `asc` - oldest chats first, `desc` - newest chats first. Default: `desc`.                                                                                                                                                                        |
| `limit`                                               | No       | `number` | The maximum number of records returned on each [page](#pagination). Default: 10. Maximum: 100.                                                                                                                                                                    |
| `page_id`                                             | No       | `string` |                                                                                                                                                                                                                                                                   |

`filter_type` can take the following values:

- exists (bool)
- values (type[] - array with specific type for property: `string`, `int`, or `bool`)
- exclude_values (type[] - array with specific type for property: `string`, `int`, or `bool`)

There's only one value allowed for a single property.

#### Response

| Field              | Data type | Notes                                                                                                         |
| ------------------ | --------- | ------------------------------------------------------------------------------------------------------------- |
| `chats_summary`    | `array`   | An array of [chat summary](/messaging/agent-chat-api/v3.6/data-structures/#chat-summaries) data structures.   |
| `next_page_id`     | `string`  | In relation to `page_id` specified in the request. Appears in the response only when there's a next page.     |
| `previous_page_id` | `string`  | In relation to `page_id` specified in the request. Appears in the response only when there's a previous page. |
| `found_chats`      | `number`  | An estimated number. The real number of found chats can slightly differ.                                      |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/list_chats \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{}'
```

</CodeSample>
<CodeResponse>

```json
{
  "next_page_id": "MTUxNzM5ODEzMTQ5Ng==", // optional
  "chats_summary": [{
    "id": "PJ0MRSHTDG",
    "last_event_per_type": {
      "message": {
        "thread_id": "K600PKZON8",
        "thread_created_at": "2020-05-07T07:11:28.288340Z",
        "event": {
          "id": "Q298LUVPRH_1",
          "created_at": "2019-12-09T12:01:18.909000Z",
          "visibility": "all",
          "type": "message",
          "text": "hello world",
          "author_id": "b7eff798-f8df-4364-8059-649c35c9ed0c"
        }
      },
      "system_message": {
        "thread_id": "K600PKZON8",
        "thread_created_at": "2020-05-07T07:11:28.288340Z",
        "event": {
          // "System message" event
        }
      }
    },
    "users": [{
      // "Customer" user object
    }, {
      // "Agent" user object
    }],
    "last_thread_summary": {
      "id": "K600PKZON8",
      "created_at": "2020-05-07T07:11:28.288340Z",
      "user_ids": [
        "b7eff798-f8df-4364-8059-649c35c9ed0c",
        "smith@example.com"
      ],
      "properties": {
        // "Properties" object
      },
      "active": true,
      "access": {
        "group_ids": [0]
      }
    },
    "properties": {
      // "Properties" object
    },
    "access": {
      "group_ids": [0]
    },
    "is_followed": true
  }],
  "found_chats": 4
}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### List Threads

It returns threads that the current agent has access to in a given chat.

#### Specifics

|                        |                                                                              |
| ---------------------- | ---------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/list_threads`                 |
| **Required scopes**    | `chats--all:ro` **\*** or `chats--access:ro` **\*\***                        |
| **RTM API equivalent** | [`list_threads`](/messaging/agent-chat-api/v3.6/rtm-reference/#list-threads) |
| **Webhook**            | -                                                                            |

**\*)** `chats--all:ro` - to find threads from all groups.

**\*\*)** `chats--access:ro` - to find threads from groups that the requester (related to the token) is a member of.

#### Request

| Parameter          | Required | Data type | Notes                                                                                                                                                                                                                                                                   |
| ------------------ | -------- | --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `chat_id`          | Yes      | `string`  |                                                                                                                                                                                                                                                                         |
| `sort_order`       | No       | `string`  | Possible values: `asc` - oldest threads first, `desc` - newest threads first. Default: `desc`.                                                                                                                                                                          |
| `limit`            | No       | `number`  | The maximum number of records returned on each [page](#pagination). To limit the total number of returned records, use `filters`. Default: 3. Maximum: 100.                                                                                                             |
| `page_id`          | No       | `string`  |                                                                                                                                                                                                                                                                         |
| `min_events_count` | No       | `number`  | Specifies the minimum number of events to be returned in the response. It's the **total** number of events, so they can come from more than one thread. You'll get as many latest threads as needed to meet the `min_events_count` condition. Minimum: 1. Maximum: 100. |
| `filters`          | No       | `object`  |                                                                                                                                                                                                                                                                         |
| `filters.from`     | No       | `string`  | Date & time format compatible with RFC3339 with a resolution of microseconds: `YYYY-MM-DDTHH:MM:SS.ssssss+HH:MM`.                                                                                                                                                       |
| `filters.to`       | No       | `string`  | Date & time format compatible with RFC3339 with a resolution of microseconds: `YYYY-MM-DDTHH:MM:SS.ssssss+HH:MM`.                                                                                                                                                       |

You cannot use either `limit` and `min_events_count` or `filters` and `min_events_count` at the same time.

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/list_threads \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "chat_id": "PWJ8Y4THAV"
    }'
```

</CodeSample>

<CodeResponse>

```json
{
  "threads": [{
    "id": "K600PKZON8",
    "created_at": "2019-12-17T07:57:41.512000Z",
    "active": true,
    "user_ids": [
      "b7eff798-f8df-4364-8059-649c35c9ed0c",
      "smith@example.com"
    ],
    "events": [{
      "id": "Q20N9CKRX2_1",
      "created_at": "2019-12-17T07:57:41.512000Z",
      "visibility": "all",
      "type": "message",
      "text": "Hello",
      "author_id": "smith@example.com"
    }],
    "summary": { //optional
      "status": "ok",
      "text": "â€¢ Agent greets with a short message.",
      "updated_at": "2025-10-21T07:08:16.125000Z"
    },
    "properties": {
      // "Property" object
    },
    "access": {
      "group_ids": [0]
    },
    "previous_thread_id": "K600PKZOM8", // optional
    "next_thread_id": "K600PKZOO8", // optional
    "customer_visit": {
      "ip": "<customer_ip>",
      "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36",
      "geolocation": {
        "latitude": "-14.6973803",
        "longitude": "-75.1266898",
        "country": "Poland",
        "country_code": "PL",
        "region": "Dolnoslaskie",
        "city": "Wroclaw",
        "timezone": "Europe/Warsaw"
      }
    } // optional
  }],
  "found_threads": 42,
  "next_page_id": "MTUxNzM5ODEzMTQ5Ng==", // optional
  "previous_page_id": "MTUxNzM5ODEzMTQ5Nw==" // optional
}
```

</CodeResponse>

</Code>
</Section>

<Section>
<Text>

### Get Chat

It returns a thread that the current agent has access to in a given chat.

#### Specifics

|                        |                                                                                                    |
| ---------------------- | -------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/get_chat`                                           |
| **Required scopes**    | `chats--all:ro` **\*** or `chats--access:ro` **\*\***, depending on the requested threadâ€™s groups. |
| **RTM API equivalent** | [`get_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#get-chat)                               |
| **Webhook**            | -                                                                                                  |

**\*)** `chats--all:ro` - to get chat from any group.

**\*\*)** `chats--access:ro` - to get chat from a group that the requester (related to the token) is a member of.

#### Request

| Parameter   | Required | Data type | Notes                                   |
| ----------- | -------- | --------- | --------------------------------------- |
| `chat_id`   | Yes      | `string`  |                                         |
| `thread_id` | No       | `string`  | Default: the latest thread (if exists). |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/get_chat \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "chat_id": "PWJ8Y4THAV",
      "thread_id": "K600PKZON8"
    }'
```

</CodeSample>

<CodeResponse>

```json
{
  "id": "PJ0MRSHTDG",
  "thread": {
    "id": "K600PKZON8",
    "created_at": "2020-05-07T07:11:28.288340Z",
    "active": true,
    "user_ids": [
      "b7eff798-f8df-4364-8059-649c35c9ed0c",
      "smith@example.com"
    ],
    "events": [{
      "id": "Q20N9CKRX2_1",
      "created_at": "2019-12-17T07:57:41.512000Z",
      "visibility": "all",
      "type": "message",
      "text": "Hello",
      "author_id": "smith@example.com"
    }],
    "summary": { //optional
      "status": "ok",
      "text": "â€¢ Agent greets with a short message.",
      "updated_at": "2025-10-21T07:08:16.125000Z"
    },
    "properties": {
      "0805e283233042b37f460ed8fbf22160": {
        "string_property": "string_value"
      }
    },
    "access": {
      "group_ids": [0]
    },
    "previous_thread_id": "K600PKZOM8",
    "next_thread_id": "K600PKZOO8",
    "customer_visit": {
      "ip": "<customer_ip>",
      "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36",
      "geolocation": {
        "latitude": "-14.6973803",
        "longitude": "-75.1266898",
        "country": "Poland",
        "country_code": "PL",
        "region": "Dolnoslaskie",
        "city": "Wroclaw",
        "timezone": "Europe/Warsaw"
      }
    } // optional
  },
  "users": [{
    "id": "b7eff798-f8df-4364-8059-649c35c9ed0c",
    "type": "customer",
    "present": true,
    "created_at": "2019-12-17T08:53:20.693553+01:00",
    "statistics": {
      "chats_count": 1
    },
    "agent_last_event_created_at": "2019-12-17T09:04:05.239000+01:00"
  }, {
    "id": "smith@example.com",
    "name": "Agent Smith",
    "email": "smith@example.com",
    "type": "agent",
    "present": true,
    "avatar": "https://example.com/avatar.jpg",
    "visibility": "all"
  }],
  "properties": {
    "0805e283233042b37f460ed8fbf22160": {
      "string_property": "string_value"
    }
  },
  "access": {
    "group_ids": [0]
  },
  "is_followed": true
}
```

</CodeResponse>

</Code>
</Section>

<Section>
<Text>

### List Archives

It returns a list of the chats an agent has access to. Together with a **chat**, the **events** of **one thread** from this chat are returned.

The list classification is based on threads; 1 chat per 1 thread. Thus, the same **chat** object may appear on the list several times, but each time with a different **thread**. The returned **chat** is a complete object, not only a **chat summary**.

#### Specifics

|                        |                                                                                |
| ---------------------- | ------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/list_archives`                  |
| **Required scopes**    | `chats--all:ro` **\*** or `chats--access:ro` **\*\***                          |
| **RTM API equivalent** | [`list_archives`](/messaging/agent-chat-api/v3.6/rtm-reference/#list-archives) |
| **Webhook**            | -                                                                              |

**\*)** `chats--all:ro` - to find threads from all groups.

**\*\*)** `chats--access:ro` - to find threads from groups that the requester (related to the token) is a member of.

#### Request

| Parameter                                                        | Required | Data type | Notes                                                                                                                                                                    |
| ---------------------------------------------------------------- | -------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `filters`                                                        | No       | `object`  |                                                                                                                                                                          |
| `filters.query`                                                  | No       | `string`  |                                                                                                                                                                          |
| `filters.from`                                                   | No       | `string`  | Date & time format compatible with RFC3339 with a resolution of microseconds: `YYYY-MM-DDTHH:MM:SS.ssssss+HH:MM`.                                                        |
| `filters.to`                                                     | No       | `string`  | Date & time format compatible with RFC3339 with a resolution of microseconds: `YYYY-MM-DDTHH:MM:SS.ssssss+HH:MM`.                                                        |
| `filters.chat_ids`                                               | No       | `array`   | An array of chat IDs. Maximum array size: 1000.                                                                                                                          |
| `filters.thread_ids`                                             | No       | `array`   | An array of thread IDs. Cannot be used with other filters or pagination. Maximum array size: 20.                                                                         |
| `filters.group_ids`                                              | No       | `array`   | An array of group IDs. Maximum array size: 200.                                                                                                                          |
| `filters.properties.<namespace>.<name>.<properties_filter_type>` | No       | `any`     | **\* described below**                                                                                                                                                   |
| `filters.agents.<filter_type>`                                   | No       | `any`     | **\*\* described below** If `exists` is set to `false`: returns unassigned chats. If set to `true`: returns the assigned ones.                                           |
| `filters.tags.<filter_type>`                                     | No       | `any`     |                                                                                                                                                                          |
| `filters.sales.<filter_type>`                                    | No       | `any`     |                                                                                                                                                                          |
| `filters.goals.<filter_type>`                                    | No       | `any`     |                                                                                                                                                                          |
| `filters.surveys.<survey>`                                       | No       | `array`   | **\*\*\* described below**                                                                                                                                               |
| `filters.event_types.<event_type_filter_type>`                   | No       | `any`     | **\*\*\*\* described below**                                                                                                                                             |
| `filters.greetings.<greetings_filter_type>`                      | No       | `any`     | **\*\*\*\*\*\* described below**                                                                                                                                         |
| `filters.agent_response.<agent_response_filter_type>`            | No       | `any`     | **\*\*\*\*\*\*\* described below**                                                                                                                                       |
| `filters.customer_countries.<filter_type>`                       | No       | `any`     | Supports country codes with the `ISO 3166-1 Alpha-2` format.                                                                                                             |
| `filters.customer_id`                                            | No       | `string`  |                                                                                                                                                                          |
| `filters.customer_email`                                         | No       | `string`  |                                                                                                                                                                          |
| `page_id`                                                        | No       | `string`  |                                                                                                                                                                          |
| `sort_order` **\*\*\*\*\***                                      | No       | `string`  | Default: `desc`.                                                                                                                                                         |
| `limit`                                                          | No       | `number`  | The maximum number of records returned on each [page](#pagination). To limit the total number of returned records, use `filters`. Default: 10. Minimum: 1. Maximum: 100. |
| `highlights`                                                     | No       | `object`  | Use it to highlight the match of `filters.query`. To enable highlights with default parameters, pass an empty object.                                                    |
| `highlights.pre_tag`                                             | No       | `string`  | An HTML tag to use for highlighting the matched text. Use it together with `highlights.post_tag`. Default: `<em>`.                                                       |
| `highlights.post_tag`                                            | No       | `string`  | An HTML tag to use for highlighting the matched text. Use it together with `highlights.pre_tag`. Default: `</em>`.                                                       |

**\*)**
`<properties_filter_type>` can take the following values:

- `exists` (`bool`)
- `values` (`type[]` - an array with a specific type for property: `string`, `int` or `bool`)
- `exclude_values` (`type[]` - an array with a specific type for property: `string`, `int` or `bool`)

There's only one value allowed for a single property.

**\*\*)**
`<filter_type>` can take the following values:

- `exists` (`bool`)
- `values` (`type[]` - an array with a specific type for property: `string`, `int` or `bool`)
- `exclude_values` (`type[]` - an array with a specific type for property: `string`, `int` or `bool`)
- `require_every_value` (`bool`) - if set to `true`, will return only those chats that have all elements passed in `values` or `exclude_values`

You can pass only one of the following values at a time: `exists`, `values` or `exclude_values`.

**\*\*\*)**
`<survey>` contains the following fields:

- `from` (`string`) - date & time format compatible with RFC3339 with a resolution of microseconds: `YYYY-MM-DDTHH:MM:SS.ssssss+HH:MM`
- `to` (`string`) - date & time format compatible with RFC3339 with a resolution of microseconds: `YYYY-MM-DDTHH:MM:SS.ssssss+HH:MM`
- `exists` (`bool`) - if set to `true`, will return only surveys with `survey_id`
- `type` (`string`) - allowed values: `pre_chat`, `post_chat`
- `values` (`string[]`) - an array of answer_ids
- `exclude_values` (`string[]`) - an array of answer_ids
- `groups.values` (`int[]`) - an array of group IDs
- `groups.exclude_values` (`int[]`) - an array of group IDs

**\*\*\*\*)**
`<event_type_filter_type>` can take the following values:

- `values` (`string[]` - an array of [Event](#events) types, duplicates are ignored)
- `exclude_values` (`string[]` - an array of [Event](#events) types, duplicates are ignored)
- `require_every_value` (`bool`) - if set to `true`, will return only those chats that have all elements passed in `values` or `exclude_values`

You can pass only one of the following values at a time: `values` or `exclude_values`.

**\*\*\*\*\*)**
`sort_order` can take the following values:

- `asc` - the oldest chats first
- `desc` - the newest chats first

**\*\*\*\*\*\*)**
`<greetings_filter_type>` can take the following values:

- `from` (`string`) - Date & time format compatible with RFC3339 with a resolution of microseconds: `YYYY-MM-DDTHH:MM:SS.ssssss+HH:MM`
- `to` (`string`) - Date & time format compatible with RFC3339 with a resolution of microseconds: `YYYY-MM-DDTHH:MM:SS.ssssss+HH:MM`
- `exists` (`bool`)
- `values` (`int[]`) - an array of greeting IDs
- `exclude_values` (`int[]`) - an array of greeting IDs
- `groups.values` (`int[]`) - an array of group IDs
- `groups.exclude_values` (`int[]`) - an array of group IDs

**\*\*\*\*\*\*)**
`<agent_response_filter_type>` can take the following values:

- `exists` (`bool`)
- `first` (`bool`) - modifier that makes the other `agent_response` filters operate only on agents' first response
- `agents.values` (`string[]`) - an array of agent IDs
- `agents.exclude_values` (`string[]`) - an array of agent IDs
- `groups.values` (`int[]`) - an array of group IDs
- `groups.exclude_values` (`int[]`) - an array of group IDs

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/list_archives \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "filters": {
      "event_types": {
        "values": ["message", "filled_form"]
    }
  }
}'
```

</CodeSample>
<CodeResponse>

```json
{
  "chats": [
    {
      "id": "PJ0MRSHTDG",
      "users": [
        {
          "id": "smith@example.com",
          "name": "Agent Smith",
          "email": "smith@example.com",
          "type": "agent",
          "present": true,
          "avatar": "https://cdn.livechat-files.com/api/file/avatar.png",
          "visibility": "all"
        }
      ],
      "thread": {
        "id": "K600PKZON8",
        "active": false,
        "user_ids": [
          "smith@example.com"
        ],
        "events": [ //optional
          {
            "id": "QBT14H0Y3Y_1",
            "created_at": "2020-05-28T11:45:32.269000Z",
            "visibility": "all",
            "type": "message",
            "properties": {
              "0805e283233042b37f460ed8fbf22160": {
                "event_property": "property_value"
              }
            },
            "text": "Hello there",
            "author_id": "smith@example.com"
          }
        ],
        "summary": { //optional
          "status": "ok",
          "text": "â€¢ Agent greets with a short message.",
          "updated_at": "2025-10-21T07:08:16.125000Z"
        },
        "properties": {
          "0805e283233042b37f460ed8fbf22160": {
            "thread_property": "property_value"
          }
        },
        "access": {
          "group_ids": [
            0
          ]
        },
        "created_at": "2020-05-28T11:44:58.829000Z",
        "previous_thread_id": "K600PKZOM8", // optional
        "next_thread_id": "K600PKZOO8", // optional
        "previous_accessible_thread_id": "K600PKZOM8", // optional
        "next_accessible_thread_id": "K600PKZOO8", // optional
        "customer_visit": {
          "ip": "<customer_ip>",
          "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36",
          "geolocation": {
            "latitude": "-14.6973803",
            "longitude": "-75.1266898",
            "country": "Poland",
            "country_code": "PL",
            "region": "Dolnoslaskie",
            "city": "Wroclaw",
            "timezone": "Europe/Warsaw"
          }
        } // optional
      },
      "properties": {
        "0805e283233042b37f460ed8fbf22160": {
          "chat_property": "property_value"
        }
      },
      "access": {
        "group_ids": [
          0
        ]
      },
      "is_followed": false
    }
  ],
  "found_chats": 42,
  "next_page_id": "MTUxNzM5ODEzMTQ5Ng==",
  "previous_page_id": "MTUxNzM5ODEzMTQ5Ng=="
}

```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Start Chat

Starts a chat.

Authors (except the requester) of all initial events must be listed in the `users` field. The default `visibility` of both the events and users is set to `all` and cannot be changed.
The method updates the requester's `events_seen_up_to` as if they've seen all chat events.

#### Specifics

|                        |                                                                                          |
| ---------------------- | ---------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/start_chat`                               |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***, depending on the requested groups |
| **RTM API equivalent** | [`start_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#start-chat)                 |
| **Webhook**            | [`incoming_chat`](/management/webhooks/v3.6/#incoming_chat)                              |

**\*)** `chats--all:rw` - to start a chat in any group.

**\*\*)** `chats--access:rw` - to start a chat in groups that the requester (related to the token) is a member of.

#### Request

| Parameters               | Required | Data type  | Notes                                                                                                                                                        |
| ------------------------ | -------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `chat`                   | No       | `object`   |                                                                                                                                                              |
| `chat.properties`        | No       | `object`   |                                                                                                                                                              |
| `chat.access`            | No       | `object`   |                                                                                                                                                              |
| `chat.users`             | No       | `[]object` | The list of existing users. Up to 4 additional agents (other than the requester) and 1 customer allowed.                                                     |
| `chat.users.id`          | Yes      | `string`   | The user ID.                                                                                                                                                 |
| `chat.users.type`        | Yes      | `string`   | Possible values: `agent`, `customer`.                                                                                                                        |
| `chat.thread`            | No       | `object`   |                                                                                                                                                              |
| `chat.thread.events`     | No       | `array`    | The list of the initial chat [events](/messaging/agent-chat-api/data-structures/#events) object. Does not support the `form` type event in the LiveChat app. |
| `chat.thread.properties` | No       | `object`   |                                                                                                                                                              |
| `active`                 | No       | `bool`     | If set to `false`: creates an inactive thread. Default: `true`.                                                                                              |
| `continuous`             | No       | `bool`     | If set to `true`: starts the chat as continuous (online group is not required). Default: `false`.                                                            |

#### Response

| Field       | Data type  | Notes                                                                                                                                                                   |
| ----------- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `chat_id`   | `string`   |                                                                                                                                                                         |
| `thread_id` | `string`   |                                                                                                                                                                         |
| `event_ids` | `[]string` | Returned only when the chat was started with initial events. Returns only the IDs of user-generated events; server-side generated events are not included in the array. |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/start_chat \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>
<CodeResponse>

```json
{
  "chat_id": "PJ0MRSHTDG",
  "thread_id": "PGDGHT5G"
}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Resume Chat

Restarts an archived chat.

Authors (except the requester) of all initial events must be listed in the `users` field. The default `visibility` of both the events and users is set to `all` and cannot be changed.
The method updates the requester's `events_seen_up_to` as if they've seen all chat events.

#### Specifics

|                        |                                                                                          |
| ---------------------- | ---------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/resume_chat`                              |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***, depending on the requested groups |
| **RTM API equivalent** | [`resume_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#resume-chat)               |
| **Webhook**            | [`incoming_chat`](/management/webhooks/v3.6/#incoming_chat)                              |

**\*)** `chats--all:rw` - to resume a chat in any group.

**\*\*)** `chats--access:rw` - to resume a chat in groups that the requester (related to the token) is a member of.

#### Request

| Parameter                | Required | Data type  | Notes                                                                                                    |
| ------------------------ | -------- | ---------- | -------------------------------------------------------------------------------------------------------- |
| `chat`                   | Yes      | `object`   |                                                                                                          |
| `chat.id`                | Yes      | `string`   | The ID of the chat that will be resumed.                                                                 |
| `chat.access`            | No       | `object`   | Chat access to set. Default: all agents.                                                                 |
| `chat.properties`        | No       | `object`   | The initial chat properties.                                                                             |
| `chat.users`             | No       | `[]object` | The list of existing users. Up to 4 additional agents (other than the requester) and 1 customer allowed. |
| `chat.users.id`          | Yes      | `string`   | The user ID.                                                                                             |
| `chat.users.type`        | Yes      | `string`   | Possible values: `agent`, `customer`.                                                                    |
| `chat.thread`            | No       | `object`   |                                                                                                          |
| `chat.thread.events`     | No       | `array`    | An array of the initial chat events.                                                                     |
| `chat.thread.properties` | No       | `object`   | The initial thread properties.                                                                           |
| `active`                 | No       | `bool`     | If set to `false`: creates an inactive thread. Default: `true`.                                          |
| `continuous`             | No       | `bool`     | If set to `true`: sets a chat to the continuous mode. If not set: leaves the mode unchanged.             |

#### Response

| Field       | Data type  | Notes                                                                                                                                                                   |
| ----------- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `thread_id` | `string`   |                                                                                                                                                                         |
| `event_ids` | `[]string` | Returned only when the chat was resumed with initial events. Returns only the IDs of user-generated events; server-side generated events are not included in the array. |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/resume_chat \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "chat": {
      "id": "PWJ8Y4THAV"
      }
    }'
```

</CodeSample>
<CodeResponse>

```json
{
  "thread_id": "Z8AGR5OUW"
}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Deactivate Chat

Deactivates a chat by closing the currently open thread. Sending messages to this thread will no longer be possible.

The requester must be present on the list of chat users. You can override it by setting the `ignore_requester_presence` parameter.

#### Specifics

|                        |                                                                                          |
| ---------------------- | ---------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/deactivate_chat`                          |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***, depending on the requested groups |
| **RTM API equivalent** | [`deactivate_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#deactivate-chat)       |
| **Webhook**            | [`chat_deactivated`](/management/webhooks/v3.6/#chat_deactivated)                        |

**\*)** `chats--all:rw` - to deactivate a chat in any group.

**\*\*)** `chats--access:rw` - to deactivate a chat in groups that the agent (related to the token) is a member of.

#### Request

| Parameter                   | Required | Data type | Notes                                                                                                   |
| --------------------------- | -------- | --------- | ------------------------------------------------------------------------------------------------------- |
| `id`                        | Yes      | `string`  |                                                                                                         |
| `ignore_requester_presence` | No       | `bool`    | If set to `true`: the requester doesn't need to be present on the list of chat users. Default: `false`. |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/deactivate_chat \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "id": "PJ0MRSHTDG"
    }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Follow Chat

Marks a chat as followed. All changes to the chat will be sent to the requester until the chat is reactivated or unfollowed. Chat members don't need to follow their chats. They receive all chat pushes regardless of their follower status.

#### Specifics

|                        |                                                                                          |
| ---------------------- | ---------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/follow_chat`                              |
| **Required scopes**    | `chats--all:ro` **\*** or `chats--access:ro` **\*\***, depending on the requested groups |
| **RTM API equivalent** | [`follow_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#follow-chat)               |
| **Webhook**            | -                                                                                        |

**\*)** `chats--all:ro` - to follow chats from all groups.

**\*\*)** `chats--access:ro` - to follow chats from groups that the requester (related to the token) is a member of.

#### Request

| Parameter | Required | Data type |     |
| --------- | -------- | --------- | --- |
| `id`      | Yes      | `string`  |     |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/follow_chat \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "id": "PW94SJTGW6"
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Unfollow Chat

Removes the requester from the chat followers. After that, only key changes to the chat (like `transfer_chat` or `close_active_thread`) will be sent to the requester. Chat members cannot unfollow the chat.

#### Specifics

|                        |                                                                                |
| ---------------------- | ------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/unfollow_chat`                  |
| **Required scopes**    | -                                                                              |
| **RTM API equivalent** | [`unfollow_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#unfollow-chat) |
| **Webhook**            | -                                                                              |

#### Request

| Parameter | Required | Data type |     |
| --------- | -------- | --------- | --- |
| `id`      | Yes      | `string`  |     |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/unfollow_chat \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "id": "PJ0MRSHTDG"
  }'
```

</CodeSample>
</Code>
</Section>

## Chat access

<Section>
<Text>

### Transfer Chat

Transfers a chat to an agent or a group. The following restrictions apply:

- The transferred chat must be active.
- The requester must be present on the list of chat users.
  - You can override it by setting the `ignore_requester_presence` parameter.
- When transferring directly to an agent, the agent must have access to the transferred chat.

#### Specifics

|                        |                                                                                |
| ---------------------- | ------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/transfer_chat`                  |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                          |
| **RTM API equivalent** | [`transfer_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#transfer-chat) |
| **Webhook**            | [`chat_transferred`](/management/webhooks/v3.6/#chat_transferred)              |

**\*)** `chats--all:rw` - to transfer a chat taking place in any group.

**\*\*)** `chats--access:rw` - to transfer a chat taking place in groups that the requester (related to the token) is a member of. (The requester groups and the current groups of the chat must overlap - at least one group must be in common.)

#### Request

| Parameter                    | Required | Data type | Notes                                                                                                                                                                                  |
| ---------------------------- | -------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`                         | Yes      | `string`  | The chat ID.                                                                                                                                                                           |
| `target`                     | No       | `object`  | If missing: the chat will be transferred within the current group.                                                                                                                     |
| `target.type`                | Yes      | `string`  | Possible values: `group`, `agent`.                                                                                                                                                     |
| `target.ids`                 | Yes      | `array`   | An array of `group` or `agent` IDs.                                                                                                                                                    |
| `ignore_agents_availability` | No       | `bool`    | If set to `true`: allows the chat to be enqueued after the transfer. If set to `false`: fails when unable to immediately assign any agent from the requested groups. Default: `false`. |
| `ignore_requester_presence`  | No       | `bool`    | If set to `true`: the requester doesn't need to be present on the list of chat users. Default: `false`.                                                                                |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/transfer_chat \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "id": "PJ0MRSHTDG",
    "target": {
      "type": "group",
      "ids": [
        19
      ]
    }
  }'
```

</CodeSample>
</Code>
</Section>

## Chat users

<Section>
<Text>

### Add User to Chat

Adds a user to the chat. The following restrictions apply:

- The chat must be active.
- The requester must be present on the list of chat users.
  - You can override it by setting the `ignore_requester_presence` parameter.
- You can't have more than one `customer` in the chat.
- Additional agents must also have access to the chat.
- `customer` must be added with `visibility:all`.

To learn how to add more than one agent to the chat, reach out to us [on Discord](https://discord.gg/gRzwSaCxg4) or via email, developers@text.com.

#### Specifics

|                        |                                                                                      |
| ---------------------- | ------------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/add_user_to_chat`                     |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                |
| **RTM API equivalent** | [`add_user_to_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#add-user-to-chat) |
| **Webhook**            | [`user_added_to_chat`](/management/webhooks/v3.6/#user_added_to_chat)                |

**\*** `chats--all:rw` - to add the requester (related to the token) to a chat taking place in any group.

**\*\*)** `chats--access:rw` - to add a user to a chat taking place in groups that the user is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter                   | Required | Type     | Notes                                                                                                   |
| --------------------------- | -------- | -------- | ------------------------------------------------------------------------------------------------------- |
| `chat_id`                   | Yes      | `string` |                                                                                                         |
| `user_id`                   | Yes      | `string` |                                                                                                         |
| `user_type`                 | Yes      | `string` | Possible values: `agent`, `customer`.                                                                   |
| `visibility`                | Yes      | `string` | Possible values: `all`, `agents`.                                                                       |
| `ignore_requester_presence` | No       | `bool`   | If set to `true`: the requester doesn't need to be present on the list of chat users. Default: `false`. |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/add_user_to_chat \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "chat_id": "PW94SJTGW6",
    "user_id": "smith@example.com",
    "user_type": "agent",
    "visibility": "all",
    "ignore_requester_presence": true
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Remove User from Chat

Removes a user from chat. The following restrictions apply:

- You can't remove the `customer`.
- The requester must be present on the list of chat users.
  - You can override it by setting the `ignore_requester_presence` parameter.

#### Specifics

|                        |                                                                                                |
| ---------------------- | ---------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/remove_user_from_chat`                          |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                          |
| **RTM API equivalent** | [`remove_user_from_chat`](/messaging/agent-chat-api/v3.6/rtm-reference/#remove-user-from-chat) |
| **Webhook**            | [`user_removed_from_chat`](/management/webhooks/v3.6/#user_removed_from_chat)                  |

**\*)** `chats--all:rw` - to remove a user from a chat taking place in any group.

**\*\*)** `chats--access:rw` - to remove a user from a chat taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter                   | Required | Type     | Notes                                                                                                   |
| --------------------------- | -------- | -------- | ------------------------------------------------------------------------------------------------------- |
| `chat_id`                   | Yes      | `string` |                                                                                                         |
| `user_id`                   | Yes      | `string` |                                                                                                         |
| `user_type`                 | Yes      | `string` | Possible values: `agent`.                                                                               |
| `ignore_requester_presence` | No       | `bool`   | If set to `true`: the requester doesn't need to be present on the list of chat users. Default: `false`. |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/remove_user_from_chat \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "chat_id": "PW94SJTGW6",
    "user_id": "smith@example.com",
    "user_type": "agent"
  }'
```

</CodeSample>
</Code>
</Section>

## Events

<Section>
<Text>

### Send Event Preview

Sends an [event](/messaging/agent-chat-api/v3.6/data-structures/#events) that isn't saved in the chat. Use this method when you're preparing a longer response and want to send a partial update before sending the final message with [Send Event](/messaging/agent-chat-api/v3.6/#send-event). Only [Message](/messaging/agent-chat-api/v3.6/data-structures/#message) is supported. Visibility must be set to `all` or skipped. The user must be [added to the chat](/messaging/agent-chat-api/rtm-pushes/#user_added_to_chat) before they can send an event.

#### Specifics

|                        |                                                                                          |
| ---------------------- | ---------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/send_event_preview`                       |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                    |
| **RTM API equivalent** | [`send_event_preview`](/messaging/agent-chat-api/v3.6/rtm-reference/#send-event_preview) |
| **Webhook**            | -                                                                                        |

**\*)** `chats--all:rw` - to send an event to a chat taking place in any group.

**\*\*)** `chats--access:rw` - to send an event to a chat taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter | Required | Data type | Notes                                                                                                   |
| --------- | -------- | --------- | ------------------------------------------------------------------------------------------------------- |
| `chat_id` | Yes      | `string`  | The ID of the chat you want to send a message to.                                                       |
| `event`   | Yes      | `object`  | An [event](/messaging/agent-chat-api/data-structures/#events) object. Supports only the `message` type. |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/send_event_preview \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "chat_id": "PW94SJTGW6",
    "event": {
      "type": "message",
      "text": "Preview of a longer response...",
      "visibility": "all",
      "custom_id": "31-0C-1C-07-DB-16"
    }
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Send Event

Sends an [Event](/messaging/agent-chat-api/v3.6/data-structures/#events) object. Use this method to send a message by specifying the [Message](/messaging/agent-chat-api/v3.6/data-structures/#message) event type in the request.

The user must be [added to the chat](/messaging/agent-chat-api/rtm-pushes/#user_added_to_chat) before they can send an event.
Events with `visibility:agents` are sent to agents only, and with `visibility:all` to all users. Users with `visibility:agents` cannot send events with `visibility:all`.

The method updates the requester's `events_seen_up_to` as if they've seen all chat events.

#### Specifics

|                        |
| ---------------------- | ------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/send_event`               |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                    |
| **RTM API equivalent** | [`send_event`](/messaging/agent-chat-api/v3.6/rtm-reference/#send-event) |
| **Webhook**            | [`incoming_event`](/management/webhooks/v3.6/#incoming_event)            |

**\*)** `chats--all:rw` - to send an event to a chat taking place in any group.

**\*\*)** `chats--access:rw` - to send an event to a chat taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter | Required | Data type | Notes                                                                                                                             |
| --------- | -------- | --------- | --------------------------------------------------------------------------------------------------------------------------------- |
| `chat_id` | Yes      | `string`  | The ID of the chat you want to send a message to.                                                                                 |
| `event`   | Yes      | `object`  | An [event](/messaging/agent-chat-api/data-structures/#events) object. Does not support the `form` type event in the LiveChat app. |

#### Response

| Field      | Data type |
| ---------- | --------- |
| `event_id` | `string`  |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/send_event \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
   "chat_id": "PW94SJTGW6",
   "event": {
     "type": "message",
     "text": "hello world",
     "visibility": "all"
     }
   }'
```

</CodeSample>
<CodeResponse>

```json
{
  "event_id": "K600PKZON8"
}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Upload File

Uploads a file to the server as a temporary file. It returns a URL that expires after 24 hours unless the URL is used in [`send_event`](#send-event).

#### Specifics

|                        |                                                                      |
| ---------------------- | -------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/upload_file`          |
| **Required scopes**    | -                                                                    |
| **RTM API equivalent** | -                                                                    |
| **Webhook**            | [`incoming_event`](/management/webhooks/v3.6/#incoming_event) **\*** |

**\*)**
`incoming_event` returns a URL that never expires.

#### Request

| Parameter | Required | Data type | Notes                                               |
| --------- | -------- | --------- | --------------------------------------------------- |
| `file`    | Yes      | `binary`  | Maximum size: 10MB. Executable files are forbidden. |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/upload_file \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: multipart/form-data; boundary=--------------------------210197025774705439685896' \
  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW' \
  -F file=@/Users/MyAccount/Desktop/image.png
```

</CodeSample>
<CodeResponse>

```json
{
  "url": "https://cdn.livechat-files.com/api/file/lc/att/8948324/45a3581b59a7295145c3825c86ec7ab3/image.png"
}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Send Rich Message Postback

#### Specifics

|                        |                                                                                                          |
| ---------------------- | -------------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/send_rich_message_postback`                               |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                                    |
| **RTM API equivalent** | [`send_rich_message_postback`](/messaging/agent-chat-api/v3.6/rtm-reference/#send-rich-message-postback) |
| **Webhook**            | [`incoming_rich_message_postback`](/management/webhooks/v3.6/#incoming_rich_message_postback)**\*\*\***  |

**\*)** `chats--all:rw` - to send a postback to a chat taking place in any group.

**\*\*)** `chats--access:rw` - to send a postback to a chat taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

**\*\*\*)** `incoming_rich_message_postback` - to be sent only for active threads.

#### Request

| Parameter          | Required | Data type | Notes                            |
| ------------------ | -------- | --------- | -------------------------------- |
| `chat_id`          | Yes      | `string`  |                                  |
| `event_id`         | Yes      | `string`  |                                  |
| `postback`         | Yes      | `object`  |                                  |
| `postback.id`      | Yes      | `string`  | The postback name of the button. |
| `postback.toggled` | Yes      | `bool`    | Whether the postback is toggled. |
| `thread_id`        | Yes      | `string`  |                                  |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/send_rich_message_postback \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
   "chat_id": "PJ0MRSHTDG",
   "thread_id": "K600PKZON8",
   "event_id": "a0c22fdd-fb71-40b5-bfc6-a8a0bc3117f7",
   "postback": {
     "id": "Method URL_yes",
     "toggled": true
     }
   }'
```

</CodeSample>
</Code>
</Section>

## Properties

<Section>
<Text>

### Update Chat Properties

#### Specifics

|                        |                                                                                                  |
| ---------------------- | ------------------------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/update_chat_properties`                           |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                            |
| **RTM API equivalent** | [`update_chat_properties`](/messaging/agent-chat-api/v3.6/rtm-reference/#update-chat-properties) |
| **Webhook**            | [`chat_properties_updated`](/management/webhooks/v3.6/#chat_properties_updated)                  |

**\*)** `chats--all:rw` - to update properties in a chat taking place in any group.

**\*\*)** `chats--access:rw` - to update properties in a chat taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter    | Required | Data type | Notes                                                                                                                                                                            |
| ------------ | -------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`         | Yes      | `string`  | The ID of the chat you want to set properties for.                                                                                                                               |
| `properties` | Yes      | `object`  | The chat properties to set. You should stick to the [general properties format](/management/configuration-api/#properties) and include _namespace_, _property name_ and _value_. |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/update_chat_properties \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "id": "Q1VZR7AJCE",
  "properties": {
    "0805e283233042b37f460ed8fbf22160": {
      "string_property": "Chat property value updated by Agent"
        }
     }
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Delete Chat Properties

#### Specifics

|                        |                                                                                                  |
| ---------------------- | ------------------------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/delete_chat_properties`                           |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                            |
| **RTM API equivalent** | [`delete_chat_properties`](/messaging/agent-chat-api/v3.6/rtm-reference/#delete-chat-properties) |
| **Webhook**            | [`chat_properties_deleted`](/management/webhooks/v3.6/#chat_properties_deleted)                  |

**\*)** `chats--all:rw` - to delete properties in a chat taking place in any group.

**\*\*)** `chats--access:rw` - to delete properties in a chat taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter    | Required | Data type | Notes                                                  |
| ------------ | -------- | --------- | ------------------------------------------------------ |
| `id`         | Yes      | `string`  | The ID of the chat you want to delete properties from. |
| `properties` | Yes      | `object`  | The chat properties to delete.                         |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
  curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/delete_chat_properties \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "id": "Q1VZR7AJCE",
    "properties": {
      "0805e283233042b37f460ed8fbf22160": [
        "string_property"
        ]
      }
    }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Update Thread Properties

#### Specifics

|                        |                                                                                                      |
| ---------------------- | ---------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/update_thread_properties`                             |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                                |
| **RTM API equivalent** | [`update_thread_properties`](/messaging/agent-chat-api/v3.6/rtm-reference/#update-thread-properties) |
| **Webhook**            | [`thread_properties_updated`](/management/webhooks/v3.6/#thread_properties_updated)                  |

**\*)** `chats--all:rw` - to update properties in a thread taking place in any group.

**\*\*)** `chats--access:rw` - to update properties in a thread taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter    | Required | Data type | Notes                                                                                                                                                                            |
| ------------ | -------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `chat_id`    | Yes      | `string`  | The ID of the chat you want to set properties for.                                                                                                                               |
| `thread_id`  | Yes      | `string`  | The ID of the thread you want to set properties for.                                                                                                                             |
| `properties` | Yes      | `object`  | The chat properties to set. You should stick to the [general properties format](/management/configuration-api/#properties) and include _namespace_, _property name_ and _value_. |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.6/agent/action/update_thread_properties \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "chat_id": "Q1WZ073OA7",
    "thread_id": "Q1WZ073OB7",
    "properties": {
      "0805e283233042b37f460ed8fbf22160": {
        "string_property": "Chat thread property value updated by Agent"
        }
      }
    }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Delete Thread Properties

#### Specifics

|                        |                                                                                                      |
| ---------------------- | ---------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/delete_thread_properties`                             |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                                |
| **RTM API equivalent** | [`delete_thread_properties`](/messaging/agent-chat-api/v3.6/rtm-reference/#delete-thread-properties) |
| **Webhook**            | [`thread_properties_deleted`](/management/webhooks/v3.6/#thread_properties_deleted)                  |

**\*)** `chats--all:rw` - to delete properties in a thread taking place in any group.

**\*\*)** `chats--access:rw` - to delete properties in a thread taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter    | Required | Data type | Notes                                                    |
| ------------ | -------- | --------- | -------------------------------------------------------- |
| `chat_id`    | Yes      | `string`  | The ID of the chat you want to delete properties from.   |
| `thread_id`  | Yes      | `string`  | The ID of the thread you want to delete properties from. |
| `properties` | Yes      | `object`  | Thread properties to delete.                             |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/delete_thread_properties \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "chat_id": "Q1WZ073OA7",
  "thread_id": "Q1WZ073OB7",
  "properties": {
    "0805e283233042b37f460ed8fbf22160": [
      "string_property"
      ]
    }
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Update Event Properties

#### Specifics

|                        |                                                                                                    |
| ---------------------- | -------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/update_event_properties`                            |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                              |
| **RTM API equivalent** | [`update_event_properties`](/messaging/agent-chat-api/v3.6/rtm-reference/#update-event-properties) |
| **Webhook**            | [`event_properties_updated`](/management/webhooks/v3.6/#event_properties_updated)                  |

**\*)** `chats--all:rw` - to update properties in an event taking place in any group.

**\*\*)** `chats--access:rw` - to update properties in an event taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter    | Required | Data type | Notes                                                                                                                                                                            |
| ------------ | -------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `chat_id`    | Yes      | `string`  | The ID of the chat you want to set properties for.                                                                                                                               |
| `thread_id`  | Yes      | `string`  | The ID of the thread you want to set properties for.                                                                                                                             |
| `event_id`   | Yes      | `string`  | The ID of the event you want to set properties for.                                                                                                                              |
| `properties` | Yes      | `object`  | The chat properties to set. You should stick to the [general properties format](/management/configuration-api/#properties) and include _namespace_, _property name_ and _value_. |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/update_event_properties \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "chat_id": "Q1GZ3FNAT9",
  "thread_id": "Q1GZ3FNAU9",
  "event_id": "Q1GZ3FNAU9_1",
  "properties": {
    "0805e283233042b37f460ed8fbf22160": {
      "string_property": "Event property value updated by Agent"
      }
    }
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Delete Event Properties

#### Specifics

|                        |                                                                                                    |
| ---------------------- | -------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/delete_event_properties`                            |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                              |
| **RTM API equivalent** | [`delete_event_properties`](/messaging/agent-chat-api/v3.6/rtm-reference/#delete-event-properties) |
| **Webhook**            | [`event_properties_deleted`](/management/webhooks/v3.6/#event_properties_deleted)                  |

**\*)** `chats--all:rw` - to delete properties in an event taking place in any group.

**\*\*)** `chats--access:rw` - to delete properties in an event taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter    | Required | Data type | Notes                                                        |
| ------------ | -------- | --------- | ------------------------------------------------------------ |
| `chat_id`    | Yes      | `string`  | The ID of the chat you want to delete the properties from.   |
| `thread_id`  | Yes      | `string`  | The ID of the thread you want to delete the properties from. |
| `event_id`   | Yes      | `string`  | The ID of the event you want to delete the properties from.  |
| `properties` | Yes      | `object`  | The event properties to delete.                              |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/delete_event_properties \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "chat_id": "Q16ZSBGX3J",
  "thread_id": "Q16ZSBGX4J",
  "event_id": "Q16ZSBGX4J_1",
  "properties": {
    "0805e283233042b37f460ed8fbf22160": [
      "string_property"
      ]
    }
  }'
```

</CodeSample>
</Code>
</Section>

## Thread tags

<Section>
<Text>

### Tag Thread

Tags a given **thread**.

Read how to [list all available tags](/management/configuration-api/v3.6#list-tags) and [create a new tag](/management/configuration-api/v3.6#create-tag).

#### Specifics

|                        |                                                                          |
| ---------------------- | ------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/tag_thread`               |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                    |
| **RTM API equivalent** | [`tag_thread`](/messaging/agent-chat-api/v3.6/rtm-reference/#tag-thread) |
| **Webhook**            | [`thread_tagged`](/management/webhooks/v3.6/#thread_tagged)              |

**\*)** `chats--all:rw` - to tag a thread taking place in any group.

**\*\*)** `chats--access:rw` - to tag a thread taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter   | Required | Data type | Notes                                          |
| ----------- | -------- | --------- | ---------------------------------------------- |
| `chat_id`   | Yes      | `string`  | The ID of the chat you want to add a tag to.   |
| `thread_id` | Yes      | `string`  | The ID of the thread you want to add a tag to. |
| `tag`       | Yes      | `string`  | The tag name. It's case sensitive.             |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/tag_thread \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "chat_id": "PW94SJTGW6",
  "thread_id": "PWS6GIKAKH",
  "tag": "support"
   }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Untag Thread

Untags a given **thread**.

#### Specifics

|                        |                                                                              |
| ---------------------- | ---------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/untag_thread`                 |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                        |
| **RTM API equivalent** | [`untag_thread`](/messaging/agent-chat-api/v3.6/rtm-reference/#untag-thread) |
| **Webhook**            | [`thread_untagged`](/management/webhooks/v3.6/#thread_untagged)              |

**\*)** `chats--all:rw` - to untag a thread taking place in any group.

**\*\*)** `chats--access:rw` - to untag a thread taking place in groups that the requester (related to the token) is a member of. (The agent groups and the chat groups must overlap - at least one group must be in common.)

#### Request

| Parameter   | Required | Data type | Notes                                               |
| ----------- | -------- | --------- | --------------------------------------------------- |
| `chat_id`   | Yes      | `string`  | The ID of the chat you want to remove a tag from.   |
| `thread_id` | Yes      | `string`  | The ID of the thread you want to remove a tag from. |
| `tag`       | Yes      | `string`  | The tag name. It's case sensitive.                  |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/untag_thread \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "chat_id": "PW94SJTGW6",
  "thread_id": "PWS6GIKAKH",
  "tag": "support"
   }'
```

</CodeSample>
</Code>
</Section>

## Customers

<Section>
<Text>

### Get Customer

Returns the info about the customer with a given `id`.

#### Specifics

|                        |                                                                              |
| ---------------------- | ---------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/get_customer`                 |
| **Required scopes**    | `customers:ro`                                                               |
| **RTM API equivalent** | [`get_customer`](/messaging/agent-chat-api/v3.6/rtm-reference/#get-customer) |
| **Push message**       | -                                                                            |

#### Request

| Parameter | Required | Data type | Notes |
| --------- | -------- | --------- | ----- |
| `id`      | Yes      | string    |       |

#### Response

| Field            | Data type | Notes                                                                                                                             |
| ---------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------- |
| `id`             | string    | The [customer's](/messaging/agent-chat-api/v3.6/data-structures/#customer) ID.                                                    |
| `type`           | string    | `customer`                                                                                                                        |
| `name`           | string    | The customer's name. Returned only if set.                                                                                        |
| `email`          | string    | The customer's email. Returned only if set.                                                                                       |
| `avatar`         | string    | The customer's avatar. Returned only if set.                                                                                      |
| `phone_number`   | string    | The customer's phone number. Returned only if set.                                                                                |
| `created_at`     | string    | The date and time when the customer's identity was created.                                                                       |
| `session_fields` | []object  | An array of custom object-enclosed key-value pairs. Returned only if set. Available for the session duration.                     |
| `statistics`     | object    | Counters for started threads, opened pages, etc.                                                                                  |
| `visit`          | object    | Geolocation and opened pages from the customer's most recent online visit. Returned only if the customer logged in at least once. |
| `chat_ids`       | []string  | The IDs of the customer's chats. Returned only if the customer had at least one chat.                                             |
| `omnichannel`    | object    | An object of the customer's [omnichannel data](/messaging/agent-chat-api/data-structures/#customer).                              |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/get_customer \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "id": "b7eff798-f8df-4364-8059-649c35c9ed0c"
  }'
```

</CodeSample>
<CodeResponse>

```json
{
  "id": "b7eff798-f8df-4364-8059-649c35c9ed0c",
  "type": "customer",
  "created_at": "2017-10-11T15:19:21.010200Z",
  "name": "Thomas Anderson",
  "email": "t.anderson@example.com",
  "avatar": "example.com/avatars/1.jpg",
  "session_fields": [{
    "custom_key": "custom_value"
  }, {
    "another_custom_key": "another_custom_value"
  }],
  "visit": {
    "started_at": "2017-10-12T15:19:21.010200Z",
    "ended_at": "2017-10-12T15:20:22.010200Z",
    "referrer": "http://www.google.com/",
    "ip": "<customer_ip>",
    "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36",
    "geolocation": {
      "latitude": "-14.6973803",
      "longitude": "-75.1266898",
      "country": "Poland",
      "country_code": "PL",
      "region": "Dolnoslaskie",
      "city": "Wroclaw",
      "timezone": "Europe/Warsaw"
    },
    "last_pages": [{
      "opened_at": "2017-10-12T15:19:21.010200Z",
      "url": "https://www.livechat.com/",
      "title": "LiveChat - Homepage"
    }, {
      "opened_at": "2017-10-12T15:19:21.010200Z",
      "url": "https://www.livechat.com/tour",
      "title": "LiveChat - Tour"
    }]
  },
  "statistics": {
  "chats_count": 3,
  "threads_count": 9,
  "visits_count": 5,
  "page_views_count": 1337,
  "greetings_shown_count": 69,
  "greetings_accepted_count": 42,
  "tickets_count": 12
  },
  "__priv_lc2_customer_id": "test_771305.dafea66e5c", // old customer_id
  "agent_last_event_created_at": "2017-10-12T15:19:21.010200Z",
  "customer_last_event_created_at": "2017-10-12T15:19:21.010200Z",
  "chat_ids": [
  "PWJ8Y4THAV"
  ],
  "tickets": [{
    "ticket_id": "0c04cb99-817a-4935-9d62-137c89a74388",
    "created_at": "2017-10-12T15:19:21.010200Z"
  }]
}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Update Customer

Updates customer's properties.

#### Specifics

|                        |                                                                                                        |
| ---------------------- | ------------------------------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/update_customer`                                        |
| **Required scopes**    | `customers:rw`                                                                                         |
| **RTM API equivalent** | [`update_customer`](/messaging/agent-chat-api/v3.6/rtm-reference/#update-customer)                     |
| **Webhook**            | [`customer_session_fields_updated`](/management/webhooks/v3.6/#customer_session_fields_updated) **\*** |

**\***
The webhook will be sent only if the customer has active chats.

#### Request

| Parameter                                  | Required | Data type  | Notes                                                                            |
| ------------------------------------------ | -------- | ---------- | -------------------------------------------------------------------------------- |
| `id`                                       | Yes      | `string`   | The UUID v4 format is required.                                                  |
| `name`                                     | No       | `string`   |                                                                                  |
| `email`                                    | No       | `string`   |                                                                                  |
| `avatar`                                   | No       | `string`   | The URL of the customer's avatar.                                                |
| `phone_number`                             | No       | `string`   | E.164 format.                                                                    |
| `session_fields`                           | No       | `[]object` | An array of custom object-enclosed key-value pairs. Respects the order of items. |
| `omnichannel`                              | No       | `object`   |                                                                                  |
| `omnichannel.fbmessenger`                  | No       | `object`   |                                                                                  |
| `omnichannel.fbmessenger.id`               | Yes      | `string`   | Required only when `omnichannel.fbmessenger` is included.                        |
| `omnichannel.fbmessenger.name`             | No       | `string`   |                                                                                  |
| `omnichannel.fbmessenger.first_name`       | No       | `string`   |                                                                                  |
| `omnichannel.fbmessenger.last_name`        | No       | `string`   |                                                                                  |
| `omnichannel.fbmessenger.profile_pic`      | No       | `string`   |                                                                                  |
| `omnichannel.fbmessenger.gender`           | No       | `string`   |                                                                                  |
| `omnichannel.fbmessenger.locale`           | No       | `string`   |                                                                                  |
| `omnichannel.fbmessenger.is_verified_user` | No       | `bool`     |                                                                                  |
| `omnichannel.twilio`                       | No       | `object`   |                                                                                  |
| `omnichannel.twilio.phone_number`          | Yes      | `string`   | Required only when `omnichannel.twilio` is included.                             |

Apart from `id`, which is a required parameter, you also need to include **one of the optional** parameters.

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/update_customer \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "id": "b7eff798-f8df-4364-8059-649c35c9ed0c",
    "name": "Thomas Anderson",
    "email": "t.anderson@example.com",
    "avatar": "https://example.com/avatars/1.png",
    "session_fields": [{
    "custom_key": "custom_value"
    }, {
    "another_custom_key": "another_custom_value"
    }]
  }'
```

</CodeSample>
<CodeResponse>

```json
{}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Ban Customer

Bans the customer for a specific period of time. It immediately disconnects all active sessions of this customer and does not accept new ones during the ban lifespan.

#### Specifics

|                        |                                                                              |
| ---------------------- | ---------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/ban_customer`                 |
| **Required scopes**    | `customers.ban:rw`                                                           |
| **RTM API equivalent** | [`ban_customer`](/messaging/agent-chat-api/v3.6/rtm-reference/#ban-customer) |
| **Webhook**            | -                                                                            |

#### Request

| Parameter  | Required | Data type |     |
| ---------- | -------- | --------- | --- |
| `id`       | Yes      | `string`  |     |
| `ban`      | Yes      | `object`  |     |
| `ban.days` | Yes      | `number`  |     |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/ban_customer \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
   "id": "b7eff798-f8df-4364-8059-649c35c9ed0c",
   "ban": {
     "days": 3
     }
   }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Follow Customer

Marks a customer as followed. As a result, the requester (an agent) will receive the info about all the changes related to that customer via pushes. Once the customer leaves the website or is [unfollowed](#unfollow-customer), the agent will no longer receive that information.

Following a customer causes the agent to receive customer-related pushes as long as the followed customer is available. The followed customer may be transferred to a group the agent doesn't have access to, which makes the customer unavailable to the agent. At that moment, the agent stops receiving pushes related to that customer. When the customer is transferred back and becomes available again, the pushes resume.

Agents don't need to follow the customers they're chatting with in order to receive related pushes. Agents will be receiving pushes related to those customers as long as the chats last.

#### Specifics

|                        |                                                                                    |
| ---------------------- | ---------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/follow_customer`                    |
| **Required scopes**    | `customers:ro`                                                                     |
| **RTM API equivalent** | [`follow_customer`](/messaging/agent-chat-api/v3.6/rtm-reference/#follow-customer) |
| **Webhook**            | -                                                                                  |

#### Request

| Parameter | Required | Data type |     |
| --------- | -------- | --------- | --- |
| `id`      | Yes      | `string`  |     |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/follow_customer \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
   "id": "b7eff798-f8df-4364-8059-649c35c9ed0c"
   }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Unfollow Customer

Removes the agent from the list of customer's followers. Calling this method on a customer the agent's chatting with will result in success, however, the agent will still receive pushes about the customer's data updates. The unfollowing will take effect once the chat ends.

#### Specifics

|                        |                                                                                        |
| ---------------------- | -------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/unfollow_customer`                      |
| **Required scopes**    | -                                                                                      |
| **RTM API equivalent** | [`unfollow_customer`](/messaging/agent-chat-api/v3.6/rtm-reference/#unfollow-customer) |
| **Webhook**            | -                                                                                      |

#### Request

| Parameter | Required | Data type |     |
| --------- | -------- | --------- | --- |
| `id`      | Yes      | `string`  |     |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/unfollow_customer \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
   "id": "b7eff798-f8df-4364-8059-649c35c9ed0c"
   }'
```

</CodeSample>
</Code>
</Section>

## Status

<Section>
<Text>

### Set Routing Status

Changes the status of an agent or a bot agent.

#### Specifics

|                        |                                                                                                                                                      |
| ---------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/set_routing_status`                                                                                   |
| **Required scopes**    | for Agents: `agents--my:rw` **\*** or `agents--all:rw` **\*\***; for bot agents: `agents-bot--my:rw` **\*\*\*** or `agents-bot--all:rw` **\*\*\*\*** |
| **RTM API equivalent** | [`set_routing_status`](/messaging/agent-chat-api/v3.6/rtm-reference/#set-routing-status)                                                             |
| **Webhook**            | [`routing_status_set`](/management/webhooks/v3.6/#routing_status_set)                                                                                |

**\*)** `agents--my:rw` - to set my routing status.

**\*\*)** `agents--all:rw` - to set the routing status of any agent within a license.

**\*\*\*)** `agents-bot--my:rw` - to set the routing status of bots that belong to the `client_id` related to the token (within a license).

**\*\*\*\*)** `agents-bot--all:rw` - to set the routing status of any bots within a license.

#### Request

| Parameter  | Required | Data type | Notes                                                                                                                           |
| ---------- | -------- | --------- | ------------------------------------------------------------------------------------------------------------------------------- |
| `status`   | Yes      | `string`  | For agents: `accepting_chats` or `not_accepting_chats`. For bot agents: `accepting_chats`, `not_accepting_chats`, or `offline`. |
| `agent_id` | No       | `string`  | If not specified, the requester's status will be updated.                                                                       |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/set_routing_status \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "status": "accepting_chats",
    "agent_id": "smith@example.com"
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### List Routing Statuses

Returns the current routing status of each agent selected by the provided filters.

#### Specifics

|                        |                                                                                                |
| ---------------------- | ---------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/list_routing_statuses`                          |
| **Required scopes**    | `agents--all:ro` **\*** and `agents-bot--all:ro` **\*\***                                      |
| **RTM API equivalent** | [`list_routing_statuses`](/messaging/agent-chat-api/v3.6/rtm-reference/#list-routing-statuses) |
| **Webhook**            | -                                                                                              |

**\*)** `agents--all:ro` - to list statuses of agents.

**\*\*)** `agents-bot--all:ro` - to list statuses of bots.

#### Request

| Parameter           | Required | Type     | Notes |
| ------------------- | -------- | -------- | ----- |
| `filters`           | No       | `object` |       |
| `filters.group_ids` | No       | `array`  |       |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/list_routing_statuses \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "filters": {
      "group_ids": [
        0
      ]
    }
  }'
```

</CodeSample>
<CodeResponse path={'RESPONSE'}>

```shell
[{
  "agent_id": "smith@example.com",
  "status": "accepting_chats"
}, {
  "agent_id": "agent@example.com",
  "status": "not_accepting_chats"
}]
```

</CodeResponse>
</Code>
</Section>

## Other

<Section>
<Text>

### Mark Events as Seen

It marks an agentâ€™s events up to a specific time as read in a customerâ€™s chat window.

#### Specifics

|                        |                                                                                            |
| ---------------------- | ------------------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/mark_events_as_seen`                        |
| **Required scopes**    | `chats--all:ro` **\*** or `chats--access:ro` **\*\***                                      |
| **RTM API equivalent** | [`mark_events_as_seen`](/messaging/agent-chat-api/v3.6/rtm-reference/#mark-events-as-seen) |
| **Webhook**            | [`events_marked_as_seen`](/management/webhooks/v3.6/#events_marked_as_seen)                |

**\*)** `chats--all:ro` - to mark events as seen in a chat taking place in any group.

**\*\*)** `chats--access:ro` - to mark events as seen in a chat taking place in groups that the requester (related to the token) is a member of (the agent groups and the chat groups must intersect - at least one group must be common).

#### Request

| Parameter    | Required | Data type | Notes                          |
| ------------ | -------- | --------- | ------------------------------ |
| `chat_id`    | Yes      | `string`  |                                |
| `seen_up_to` | Yes      | `string`  | The RFC 3339 date-time format. |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/mark_events_as_seen \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
   "chat_id": "PJ0MRSHTDG",
   "seen_up_to": "2017-10-12T15:19:21.010200Z"
   }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Send Thinking Indicator

#### Specifics

|                        |                                                                                                    |
| ---------------------- | -------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/send_thinking_indicator`                            |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                              |
| **RTM API equivalent** | [`send_thinking_indicator`](/messaging/agent-chat-api/v3.6/rtm-reference/#send-thinking-indicator) |
| **Webhook**            | -                                                                                                  |

**\*)** `chats--all:rw` - to send the thinking indicator to a chat taking place in any group.

**\*\*)** `chats--access:rw` - to send the thinking indicator to a chat taking place in groups that the requester (related to the token) is a member of (the agent groups and the chat groups must intersect - at least one group must be common).

#### Request

| Parameter     | Required | Data type | Notes                                                 |
| ------------- | -------- | --------- | ----------------------------------------------------- |
| `chat_id`     | Yes      | `string`  | The ID of the chat to send the thinking indicator to. |
| `title`       | No       | `string`  |                                                       |
| `description` | No       | `string`  |                                                       |
| `visibility`  | No       | `string`  | Possible values: `all`, `agents`. Default: `all`.     |
| `custom_id`   | No       | `string`  |                                                       |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/send_thinking_indicator \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "chat_id": "PJ0MRSHTDG",
    "title": "Thinking...",
    "description": "Fetching data from the Billing API...",
    "visibility": "all",
    "custom_id": "31-0C-1C-07-DB-16"
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Send Typing Indicator

#### Specifics

|                        |                                                                                                |
| ---------------------- | ---------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/send_typing_indicator`                          |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                          |
| **RTM API equivalent** | [`send_typing_indicator`](/messaging/agent-chat-api/v3.6/rtm-reference/#send-typing-indicator) |
| **Webhook**            | -                                                                                              |

**\*)** `chats--all:rw` - to send the typing indicator to a chat taking place in any group.

**\*\*)** `chats--access:rw` - to send the typing indicator to a chat taking place in groups that the requester (related to the token) is a member of (the agent groups and the chat groups must intersect - at least one group must be common).

#### Request

| Parameter    | Required | Data type | Notes                                               |
| ------------ | -------- | --------- | --------------------------------------------------- |
| `chat_id`    | Yes      | `string`  | The ID of the chat to send the typing indicator to. |
| `visibility` | No       | `string`  | Possible values: `all`, `agents`. Default: `all`.   |
| `is_typing`  | Yes      | `bool`    |                                                     |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/send_typing_indicator \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
   "chat_id": "PJ0MRSHTDG",
   "is_typing": true
   }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Multicast

This method serves for the **chat-unrelated communication**. Messages sent using `multicast` are not being saved.

For example, it could be used in an app that sends notifications to Agents or Customers, when a certain condition is met (e.g. an important customer started the chat).

#### Specifics

|                        |                                                                        |
| ---------------------- | ---------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/multicast`              |
| **Required scopes**    | `multicast:rw`                                                         |
| **RTM API equivalent** | [`multicast`](/messaging/agent-chat-api/v3.6/rtm-reference/#multicast) |
| **Webhook**            | -                                                                      |

#### Request

| Parameter    | Required | Data type | Notes                       |
| ------------ | -------- | --------- | --------------------------- |
| `recipients` | Yes      | `object`  | **\***                      |
| `content`    | Yes      | `any`     | A JSON message to be sent.  |
| `type`       | No       | `string`  | The multicast message type. |

**\*)** `recipients` can take the following values:

- `agents`:

  - `all` (`bool` - includes all agents)
  - `ids` (`[]string` - an array of agents' IDs)
  - `groups` (`[]string` - an array of groups' IDs)

- `customers`:
  - `ids` (`[]string` - an array of customer's IDs)

At least one `recipients` type (`agents.all`, `agents.ids`, `agents.groups`, `customers.ids`) is required.

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/multicast \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
    "recipients": {
    "agents": {
      "all": true,
      "ids": [
      "smith@example.com",
      "agent@example.com"
      ],
      "groups": [
      1,
      2
      ]
    },
    "customers": {
      "ids": [
      "b7eff798-f8df-4364-8059-649c35c9ed0c"
      ]
    }
    },
    "content": {
    "example": {
      "nested": "json"
    }
    }
  }'
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### List Agents For Transfer

It returns the Agents you can transfer a chat to. Agents are sorted ascendingly by the total number of active chats they have. Note that:

- The method only returns Agents with statuses **online** and **not accepting chats**. Offline Agents aren't returned.
- Only chats **with Customers** are taken into account in `total_active_chats`.

#### Specifics

|                        |                                                                                                      |
| ---------------------- | ---------------------------------------------------------------------------------------------------- |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/list_agents_for_transfer`                             |
| **Required scopes**    | -                                                                                                    |
| **RTM API equivalent** | [`list_agents_for_transfer`](/messaging/agent-chat-api/v3.6/rtm-reference/#list-agents-for-transfer) |
| **Webhook**            | -                                                                                                    |

#### Request

| Parameter | Required | Data type | Notes                                    |
| --------- | -------- | --------- | ---------------------------------------- |
| `chat_id` | Yes      | `string`  | The ID of the chat you want to transfer. |

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/list_agents_for_transfer \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "chat_id": "PJ0MRSHTDG"
  }'
```

</CodeSample>
<CodeResponse path={'RESPONSE'}>

```shell
[{
  "agent_id": "smith@example.com",
  "total_active_chats": 2
}, {
  "agent_id": "agent@example.com",
  "total_active_chats": 5
}]
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Request Thread Summary

Requests an AI-generated summary of a specific thread. A thread can be summarized only once, and the summary can be requested only for inactive threads.

#### Specifics

|                        |                                                                                                  |
| ---------------------- | ------------------------------------------------------------------------------------------------ |
| **Method URL**         | `https://api.livechatinc.com/v3.6/agent/action/request_thread_summary`                           |
| **Required scopes**    | `chats--all:rw` **\*** or `chats--access:rw` **\*\***                                            |
| **RTM API equivalent** | [`request_thread_summary`](/messaging/agent-chat-api/v3.6/rtm-reference/#request-thread-summary) |
| **Webhook**            | [`thread_summary_set`](/management/webhooks/v3.6/#thread_summary_set)                            |

**\*)** `chats--all:rw` - to request a summary for a thread taking place in any group.

**\*\*)** `chats--access:rw` - to request a summary for a thread taking place in groups that the requester (related to the token) is a member of. The agent groups and the chat groups must overlap - at least one group must be in common.

#### Request

| Parameter   | Required | Data type | Notes |
| ----------- | -------- | --------- | ----- |
| `chat_id`   | Yes      | `string`  |       |
| `thread_id` | Yes      | `string`  |       |

#### Response

No response payload (`200 OK`).

</Text>
<Code>
<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
https://api.livechatinc.com/v3.6/agent/action/request_thread_summary \
-H 'Authorization: Bearer <your_access_token>' \
-H 'Content-Type: application/json' \
-d '{
  "chat_id": "PJ0MRSHTDG",
  "thread_id": "K600PKZON8"
  }'
```

</CodeSample>
</Code>
</Section>

# Webhooks

Here's what you need to know about **webhooks**:

- Webhooks notify you when specific events are triggered.
- They can be generated by both Web and RTM API actions.
- When using RTM API, you can be also notified about events with [pushes](/messaging/agent-chat-api/rtm-pushes).
- Webhooks and pushes have similar payloads.
- There's a limit of three weebhoks for every action a Client ID can register.

You can create and manage webhooks via the [Configuration API](/management/configuration-api/#webhooks).

<SectionLink to={"/management/configuration-api/v3.6/#webhooks"}>See webhook methods</SectionLink>
<SectionLink to={"/management/webhooks/v3.6/"}>See webhook payloads</SectionLink>

# Errors

<CodeResponse title={'Format of error payload'}>

```json
{
  "error": {
    "type": "misdirected_request",
    "message": "Wrong region",
    "data": {
      // optional
      "region": "dal"
    }
  }
}
```

</CodeResponse>

## Possible errors

<Errors errors="agent_offline,authentication,authorization,chat_inactive,entity_too_large,internal,license_expired,license_not_found,limit_reached,misdirected_request,missing_access,not_found,request_timeout,service_unavailable,too_many_requests,unsupported_version,validation,wrong_product_version"/>

# Contact us

If you found a bug or a typo, you can let us know directly on GitHub.
In case of any questions or feedback, don't hesitate to contact us at [developers@text.com](mailto:developers@text.com). We'll be happy to hear from you!

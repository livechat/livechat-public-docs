---
weight: 10
category: "management"
subcategory: "configuration-api"
title: "Configuration API"
subtitle: "Commands & Methods List"
tagline: "Set up webhooks, create Bots or properties."
desc: "Reach out for the Configuration API to create Bots, webhooks, or properties. Check types of features and available methods."
apiVersion: "3.7"
robots: "noindex"
---

import { openChatWindow } from "utils/index";

# Introduction

Configuration API is a service for storing configuration of license. You can set up here different types of features such as properties or webhooks.

## Versioning

This document describes the **Configuration API v3.7**. This is the developer preview version that provides a preview of the upcoming changes to the API. **It's not open to public use.** However, if you want to test some features, contact us at developers@text.com or <a href="#open-chat" onClick={openChatWindow}>ask on the chat</a>, and we'll give you access. [Read more about versioning...](/management/#api-versioning)

## Authentication

Authentication for Configuration API is handled by access tokens. Find out how to get an access token from [agent authorization flows](/authorization/agent-authorization/). If a method requires particular authorization scopes, you’ll find them included in the method description. Each request should contain the `Authorization: Bearer <your_access_token>` header.

## Propagation delay

All configurations set by this API will have action in system after max 2 minutes. This delay will be removed in the future.

# Methods

## Available methods

|                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Agents**           | [`create_agent`](#create-agent) [`get_agent`](#get-agent) [`list_agents`](#list-agents) [`update_agent`](#update-agent) [`delete_agent`](#delete-agent) [`suspend_agent`](#suspend-agent) [`unsuspend_agent`](#unsuspend-agent) [`request_agent_unsuspension`](#request-agent-unsuspension) [`approve_agent`](#approve-agent)                                                                                                                                                                                               |
| **Allowed domains**  | [`add_allowed_domain`](#add-allowed-domain) [`list_allowed_domains`](#list-allowed-domains) [`delete_allowed_domain`](#delete-allowed-domain)                                                                                                                                                                                                                                                                                                                                                                               |
| **Auto access**      | [`add_auto_access`](#add-auto-access) [`list_auto_access`](#list-auto-access) [`delete_auto_access`](#delete-auto-access) [`update_auto_access`](#update-auto-access)                                                                                                                                                                                                                                                                                                                                                       |
| **Bots**             | [`create_bot_template`](#create-bot-template) [`create_bot`](#create-bot) [`delete_bot_template`](#delete-bot-template) [`delete_bot`](#delete-bot) [`update_bot_template`](#update-bot-template) [`update_bot`](#update-bot) [`list_bot_templates`](#list-bot-templates) [`get_bot`](#get-bot) [`list_bots`](#list-bots) [`issue_bot_token`](#issue-bot-token) [`reset_bot_template_secret`](#reset-bot-template-secret) [`reset_bot_secret`](#reset-bot-secret)                                                           |
| **Customer bans**    | [`list_customer_bans`](#list-customer-bans) [`unban_customer`](#unban-customer)                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **Greetings**        | [`create_greeting`](#create-greeting), [`update_greeting`](#update-greeting), [`delete_greeting`](#delete-greeting), [`list_greetings`](#list-greetings), [`get_greeting`](#get-greeting)                                                                                                                                                                                                                                                                                                                                   |
| **Groups**           | [`create_group`](#create-group) [`get_group`](#get-group) [`list_groups`](#list-groups) [`update_group`](#update-group) [`delete_group`](#delete-group)                                                                                                                                                                                                                                                                                                                                                                     |
| **Properties**       | [`register_properties`](#register-properties) [`unregister_properties`](#unregister-properties) [`publish_properties`](#publish-properties) [`list_properties`](#list-properties) [`update_license_properties`](#update-license-properties) [`delete_license_properties`](#delete-license-properties) [`list_license_properties`](#list-license-properties) [`update_group_properties`](#update-group-properties) [`delete_group_properties`](#delete-group-properties) [`list_groups_properties`](#list-groups-properties) |
| **Tags**             | [`create_tag`](#create-tag) [`delete_tag`](#delete-tag) [`list_tags`](#list-tags) [`update_tag`](#update-tag)                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Webhooks**         | [`register_webhook`](#register-webhook) [`list_webhooks`](#list-webhooks) [`unregister_webhook`](#unregister-webhook) [`list_webhook_names`](#list-webhook-names) [`enable_license_webhook`](#enable-license-webhooks) [`disable_license_webhook`](#disable-license-webhooks) [`get_license_webhooks_state`](#get-license-webhooks-state)                                                                                                                                                                                   |
| **Canned responses** | [`create_canned_response`](#create-canned-response) [`list_canned_responses`](#list-canned-responses) [`update_canned_response`](#update-canned-response) [`delete_canned_response`](#delete-canned-response)                                                                                                                                                                                                                                                                                                               |
| **Translations**     | [`list_translations`](#list-translations) [`update_translations`](#update-translations)                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Other**            | [`list_channels`](#list-channels) [`check_product_limits_for_plan`](#check-product-limits-for-plan) [`reactivate_email`](#reactivate-email) [`update_company_details`](#update-company-details)                                                                                                                                                                                                                                                                                                                             |

## Batch requests

Batch requests make it possible to execute one method multiple times with different payloads, all in a single request.

Each request in a batch is executed concurrently – there's no guarantee regarding the execution order. The response for each method is returned in an array in the same order as in the batch request. It's not possibile to mix different methods in a single batch request, for example Create agent and Update agent. Batch requests require the same scopes as their non-batch equivalents.

### Request

| Parameter  | Required | Data type | Notes                                                          |
| ---------- | -------- | --------- | -------------------------------------------------------------- |
| `requests` | yes      | `array`   | Array of request objects of the corresponding non-batch method |

<Code>

<CodeResponse title='Format of request payload'>

```json
{
  "requests": [
    {<request object>},
    {<another request object>},
    ...
  ]
}
```

</CodeResponse>

</Code>

### Response

| Field       | Notes                                                                                                                          |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------ |
| `responses` | Array of response objects or [errors](#errors) of the corresponding non-batch method. The order is the same as in the request. |

<Code>

<CodeResponse title='Format of response payload'>

```json
{
  "responses": [
    {<response object or error>},
    {<another response object or error>},
    ...
  ]
}
```

</CodeResponse>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/batch_delete_agents \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "requests": [
          {
            "id": "smith@example.com"
          },
          {
            "id": "brown@example.com"
          },
          {}
        ]
      }'
```

</CodeSample>

<CodeResponse>

```json
{
  "responses": [
    {},
    {},
    {
      "error": {
        "type": "validation",
        "message": "`id` is required"
      }
    }
  ]
}
```

</CodeResponse>

</Code>

### Methods with batch support

#### Batch support for Agents

| Method                              | Batch method URL                                                               |
| ----------------------------------- | ------------------------------------------------------------------------------ |
| [Create Agent](#create-agent)       | `https://api.livechatinc.com/v3.7/configuration/action/batch_create_agents`    |
| [Update Agent](#update-agent)       | `https://api.livechatinc.com/v3.7/configuration/action/batch_update_agents`    |
| [Delete Agent](#delete-agent)       | `https://api.livechatinc.com/v3.7/configuration/action/batch_delete_agents`    |
| [Suspend Agent](#suspend-agent)     | `https://api.livechatinc.com/v3.7/configuration/action/batch_suspend_agents`   |
| [Unsuspend Agent](#unsuspend-agent) | `https://api.livechatinc.com/v3.7/configuration/action/batch_unsuspend_agents` |
| [Approve Agent](#approve-agent)     | `https://api.livechatinc.com/v3.7/configuration/action/batch_approve_agents`   |

#### Batch support for Bots

| Method                    | Batch method URL                                                          |
| ------------------------- | ------------------------------------------------------------------------- |
| [Create Bot](#create-bot) | `https://api.livechatinc.com/v3.7/configuration/action/batch_create_bots` |
| [Update Bot](#update-bot) | `https://api.livechatinc.com/v3.7/configuration/action/batch_update_bots` |
| [Delete Bot](#delete-bot) | `https://api.livechatinc.com/v3.7/configuration/action/batch_delete_bots` |

#### Batch support for Translations

| Method                                      | Batch method URL                                                                  |
| ------------------------------------------- | --------------------------------------------------------------------------------- |
| [Update Translations](#update-translations) | `https://api.livechatinc.com/v3.7/configuration/action/batch_update_translations` |

# Agents

An agent is a type of user who communicates with customers. You can look up the sample agent data structure in the [response of Get Agent](#get-agent).

## Methods

| HTTP method | The Agents API endpoint                                          |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.7/configuration/action/<action>` |

| Required header | Value              |
| --------------- | ------------------ |
| `Content-Type`  | `application/json` |

<Section>

<Text>

### Create Agent

Creates a new agent with specified parameters within a license.

#### Specifics

|                                  |                                                                                                                                                         |
| -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/create_agent`                                                                                    |
| Required scopes                  | `accounts--all:rc` `accounts--all:rw`<sup>**1**</sup> `subscription.lc:rw`<sup>**1**</sup> <sup>**2**</sup> `accounts.roles.lc--all:rw`<sup>**3**</sup> |
| [Batch support](#batch-requests) | Yes                                                                                                                                                     |

**1)** To create agents who don't have to wait for approval after creation<br/>
**2)** `subscription.lc:rw` is a private scope; it's not possible to configure it in Developer Console.<br/>
**3)** To create an agent with role higher than `normal` (`administrator`, `viceowner` or `owner`)

#### Request

| Parameter                             | Data type  | Required | Notes                                                                                                                                                     |
| ------------------------------------- | ---------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`                                  | `string`   | Yes      | The agent ID.                                                                                                                                             |
| `name`                                | `string`   | Yes      | The agent name.                                                                                                                                           |
| `role`                                | `string`   | No       | The agent role. Possible values: `viceowner`, `administrator`, `normal`. Default: `normal`.                                                               |
| `login_status`                        | `string`   | No       | The agent's default status right after the login. Possible values: `accepting chats`, `not accepting chats`. Default: `not accepting chats`.              |
| `job_title`                           | `string`   | No       | The agent's job title.                                                                                                                                    |
| `mobile`                              | `string`   | No       | The agent's mobile number.                                                                                                                                |
| `max_chats_count`                     | `int`      | No       | The agent's maximum number of concurrent chats. Maximum: 20. Default: 6.                                                                                  |
| `awaiting_approval`                   | `bool`     | No       | If set to `true`, the agent will be awaiting approval after creation. Only a requester with the `subscription.lc:rw` scope can set this value to `false`. |
| `groups`                              | `object[]` | No       | The groups the agent belongs to.                                                                                                                          |
| `groups[].id`                         | `uint`     | Yes      | The group ID. Required only when `group` is included.                                                                                                     |
| `groups[].priority`<sup>**3**</sup>   | `string`   | Yes      | The agent's priority in a group. Required only when `group` is included.                                                                                  |
| `notifications`<sup>**4**</sup>       | `string[]` | No       | The agent notifications that are enabled.                                                                                                                 |
| `email_subscriptions`<sup>**5**</sup> | `string[]` | No       | The subscriptions that will be sent to the agent via email.                                                                                               |
| `work_scheduler`                      | `object`   | No       | The work scheduler options to set for the new agent.                                                                                                      |
| `work_scheduler.timezone`             | `string`   | Yes      | The timezone for the work scheduler. Falls back to the agent's timezone if empty. Required only when `schedule` is not empty.                             |
| `work_scheduler.schedule`             | `object[]` | Yes      | A list of the agent's working hours.                                                                                                                      |
| `work_scheduler.schedule[].day`       | `string`   | Yes      | The day for which the working hours are set. Possible values: `sunday`, `monday`, `tuesday`, `wednesday`, `thursday`, `friday`, `saturday`.               |
| `work_scheduler.schedule[].enabled`   | `bool`     | Yes      | If set to `true`, the given set of working hours is enabled.                                                                                              |
| `work_scheduler.schedule[].start`     | `string`   | Yes      | The time when the working hours start.                                                                                                                    |
| `work_scheduler.schedule[].end`       | `string`   | Yes      | The time when the working hours end.                                                                                                                      |

**3)** Possible values for the `groups[].priority` parameter:

| Possible value | Notes                                                                                                                                                                                                                                                                               |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Agents with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular agents. Corresponds to the **bot** priority option in the LiveChat App.                                                     |
| `normal`       | The medium chat routing priority. Agents with the `normal` priority get chats before those with the `last` priority, when there are no agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`         | The lowest chat routing priority. Agents with the `last` priority get chats when there are no agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                            |
| `supervisor`   | Agents with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                |

**4)** Possible values for the `notifications` array:

- `new_visitor`
- `incoming_chat`
- `returning_visitor`
- `queued_visitor`
- `visitor_is_typing`
- `new_goal`
- `unassigned_chats`
- `unassigned_chat_messages`
- `ticket`
- `inactive_notifications`
- `mute_all_sounds`
- `repeat_sound_notifications`
- `ticket_notifications`
- `incoming_message_for_focused_chat`

**5)** Possible values for the `email_subscriptions` array:

- `daily_summary`
- `weekly_summary`

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/create_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com",
        "name": "Agent Smith",
        "role": "viceowner",
        "groups": [
          {
            "id": 5,
            "priority": "first"
          },
          {
            "id": 2,
            "priority": "last"
          },
          {
            "id": 1,
            "priority": "normal"
          }
        ],
       "work_scheduler": {
        "schedule": [
            {
                "day": "monday",
                "start": "08:00",
                "end": "12:30",
                "enabled": true
            },
            {
                "day": "monday",
                "start": "13:30",
                "end": "16:00",
                "enabled": true
            },
            {
                "day": "friday",
                "start": "08:00",
                "end": "16:00",
                "enabled": true
            }
        ],
        "timezone": "Europe/Warsaw"
    },
        "notifications": [
          "new_visitor",
          "new_goal",
          "visitor_is_typing"
        ],
        "email_subscriptions": [
          "weekly_summary"
        ]
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="createAgent"/>

</Code>

</Section>

<Section>

<Text>

### Get Agent

It returns the info about an agent specified by `id`.

#### Specifics

|                                  |                                                                   |
| -------------------------------- | ----------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/get_agent` |
| Required scopes                  | `agents--my:ro` `agents--all:ro`                                  |
| [Batch support](#batch-requests) | No                                                                |

#### Request

| Parameter                | Type       | Required | Notes                             |
| ------------------------ | ---------- | -------- | --------------------------------- |
| `id`                     | `string`   | Yes      | The agent ID.                     |
| `fields`<sup>**1**</sup> | `string[]` | No       | The additional fields to include. |

**1)** Possible values for the `fields[]` parameter:

| Possible value        | Notes                                                                                      |
| --------------------- | ------------------------------------------------------------------------------------------ |
| `work_scheduler`      | The work scheduler object for an agent. See [**Create Agent**](#create-agent) for details. |
| `groups`              | Groups the agent belongs to.                                                               |
| `email_subscriptions` | A list of the agent's active subscriptions.                                                |
| `notifications`       | A list of the agent's enabled notifications.                                               |
| `job_title`           | The agent's job title.                                                                     |
| `mobile`              | The agent's mobile number.                                                                 |
| `max_chats_count`     | The agent's maximum number of concurrent chats.                                            |
| `suspended`           | If set to `true`, the agent is suspended.                                                  |
| `awaiting_approval`   | If set to `true`, the agent is awaiting approval.                                          |
| `last_logout`         | The RFC 3339 date-time of the last logout of the agent. Omitted when no logout occurred.   |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/get_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="getAgent"/>

</Code>

</Section>

<Section>

<Text>

### List Agents

Returns all agents within a license.

#### Specifics

|                                  |                                                                     |
| -------------------------------- | ------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_agents` |
| Required scopes                  | `agents--all:ro`                                                    |
| [Batch support](#batch-requests) | No                                                                  |

#### Request

| Parameter                | Required | Type       | Notes                                                                                                        |
| ------------------------ | -------- | ---------- | ------------------------------------------------------------------------------------------------------------ |
| `filters`                | No       | `object`   | The possible request filters.                                                                                |
| `filters.group_ids`      | No       | `int[]`    | The IDs of the groups from which you want to list agents. Returns only the agents from the specified groups. |
| `filters.suspended`      | No       | `bool`     | If provided, returns only those agents who have the same `suspended` field value.                            |
| `fields`<sup>**1**</sup> | No       | `string[]` | The additional agent fields to include.                                                                      |

**1)** Possible values for the `fields[]` parameter:

| Possible value        | Notes                                                                                      |
| --------------------- | ------------------------------------------------------------------------------------------ |
| `groups`              | Groups the agent belongs to.                                                               |
| `work_scheduler`      | The work scheduler object for an agent. See [**Create Agent**](#create-agent) for details. |
| `email_subscriptions` | A list of the agent's active email subscriptions.                                          |
| `notifications`       | A list of the agent's enabled notifications.                                               |
| `job_title`           | The agent's job title.                                                                     |
| `mobile`              | The agent's mobile number.                                                                 |
| `max_chats_count`     | The agent's maximum number of concurrent chats.                                            |
| `suspended`           | If set to `true`, the agent is suspended.                                                  |
| `awaiting_approval`   | If set to `true`, the agent is awaiting approval.                                          |
| `last_logout`         | The RFC 3339 date-time of the last logout of the agent. Omitted when no logout occurred.   |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_agents \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
       "fields": [
          "email_subscriptions",
          "max_chats_count",
          "job_title",
          "last_logout"
        ],
        "filters": {
          "group_ids": [
            0,
            1
          ]
        }
    }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listAgents"/>

</Code>

</Section>

<Section>

<Text>

### Update Agent

Updates the properties of an agent specified by `id`.

#### Specifics

|                                  |                                                                                              |
| -------------------------------- | -------------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_agent`                         |
| Required scopes                  | `agents--my:rw` `agents--all:rw`<sup>**1**</sup> `accounts.roles.lc--all:rw`<sup>**2**</sup> |
| [Batch support](#batch-requests) | Yes                                                                                          |

**1)** to update other agents within the same license<br/>
**2)** to update the agent `role`

#### Request

| Parameter                             | Data type  | Required | Notes                                                                                                                                        |
| ------------------------------------- | ---------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`                                  | `string`   | Yes      | The agent ID.                                                                                                                                |
| `role`                                | `string`   | No       | The agent role. Possible values: `viceowner`, `administrator`, `normal`.                                                                     |
| `login_status`                        | `string`   | No       | The agent's default status right after the login. Possible values: `accepting chats`, `not accepting chats`. Default: `not accepting chats`. |
| `job_title`                           | `string`   | No       | The agent's job title.                                                                                                                       |
| `mobile`                              | `string`   | No       | The agent's mobile number.                                                                                                                   |
| `max_chats_count`                     | `int`      | No       | The agent's maximum number of concurrent chats. Maximum: 20.                                                                                 |
| `groups`                              | `object[]` | No       | The groups the agent belongs to.                                                                                                             |
| `groups[].id`                         | `uint`     | Yes      | The group ID. Required only when `group`'s included.                                                                                         |
| `groups[].priority` <sup>**1**</sup>  | `string`   | Yes      | The agent's priority in a group. Required only when `group`'s included.                                                                      |
| `notifications`<sup>**2**</sup>       | `string[]` | No       | The agent notifications that are enabled.                                                                                                    |
| `email_subscriptions`<sup>**3**</sup> | `string[]` | No       | The subscriptions that will be sent to an agent via email.                                                                                   |
| `work_scheduler`                      | `object`   | No       | The work scheduler options to set for an agent. See [**Create Agent**](#create-agent) for details.                                           |

**1)** Possible values for the `groups[].priority` parameter:

| Possible value | Notes                                                                                                                                                                                                                                                                               |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Agents with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular agents. Corresponds to the **bot** priority option in the LiveChat App.                                                     |
| `normal`       | The medium chat routing priority. Agents with the `normal` priority get chats before those with the `last` priority, when there are no agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`         | The lowest chat routing priority. Agents with the `last` priority get chats when there are no agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                            |
| `supervisor`   | Agents with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                |

**2)** Possible values for the `notifications` array:

- `new_visitor`
- `incoming_chat`
- `returning_visitor`
- `queued_visitor`
- `visitor_is_typing`
- `new_goal`
- `unassigned_chats`
- `unassigned_chat_messages`
- `ticket`
- `inactive_notifications`
- `mute_all_sounds`
- `repeat_sound_notifications`
- `ticket_notifications`
- `incoming_message_for_focused_chat`

**3)** Possible values for the `email_subscriptions` array:

- `daily_summary`
- `weekly_summary`

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com",
        "role": "viceowner",
        "groups": [
          {
            "id": 5,
            "priority": "first"
          },
          {
            "id": 2,
            "priority": "last"
          },
          {
            "id": 1,
            "priority": "normal"
          }
        ],
        "work_scheduler": {
          "monday": {
            "start": "08:30",
            "end": "12:30"
          },
          "friday": {
            "start": "07:30",
            "end": "21:30"
          }
        },
        "notifications": [
          "new_visitor",
          "new_goal",
          "visitor_is_typing"
        ],
        "email_subscriptions": [
          "weekly_summary"
        ]
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Delete Agent

Deletes an agent specified by `id`.

#### Specifics

|                                  |                                                                                                         |
| -------------------------------- | ------------------------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_agent`                                    |
| Required scopes                  | `agents--my:rw` `accounts--my:rw` `agents--all:rw` <sup>**1**</sup> `accounts--all:rw` <sup>**1**</sup> |
| [Batch support](#batch-requests) | Yes                                                                                                     |

**1)** to delete other agents within the same license

#### Request

| Parameter | Required | Data type | Notes         |
| --------- | -------- | --------- | ------------- |
| `id`      | Yes      | `string`  | The agent ID. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Suspend Agent

Suspends an agent specified by `id`.

❗️ This method is not yet available for public use. For now, an agent can only be approved via the LiveChat Agent application UI. We would love to hear how you'd like to use this method -- please send us an email at developers@text.com describing your use case.

#### Specifics

|                                  |                                                                       |
| -------------------------------- | --------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/suspend_agent` |
| Required scopes                  | `agents--all:rw` `sessions--all:rw`<sup>1</sup>                       |
| [Batch support](#batch-requests) | Yes                                                                   |

**1)** `sessions--all:rw` is a private scope; it's not possible to configure it in Developer Console.

#### Request

| Parameter | Required | Data type | Notes         |
| --------- | -------- | --------- | ------------- |
| `id`      | Yes      | `string`  | The agent ID. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/suspend_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Unsuspend Agent

Unsuspends an agent specified by `id`.

❗️ This method is not yet available for public use. For now, an agent can only be approved via the LiveChat Agent application UI. We would love to hear how you'd like to use this method -- please send us an email at developers@text.com describing your use case.

#### Specifics

|                                  |                                                                         |
| -------------------------------- | ----------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/unsuspend_agent` |
| Required scopes                  | `agents--all:rw` `accounts--all:rw` `subscription.lc:rw`<sup>1</sup>    |
| [Batch support](#batch-requests) | Yes                                                                     |

**1)** `subscription.lc:rw` is a private scope; it's not possible to configure it in Developer Console.

#### Request

| Parameter | Required | Data type | Notes         |
| --------- | -------- | --------- | ------------- |
| `id`      | Yes      | `string`  | The agent ID. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/unsuspend_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Request Agent Unsuspension

A suspended agent can send emails to license owners and vice owners with an unsuspension request.

#### Specifics

|                                  |                                                                                    |
| -------------------------------- | ---------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/request_agent_unsuspension` |
| Required scopes                  | -                                                                                  |
| [Batch support](#batch-requests) | Yes                                                                                |

#### Request

Empty request payload.

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/request_agent_unsuspension \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Approve Agent

Approves an agent thus allowing the agent to use the application.

❗️ This method is not yet available for public use. For now, an agent can only be approved via the LiveChat Agent application UI. We would love to hear how you'd like to use this method -- please send us an email at developers@text.com describing your use case.

#### Specifics

|                                  |                                                                           |
| -------------------------------- | ------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/approve_agent`     |
| Required scopes                  | `agents--all:rw` `accounts--all:rw` `subscription.lc:rw` <sup>**1**</sup> |
| [Batch support](#batch-requests) | Yes                                                                       |

**1)** `subscription.lc:rw` is a private scope; it's not possible to configure it in Developer Console.

#### Request

| Parameter | Required | Data type | Notes         |
| --------- | -------- | --------- | ------------- |
| `id`      | Yes      | `string`  | The agent ID. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/approve_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

# Allowed domains

**Allowed domains** is a security feature that enables you to restrict which domains can embed your chat widget. By configuring allowed domains, you can prevent unauthorized websites from using your LiveChat license. Only domains explicitly added to the allowed list will be able to display and use your chat widget.

## Methods

<Section>

<Text>

### Add Allowed Domain

Adds a new domain to the allowed domains list.

#### Specifics

|                                  |                                                                            |
| -------------------------------- | -------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/add_allowed_domain` |
| Required scopes                  | `domain_manage`                                                            |
| [Batch support](#batch-requests) | No                                                                         |

| Parameter | Required | Data type | Notes                                     |
| --------- | -------- | --------- | ----------------------------------------- |
| `domain`  | Yes      | `string`  | The domain name. Maximum: 255 characters. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/add_allowed_domain \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "domain": "example.com"
      }'
```

</CodeSample>

<CodeResponse>

```json
{}
```

</CodeResponse>

</Code>

</Section>

<Section>

<Text>

### List Allowed Domains

Returns all domains currently allowed to embed your chat widget.

#### Specifics

|                                  |                                                                              |
| -------------------------------- | ---------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_allowed_domains` |
| Required scopes                  | `domain_manage`                                                              |
| [Batch support](#batch-requests) | No                                                                           |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_allowed_domains \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{}'
```

</CodeSample>

<CodeResponse>

```json
{
  "domains": [
    "example.com",
    "subdomain.example.com",
    "another-domain.com"
  ]
}
```

</CodeResponse>

</Code>

</Section>

<Section>

<Text>

### Delete Allowed Domain

Removes a domain from the allowed domains list.

#### Specifics

|                                  |                                                                               |
| -------------------------------- | ----------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_allowed_domain` |
| Required scopes                  | `domain_manage`                                                               |
| [Batch support](#batch-requests) | No                                                                            |

| Parameter | Required | Data type | Notes            |
| --------- | -------- | --------- | ---------------- |
| `domain`  | Yes      | `string`  | The domain name. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_allowed_domain \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "domain": "example.com"
      }'
```

</CodeSample>

</Code>

</Section>

# Auto access

**Auto access** allows you to assign groups to a thread that will be created when a customer starts a chat. Those groups are
assigned based on the conditions defined to match the customer's geolocation and the page URL the customer is currently visiting.
Every time a customer calls [**Login**](/messaging/customer-chat-api/v3.7/rtm-reference/#login) or
[**Update Customer Page**](/messaging/customer-chat-api/v3.7/rtm-reference/#update-customer-page), our backend checks if
the page URL and geolocation match the pre-defined conditions. Given there's a match, the groups are assigned to a thread,
but not until a chat starts and the thread is actually created.

If a customer starts a chat via [**Start Chat**](/messaging/customer-chat-api/v3.7/rtm-reference/#start-chat) or
[**Resume Chat**](/messaging/customer-chat-api/v3.7/rtm-reference/#resume-chat) with the `chat.access` parameter,
`chat.access` overrides the auto access assigned to the thread.

Auto access rules are ordered using a linked list. Each of them points to the next element by keeping its `id` in the `next_id` field.
For the last element of the list, the `next_id` is empty.

## Methods

<Section>

<Text>

### Add Auto Access

Creates an `auto access` data structure, which is a set of conditions for the tracking URL and geolocation of a customer.

#### Specifics

|                                  |                                                                         |
| -------------------------------- | ----------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/add_auto_access` |
| Required scopes                  | `access_rules:rw`                                                       |
| [Batch support](#batch-requests) | No                                                                      |

| Parameter                                | Required | Data type                              | Notes                                                                                                    |
| ---------------------------------------- | -------- | -------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| `access`                                 | Yes      | `object`                               | The destination access.                                                                                  |
| `access.groups`                          | Yes      | `[]int`                                | Destination groups.                                                                                      |
| `conditions`<sup>**1**</sup>             | Yes      | `object`                               | Conditions to check.                                                                                     |
| `conditions.url`                         | No       | `object`                               | The condition that matches on `customer_page.url` from **Login** or `url` from **Update Customer Page**. |
| `conditions.domain`                      | No       | `object`                               | The condition that matches on the domain of the `customer_url`.                                          |
| `conditions.{url,domain}.values`         | No       | `[]match_object`<sup>**2**</sup>       | A positive match. Cannot be used together with `exclude_values`.                                         |
| `conditions.{url,domain}.exclude_values` | No       | `[]match_object`                       | A negative match.                                                                                        |
| `conditions.geolocation`                 | No       | `object`                               | The condition that matches on the customer's geolocation.                                                |
| `conditions.geolocation.values`          | Yes      | `[]geolocation_object`<sup>**3**</sup> | An array of objects. Matches when at least one subcondition matches.                                     |
| `description`                            | No       | `string`                               | A description of the auto access.                                                                        |
| `next_id`                                | No       | `string`                               | The ID of an existing auto access. If empty, the new auto access will be the last one on the list.       |

**1)** `conditions` must have at least one of `url`, `domain`, `geolocation` set.

**2)** `<match_object>` structure:

| Parameter     | Required | Data type | Notes                                                                                                 |
| ------------- | -------- | --------- | ----------------------------------------------------------------------------------------------------- |
| `value`       | Yes      | `string`  | A value to match.                                                                                     |
| `exact_match` | No       | `bool`    | If set to `false`, `match_object.value` will be matched as a substring of the customer URL or domain. |

**3)** the `geolocation_object` structure.  The condition is fulfilled only when all of the specified fields match.  At least one field must be specified.

| Parameter      | Required | Data type | Example         |
| -------------- | -------- | --------- | --------------- |
| `country`      | No       | `string`  | "United States" |
| `country_code` | No       | `string`  | "US"            |
| `region`       | No       | `string`  | "California"    |
| `city`         | No       | `string`  | "Mountain View" |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/add_auto_access \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "description": "Chats on livechat.com from United States",
        "access": {
          "groups": [ 1 ]
        },
        "conditions": {
          "domain": {
            "values": [
              {
                "value": "livechat.com",
                "exact_match": true
              }
            ]
          },
          "geolocation": {
            "values": [
              {
                "country": "United States",
                "country_code": "US"
              }
            ]
          }
        },
        "next_id": "1faad6f5f1d6e8fdf27e8af9839783b7"
      }'
```

</CodeSample>

<CodeResponse>

```json
{
  "id": "pqi8oasdjahuakndw9nsad9na"
}
```

</CodeResponse>

</Code>

</Section>

<Section>

<Text>

### List Auto Accesses

Returns all existing `auto access` data structures.

#### Specifics

|                                  |                                                                            |
| -------------------------------- | -------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_auto_accesses` |
| Required scopes                  | `access_rules:ro`                                                          |
| [Batch support](#batch-requests) | No                                                                         |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_auto_accesses \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{}'
```

</CodeSample>

<CodeResponse>

```json
[
  {
    "id": "1faad6f5f1d6e8fdf27e8af9839783b7",
    "description": "Chats on livechat.com from United States",
    "access": {
      "groups": [
        0
      ]
    },
    "conditions": {
      "geolocation": {
        "values": [
          {
            "country": "United States",
            "country_code": "US"
          }
        ]
      },
      "domain": {
        "values": [
          {
            "value": "livechat.com",
            "exact_match": true
          }
        ]
      }
    },
    "next_id": "pqi8oasdjahuakndw9nsad9na"
  }
]
```

</CodeResponse>

</Code>

</Section>

<Section>

<Text>

### Delete Auto Access

Deletes an existing `auto access` data structure specified by its ID.

#### Specifics

|                                  |                                                                            |
| -------------------------------- | -------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_auto_access` |
| Required scopes                  | `access_rules:rw`                                                          |
| [Batch support](#batch-requests) | No                                                                         |

| Parameter | Required | Data type | Notes               |
| --------- | -------- | --------- | ------------------- |
| `id`      | Yes      | `string`  | The auto access ID. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_auto_access \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "id": "pqi8oasdjahuakndw9nsad9na"
  }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Update Auto Access

Updates an existing `auto access`.  Only specified fields are updated (overwritten), leaving unspecified fields unchanged.

#### Specifics

|                                  |                                                                            |
| -------------------------------- | -------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_auto_access` |
| Required scopes                  | `access_rules:rw`                                                          |
| [Batch support](#batch-requests) | No                                                                         |

| Parameter                                | Required | Data type                              | Notes                                                                                                             |
| ---------------------------------------- | -------- | -------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| `id`                                     | Yes      | `string`                               | The ID of the auto access to modify.                                                                              |
| `access`                                 | No       | `object`                               | The destination access.                                                                                           |
| `access.groups`                          | Yes      | `[]int`                                | Destination groups.                                                                                               |
| `conditions`<sup>**1**</sup>             | No       | `object`                               | Conditions to check.                                                                                              |
| `conditions.url`                         | No       | `object`                               | The condition that matches on `customer_page.url` from **Login** or `url` from **Update Customer Page**.          |
| `conditions.domain`                      | No       | `object`                               | The condition that matches on the domain of the `customer_url`.                                                   |
| `conditions.{url,domain}.values`         | No       | `[]match_object`<sup>**2**</sup>       | A positive match. Cannot be used together with `exclude_values`.                                                  |
| `conditions.{url,domain}.exclude_values` | No       | `[]match_object`                       | A negative match.                                                                                                 |
| `conditions.geolocation`                 | No       | `object`                               | The condition that matches on the customer's geolocation.                                                         |
| `conditions.geolocation.values`          | Yes      | `[]geolocation_object`<sup>**3**</sup> | An array of objects. Matches when at least one subcondition matches.                                              |
| `description`                            | No       | `string`                               | A description of the auto access.                                                                                 |
| `next_id`<sup>**4**</sup>                | No       | `string`                               | The ID of an existing auto access. If `next_id` is an empty string, the auto access moves to the end of the list. |

**1)** `conditions` must have at least one of `url`, `domain`, `geolocation` set.

**2)** `<match_object>` structure:

| Parameter     | Required | Data type | Notes                                                                                                                 |
| ------------- | -------- | --------- | --------------------------------------------------------------------------------------------------------------------- |
| `value`       | Yes      | `string`  | A value to match.                                                                                                     |
| `exact_match` | No       | `bool`    | If set to `false`, `match_object.value` will be matched as a substring of the customer URL or domain; default: false. |

**3)** the `geolocation_object` structure.  The condition is fulfilled only when all of the specified fields match.  At least one field must be specified.

| Parameter      | Required | Data type | Example         |
| -------------- | -------- | --------- | --------------- |
| `country`      | No       | `string`  | "United States" |
| `country_code` | No       | `string`  | "US"            |
| `region`       | No       | `string`  | "California"    |
| `city`         | No       | `string`  | "Mountain View" |

**4)** Modifying `next_id` moves the auto access specified by `id` before the auto access that is specified by `next_id`.
If `next_id` is an empty string, then auto access will be placed at the end of the list. If you don't intend to reorder the rule at all, don't include `next_id` in the request. To better understand it, analyze the example below.

💡 **Example:**

In the following list: **A -> B -> C -> D -> null**, letters represent the `auto_access` data structures while arrows indicate the `next_id` relation. Therefore, A has `next_id` set to B, B has `next_id` set to C, and so on.

An `update_auto_access` call with the `{"id": "C", "next_id": "B"}` payload would result in reordering the sequence, which after the successful request, would look like this: **A -> C -> B -> D -> null**. Consistency is maintained by keeping the `next_id` references properly assigned in each of the elements after a single request.

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_auto_access \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "id": "pqi8oasdjahuakndw9nsad9na",
    "access": {
      "groups": [0, 42]
    },
    "next_id": "1faad6f5f1d6e8fdf27e8af9839783b7"
  }'
```

</CodeSample>

</Code>

</Section>

# Bots

Bots enable writing integrations using the [**Agent Chat Web API**](/messaging/agent-chat-api/) to communicate in chats similarly to regular agents.

A bot has its own auth token, generated with the [Issue Bot Token](#issue-bot-token) method. Each bot is a resource owned by an application (`client_id`) in Developer Console.

## Methods

| HTTP method | The Bots API endpoint                                            |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.7/configuration/action/<action>` |

| Required header |       Value        |      |
| --------------- | :----------------: | ---: |
| `Content-Type`  | `application/json` |      |

<Section>

<Text>

### Create Bot Template

Creates a new bot template for the Client ID (application) provided in the request. One Client ID can register up to five bot templates.

A bot based on a template will be automatically created on the license when the application is installed. Such a bot will have the same ID as the bot template. If the application is already installed on the license, the bot will be created only if `affect_existing_installations` is set to `true`.

Bots based on templates will work in the same way as those created by the [Create Bot](#create-bot) method.

#### Specifics

|                                  |                                                                             |
| -------------------------------- | --------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/create_bot_template` |
| Required scopes                  | `bots.templates:rw`                                                         |
| [Batch support](#batch-requests) | No                                                                          |

#### Request

| Parameter                                | Required | Data type | Notes                                                                                                                                                                                          |
| ---------------------------------------- | -------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `name`                                   | Yes      | `string`  | The display name.                                                                                                                                                                              |
| `avatar`                                 | No       | `string`  | The avatar URL.                                                                                                                                                                                |
| `max_chats_count`                        | No       | `int`     | The maximum number of incoming chats that can be routed to the bot. Maximum: 500. Default: 6.                                                                                                  |
| `default_group_priority`<sup>**1**</sup> | No       | `string`  | The default routing priority for a group without defined priority.                                                                                                                             |
| `job_title`                              | No       | `string`  | The bot's job title.                                                                                                                                                                           |
| `owner_client_id`                        | Yes      | `string`  | The Client ID that will own the bot template. Must be owned by your organization.                                                                                                              |
| `affect_existing_installations`          | No       | `bool`    | If set to `true`, a bot based on this template will be created on all licenses that have the given application installed. If set to `false`, only new installations will trigger bot creation. |

**1)** Possible priority values:

| Value        | Notes                                                                                                                                                                                                                                                                              |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`      | The highest chat routing priority. Bots with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular agents. Corresponds to the **bot** priority option in the LiveChat App.                                                      |
| `normal`     | The medium chat routing priority. Bots with the `normal` priority get chats before agents with the `last` priority, when there are no agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`       | The lowest chat routing priority. Bots with the `last` priority get chats when there are no agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                             |
| `supervisor` | Bots with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                 |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/create_bot_template \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "name": "Bot Name"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="createBotTemplate"/>

</Code>

</Section>

<Section>

<Text>

### Create Bot

Creates a new bot. To make the bot available for receiving chats or webhooks, use the [Set Routing Status](/messaging/agent-chat-api/v3.7/#set-routing-status) method.

#### Specifics

|                                  |                                                                    |
| -------------------------------- | ------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/create_bot` |
| Required scopes                  | `agents-bot--my:rw`                                                |
| [Batch support](#batch-requests) | Yes                                                                |

#### Request

| Parameter                                | Required | Data type  | Notes                                                                                                                                                                                                                                                                                               |
| ---------------------------------------- | -------- | ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `name`                                   | Yes      | `string`   | The display name.                                                                                                                                                                                                                                                                                   |
| `avatar`                                 | No       | `string`   | The avatar URL.                                                                                                                                                                                                                                                                                     |
| `max_chats_count`                        | No       | `int`      | The maximum number of incoming chats that can be routed to the bot. Maximum: 500. Default: 6.                                                                                                                                                                                                       |
| `default_group_priority`<sup>**1**</sup> | No       | `string`   | The default routing priority for a group without defined priority.                                                                                                                                                                                                                                  |
| `job_title`                              | No       | `string`   | The bot's job title.                                                                                                                                                                                                                                                                                |
| `groups`                                 | No       | `object[]` | The groups the bot belongs to.                                                                                                                                                                                                                                                                      |
| `groups[].id`                            | No       | `int`      | The group ID. Required only when `group`'s included.                                                                                                                                                                                                                                                |
| `groups[].priority`<sup>**1**</sup>      | Yes      | `string`   | The bot's priority in a group. Required only when `group`'s included.                                                                                                                                                                                                                               |
| `type`                                   | No       | `string`   | A custom value to categorize or identify the bot. Default: `chatbot`.                                                                                                                                                                                                                               |
| `work_scheduler`                         | No       | `object`   | The work scheduler options to set for the new bot. See [**Create Agent**](#create-agent) for details.                                                                                                                                                                                               |
| `work_scheduler.timezone`                | Yes      | `string`   | The time zone in which the bot's work scheduler should operate.                                                                                                                                                                                                                                     |
| `owner_client_id`<sup>**2**</sup>        | Yes      | `string`   | Required only when authorizing via [PATs](/authorization/agent-authorization#personal-access-tokens). When you provide this param while authorizing with a Bearer Token, the `client_id` associated with the Bearer Token will be ignored, and the provided `owner_client_id` will be used instead. |

**1)** Possible priority values:

| Value        | Notes                                                                                                                                                                                                                                                                              |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`      | The highest chat routing priority. Bots with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular agents. Corresponds to the **bot** priority option in the LiveChat App.                                                      |
| `normal`     | The medium chat routing priority. Bots with the `normal` priority get chats before agents with the `last` priority, when there are no agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`       | The lowest chat routing priority. Bots with the `last` priority get chats when there are no agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                             |
| `supervisor` | Bots with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                 |

**2)** The number of sent webhooks depends on the number of webhooks registered for an `owner_client_id`, not the number of bots belonging to that `owner_client_id`.

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/create_bot \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "name": "Bot Name"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="createBot"/>

</Code>

</Section>

<Section>

<Text>

### Delete Bot Template

Deletes a bot template specified by `id`. The bots associated with the template will be deleted only if `affect_existing_installations` is set to `true`.

#### Specifics

|                                  |                                                                             |
| -------------------------------- | --------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_bot_template` |
| Required scopes                  | `bots.templates:rw`                                                         |
| [Batch support](#batch-requests) | No                                                                          |

#### Request

| Parameter                       | Required | Type     | Notes                                                                                                                   |
| ------------------------------- | -------- | -------- | ----------------------------------------------------------------------------------------------------------------------- |
| `id`                            | Yes      | `string` | The bot template ID.                                                                                                    |
| `owner_client_id`               | Yes      | `string` | The Client ID that owns the bot template. Must be owned by your organization.                                           |
| `affect_existing_installations` | No       | `bool`   | If set to `true`, a bot based on this template will be deleted from all licenses that have given application installed. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_bot_template \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "id": "505591fc9fc2d6e92798bed7d9d8f079"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Delete Bot

Deletes a bot specified by `id`.

#### Specifics

|                                  |                                                                    |
| -------------------------------- | ------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_bot` |
| Required scopes                  | `agents-bot--my:rw` `agents-bot--all:rw`                           |
| [Batch support](#batch-requests) | Yes                                                                |

#### Request

| Parameter | Required | Type     | Notes       |
| --------- | -------- | -------- | ----------- |
| `id`      | Yes      | `string` | The bot ID. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_bot \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "id": "505591fc9fc2d6e92798bed7d9d8f079"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Update Bot Template

Updates an existing bot template.

#### Specifics

|                                  |                                                                             |
| -------------------------------- | --------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_bot_template` |
| Required scopes                  | `bots.templates:rw`                                                         |
| [Batch support](#batch-requests) | No                                                                          |

#### Request

| Parameter                                | Required | Data type | Notes                                                                                                                |
| ---------------------------------------- | -------- | --------- | -------------------------------------------------------------------------------------------------------------------- |
| `id`                                     | Yes      | `string`  | The bot template ID.                                                                                                 |
| `name`                                   | No       | `string`  | The display name.                                                                                                    |
| `avatar`                                 | No       | `string`  | The avatar URL.                                                                                                      |
| `max_chats_count`                        | No       | `int`     | The maximum number of incoming chats that can be routed to the bot. Maximum: 500.                                    |
| `default_group_priority`<sup>**1**</sup> | No       | `string`  | The default routing priority for a group without defined priority.                                                   |
| `job_title`                              | No       | `string`  | The bot's job title.                                                                                                 |
| `owner_client_id`                        | Yes      | `string`  | The Client ID that owns the bot template. Must be owned by your organization.                                        |
| `affect_existing_installations`          | No       | `bool`    | If set to `true`, bots based on this template will be updated on all licenses that have given application installed. |

**1)** Possible priority values:

| Value        | Notes                                                                                                                                                                                                                                                                              |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`      | The highest chat routing priority. Bots with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular agents. Corresponds to the **bot** priority option in the LiveChat App.                                                      |
| `normal`     | The medium chat routing priority. Bots with the `normal` priority get chats before agents with the `last` priority, when there are no agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`       | The lowest chat routing priority. Bots with the `last` priority get chats when there are no agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                             |
| `supervisor` | Bots with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                 |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_bot_template \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "id": "ce54714e3d2b53adbfff09dbdbdd56e9",
      "name": "New Bot Name"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Update Bot

Updates an existing bot.

#### Specifics

|                                  |                                                                                         |
| -------------------------------- | --------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_bot`                      |
| Required scopes                  | `agents-bot--my:rw` `agents-bot--all:rw` (to update other Bots within the same license) |
| [Batch support](#batch-requests) | Yes                                                                                     |

#### Request

| Parameter                                | Required | Data type  | Notes                                                                                                 |
| ---------------------------------------- | -------- | ---------- | ----------------------------------------------------------------------------------------------------- |
| `id`                                     | Yes      | `string`   | The bot ID.                                                                                           |
| `name`                                   | No       | `string`   | The display name.                                                                                     |
| `avatar`                                 | No       | `string`   | The avatar URL.                                                                                       |
| `max_chats_count`                        | No       | `int`      | The maximum number of incoming chats that can be routed to the bot. Maximum: 500.                     |
| `groups`                                 | No       | `object[]` | The groups the bot belongs to                                                                         |
| `groups[].id`                            | Yes      | `uint`     | The group ID. Required only when `groups` is present.                                                 |
| `groups[].priority`<sup>**1**</sup>      | Yes      | `string`   | The bot's priority in the group. Required only when `groups` is included.                             |
| `default_group_priority`<sup>**1**</sup> | No       | `string`   | The default routing priority for a group without defined priority.                                    |
| `job_title`                              | No       | `string`   | The bot's job title.                                                                                  |
| `type`                                   | No       | `string`   | A custom value to categorize or identify the bot.                                                     |
| `work_scheduler`                         | No       | `object`   | The work scheduler options to set for the new bot. See [**Create Agent**](#create-agent) for details. |
| `work_scheduler.timezone`                | Yes      | `string`   | The time zone in which the bot's work scheduler should operate.                                       |

**1)** Possible priority values:

| Value        | Notes                                                                                                                                                                                                                                                                              |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`      | The highest chat routing priority. Bots with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular agents. Corresponds to the **bot** priority option in the LiveChat App.                                                      |
| `normal`     | The medium chat routing priority. Bots with the `normal` priority get chats before agents with the `last` priority, when there are no agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`       | The lowest chat routing priority. Bots with the `last` priority get chats when there are no agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                             |
| `supervisor` | Bots with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                 |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_bot \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "id": "ce54714e3d2b53adbfff09dbdbdd56e9",
      "name": "New Bot Name"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Bot Templates

Returns the list of bot templates created for a Client ID (application).

#### Specifics

|                                  |                                                                            |
| -------------------------------- | -------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_bot_templates` |
| Required scopes                  | `bots.templates:rw`                                                        |
| [Batch support](#batch-requests) | No                                                                         |

#### Request

| Parameter         | Required | Type     | Notes                                                                                  |
| ----------------- | -------- | -------- | -------------------------------------------------------------------------------------- |
| `owner_client_id` | Yes      | `string` | The Client ID that owns the bot templates to list. Must be owned by your organization. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_bot_templates \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listBotTemplates"/>

</Code>

</Section>

<Section>

<Text>

### List Bots

Returns the list of bots created within a license. The method behavior differs depending on who created the bot and what authorization method is used for the call.

#### Specifics

|                                  |                                                                   |
| -------------------------------- | ----------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_bots` |
| Required scopes                  | `agents-bot--my:ro` `agents-bot--all:ro`                          |
| [Batch support](#batch-requests) | No                                                                |

#### Request

| Parameter                | Required | Type       | Notes                                                                                                                                     |
| ------------------------ | -------- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| `all`                    | No       | `bool`     | If set to `true`, gets all bots within a license. If set to `false`, returns only the requester's bots. Default: `false`.<sup>**1**</sup> |
| `fields`<sup>**2**</sup> | No       | `string[]` | The additional bot fields to include.                                                                                                     |

**1)** Calling List Bots with `all:false`

- If a bot was created via an app, all agents who make the request via this app will get the bot in the response.
- If a bot was created directly by an agent ([PAT authorization](/authorization/agent-authorization#personal-access-tokens)), all agents who authorize with PATs will get the bot in the response.

**2)** Possible values for the `fields[]` parameter:

| Possible value    | Notes                                                                                   |
| ----------------- | --------------------------------------------------------------------------------------- |
| `groups`          | Groups a bot belongs to.                                                                |
| `work_scheduler`  | The work scheduler object for a bot. See [**Create Agent**](#create-agent) for details. |
| `job_title`       | The bot's job title.                                                                    |
| `max_chats_count` | The bot's maximum number of concurrent chats.                                           |
| `timezone`        | The time zone in which the bot's work scheduler operates.                               |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_bots \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "all": false
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listBots"/>

</Code>

</Section>

<Section>

<Text>

### Get Bot

It returns the info about a bot with a given `id`.

#### Specifics

|                                  |                                                                 |
| -------------------------------- | --------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/get_bot` |
| Required scopes                  | `agents-bot--my:ro` `agents-bot--all:ro`                        |
| [Batch support](#batch-requests) | No                                                              |

#### Request

| Parameter                | Required   | Type     | Notes                         |
| ------------------------ | ---------- | -------- | ----------------------------- |
| `id`                     | Yes        | `string` | The bot ID.                   |
| `fields`<sup>**1**</sup> | `string[]` | No       | Additional fields to include. |

**1)** Possible values for the `fields[]` parameter:

| Possible value    | Notes                                                                                   |
| ----------------- | --------------------------------------------------------------------------------------- |
| `groups`          | Groups a bot belongs to.                                                                |
| `work_scheduler`  | The work scheduler object for a bot. See [**Create Agent**](#create-agent) for details. |
| `job_title`       | The bot's job title.                                                                    |
| `max_chats_count` | The bot's maximum number of concurrent chats.                                           |
| `timezone`        | The time zone in which the bot's work scheduler operates.                               |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/get_bot \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "id": "5c9871d5372c824cbf22d860a707a578"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="getBot"/>

</Code>

</Section>

<Section>

<Text>

### Issue Bot Token

Issues a new token for the bot. The token is valid for 24 hours. The token cannot be revoked.

The token has the following scopes that allow chatting: `chats--access:rw`, `agents-bot--my:rw`, `customers:rw`.

The required `bot_secret` is returned in [Create Bot Template](#create-bot-template) and [Create Bot](#create-bot) methods.
If you lost the secret, you can reset it using [Reset Bot Template Secret](#reset-bot-template-secret) or [Reset Bot Secret](#reset-bot-secret) methods.

#### Specifics

|                                  |                                                                         |
| -------------------------------- | ----------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/issue_bot_token` |
| Required scopes                  | -                                                                       |
| [Batch support](#batch-requests) | No                                                                      |

#### Request

| Parameter         | Required | Type     | Notes                |
| ----------------- | -------- | -------- | -------------------- |
| `bot_id`          | Yes      | `string` | The bot ID.          |
| `client_id`       | Yes      | `string` | The client ID.       |
| `bot_secret`      | Yes      | `string` | The bot secret.      |
| `organization_id` | Yes      | `string` | The organization ID. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/issue_bot_token \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "bot_id": "5c9871d5372c824cbf22d860a707a578",
        "client_id": "238ac5c3c3628210aca289c6d700d2c1",
        "bot_secret": "641e2ae6d997d2009a3ac92a05f37fc3",
        "organization_id": "1a8a9ec7-bd5d-4400-9204-3826740981e0"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="issueBotToken"/>

</Code>

</Section>

<Section>

<Text>

### Reset Bot Template Secret

Resets secret for given bot template.

#### Specifics

|                                  |                                                                                   |
| -------------------------------- | --------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/reset_bot_template_secret` |
| Required scopes                  | `bots.templates:rw`                                                               |
| [Batch support](#batch-requests) | No                                                                                |

#### Request

| Parameter                       | Required | Type     | Notes                                                                                 |
| ------------------------------- | -------- | -------- | ------------------------------------------------------------------------------------- |
| `id`                            | Yes      | `string` | The bot template ID.                                                                  |
| `owner_client_id`               | Yes      | `string` | The Client ID that owns the bot template. Must be owned by your organization.         |
| `affect_existing_installations` | No       | `bool`   | If set to `true`, the new secret is set for all existing bots based on this template. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/reset_bot_template_secret \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "id": "5c9871d5372c824cbf22d860a707a578"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="resetBotTemplateSecret"/>

</Code>

</Section>

<Section>

<Text>

### Reset Bot Secret

Resets secret for a given bot.

#### Specifics

|                                  |                                                                          |
| -------------------------------- | ------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/reset_bot_secret` |
| Required scopes                  | `agents-bot--my:rw`                                                      |
| [Batch support](#batch-requests) | No                                                                       |

#### Request

| Parameter         | Required | Type     | Notes                                                                                                                                                                                                                                                                                           |
| ----------------- | -------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`              | Yes      | `string` | The bot ID.                                                                                                                                                                                                                                                                                     |
| `owner_client_id` | Yes      | `string` | Required only when authorizing via [PATs](/authorization/agent-authorization#personal-access-tokens). When you provide this param while authorizing with a Bearer Token, the `client_id` associated with the Bearer Token will be ignored, and provided `owner_client_id` will be used instead. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/reset_bot_secret \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "id": "5c9871d5372c824cbf22d860a707a578"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="resetBotSecret"/>

</Code>

</Section>

# Customer bans

Customers can be banned for a specific period of time. During the ban, they can’t connect to or interact with the [Customer Chat API](/messaging/customer-chat-api). Banning is only possible via the [Agent Chat API](/messaging/agent-chat-api).

## Methods

| HTTP method | The Groups API endpoint                                          |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.7/configuration/action/<action>` |

| Required header | Value              |
| --------------- | ------------------ |
| `Content-Type`  | `application/json` |

<Section>

<Text>

### List Customer Bans

Returns all active bans for a customer.

#### Specifics

|                                  |                                                                            |
| -------------------------------- | -------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_customer_bans` |
| Required scopes                  | `banlist_read`                                                             |
| [Batch support](#batch-requests) | No                                                                         |

#### Request

Empty request payload.

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_customer_bans \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listCustomerBans"/>

</Code>

</Section>

<Section>

<Text>

### Unban Customer

Lifts a ban from a customer.

#### Specifics

|                                  |                                                                        |
| -------------------------------- | ---------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/unban_customer` |
| Required scopes                  | `banlist_write`                                                        |
| [Batch support](#batch-requests) | No                                                                     |

#### Request

| Parameter     | Data type | Required | Notes                      |
| ------------- | --------- | -------- | -------------------------- |
| `ip`          | `string`  | Yes*     | The customer's IP address. |
| `customer_id` | `string`  | Yes*     | The customer ID.           |

**1)** Exactly one of `ip` and `customer_id` is required.

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/unban_customer \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "ip": "192.168.1.1"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="unbanCustomer"/>

</Code>

</Section>

# Greetings

Greetings let you manage your campaigns.

## Methods

| HTTP method | The Greetings API endpoint                                       |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.7/configuration/action/<action>` |

| Required header | Value              |
| --------------- | ------------------ |
| `Content-Type`  | `application/json` |

<Section>

<Text>

### Create Greeting

Creates a new greeting.

#### Specifics

|                                  |                                                                         |
| -------------------------------- | ----------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/create_greeting` |
| Required scopes                  | `greetings:rw`                                                          |
| [Batch support](#batch-requests) | No                                                                      |

#### Request

| Parameter                                 | Required | Data type  | Notes                                                                                                                                                      |
| ----------------------------------------- | -------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `type`                                    | Yes      | `string`   | The greeting type. Possible values: `normal` (standard greeting type), `announcement` (announcement-style greeting).                                       |
| `active`                                  | Yes      | `bool`     | If set to `true`, the greeting is active.                                                                                                                  |
| `active_from`                             | No       | `string`   | The RFC 3339 date-time when the greeting becomes active.                                                                                                   |
| `active_until`                            | No       | `string`   | The RFC 3339 date-time when the greeting stops being active.                                                                                               |
| `name`                                    | Yes      | `string`   | The greeting name.                                                                                                                                         |
| `group`                                   | Yes      | `int`      | The group ID the greeting belongs to.                                                                                                                      |
| `rules`                                   | Yes      | `object[]` | An array of action rules that define when the greeting should be triggered. Accepts up to 10 rules.                                                        |
| `rules[].condition`                       | Yes      | `string`   | The logical condition for the rule. Possible values: `and` (match all conditions), `or` (match one of the conditions).                                     |
| `rules[].type`<sup>**1**</sup>            | Yes      | `string`   | The type of the rule condition.                                                                                                                            |
| `rules[].operator`<sup>**2**</sup>        | Yes      | `string`   | The comparison operator for the rule. Not required for `url_funnel`<sup>**1**</sup>, `custom_variable`<sup>**1**</sup>, and `ads_traffic`<sup>**1**</sup>. |
| `rules[].value`                           | No       | `string`   | The value to compare against, based on the selected `operator`<sup>**2**</sup>. Required for most rule types.                                              |
| `rules[].urls`                            | No       | `object[]` | An array of URLs. Required only for the `url_funnel`<sup>**1**</sup> type. Accepts up to 10 objects.                                                       |
| `rules[].urls[].url`                      | No       | `string`   | The URL for the `url_funnel`<sup>**1**</sup> rule. Required when `urls` array is used.                                                                     |
| `rules[].urls[].operator`<sup>**2**</sup> | No       | `string`   | The operator for the URL comparison. Required when `urls` array is used.                                                                                   |
| `rules[].session_field`                   | No       | `object`   | Key-value pairs. Required for `custom_variable`<sup>**1**</sup> and `ads_traffic`<sup>**1**</sup> types - exactly one element.                             |
| `properties`<sup>**3**</sup>              | No       | `object`   | Additional properties for the greeting as key-value pairs.                                                                                                 |
| `rich_message`<sup>**4**</sup>            | No       | `object`   | The rich message content of the greeting.                                                                                                                  |

**1)** Parameter requirements for each `rules[].type` value:

| Type value          | Required Parameters | Parameter Details                                                                                                                |
| ------------------- | ------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| `visit_time_site`   | `value`, `operator` | The `value` must be an integer 0-900 (seconds spent on the entire website).                                                      |
| `visit_time_page`   | `value`, `operator` | The `value` must be an integer 0-900 (seconds spent on the current page).                                                        |
| `url_current`       | `value`, `operator` | The `value` contains the current page URL to match.                                                                              |
| `url_visited`       | `value`, `operator` | The `value` contains a previously visited URL to match.                                                                          |
| `url_funnel`        | `urls`              | The `urls` array with 1-10 URL objects, each with `url` and `operator`.                                                          |
| `pages_view_number` | `value`, `operator` | The `value` contains the number of pages viewed to compare.                                                                      |
| `url_referrer`      | `value`, `operator` | The `value` contains the referrer URL to match.                                                                                  |
| `geolocation`       | `value`, `operator` | The `value` contains a geographic location to match.                                                                             |
| `visits_number`     | `value`, `operator` | The `value` contains the number of visits to compare.                                                                            |
| `search_keyword`    | `value`, `operator` | The `value` contains a search keyword to match.                                                                                  |
| `custom_variable`   | `session_field`     | The `session_field` object with exactly one key-value pair. Maximum: 255 characters each.                                        |
| `ads_traffic`       | `session_field`     | The `session_field` with one key from: `microsoft`, `facebook`, `google`, `twitter`, `yahoo`. The value maximum: 255 characters. |

**2)** Possible values for the `rules[].operator` and `rules[].urls[].operator` parameters:

- `equals`
- `doesnt_equal`
- `lower_than`
- `lower_or_equal`
- `greater_than`
- `greater_or_equal`
- `contains`
- `doesnt_contain`

**3)** Possible values for the `properties` object keys:

| Possible value                | Notes                                               |
| ----------------------------- | --------------------------------------------------- |
| `addon`                       | An addon-related property.                          |
| `is_exit_intent`              | If set to `true`, exit intent detection is enabled. |
| `greeting-message_text`       | The plain text message content.                     |
| `greeting-message_json_key`   | The JSON key for message content.                   |
| `greeting-message_phrase_key` | The phrase key for message content.                 |

**4)** The `rich_message` object structure:

| Parameter                           | Required | Data type | Notes                                                                                                                                                                                                                                                      |
| ----------------------------------- | -------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `template_id`                       | yes      | `string`  | Defines how every rich message will be presented. Possible values: `cards`, `sticker`, `quick_replies`.                                                                                                                                                    |
| `elements`                          | no       | `array`   | Can contain up to 10 `element` objects.                                                                                                                                                                                                                    |
| `elements[].title`                  | yes      | `string`  | Displays formatted text on rich messages.                                                                                                                                                                                                                  |
| `elements[].subtitle`               | yes      | `string`  | Displays formatted text on rich messages.                                                                                                                                                                                                                  |
| `elements[].image`                  | yes      | `object`  | Displays images on rich messages. Required param: `url`. Optional params: `name`, `content_type`, `size`, `width`, `height`, `alternative_text`.                                                                                                           |
| `elements[].image.url`              | yes      | `string`  | The image URL.                                                                                                                                                                                                                                             |
| `elements[].image.alternative_text` | no       | `string`  | The alternative text for the image.                                                                                                                                                                                                                        |
| `elements[].buttons`                | no       | `array`   | Displays up to 13 `button` objects.                                                                                                                                                                                                                        |
| `elements[].buttons[].text`         | yes      | `string`  | The button text.                                                                                                                                                                                                                                           |
| `elements[].buttons[].type`         | yes      | `string`  | Defines the behavior after a user clicks the button. Should be used together with `elements.buttons.value`. Possible values: `webview`, `message`, `url`, `phone`. [Read more about rich messages.](/extending-chat-widget/rich-messages/#getting-started) |
| `elements[].buttons[].value`        | yes      | `string`  | Should be used together with `elements.buttons.type`. You can use this field to give the rich message of a `webview` type (a Moment) a custom title. [Read more about Moments.](/extending-chat-widget/chat-widget-moments/#how-to-start)                  |
| `elements[].buttons[].postback_id`  | yes      | `string`  | A unique identifier for this button, sent in postback events.                                                                                                                                                                                              |
| `elements[].buttons[].button_id`    | no       | `string`  | A button identifier, automatically generated if not provided.                                                                                                                                                                                              |
| `elements[].buttons[].role`         | no       | `string`  | The button role. Possible values: `default`, `primary`, `danger`.                                                                                                                                                                                          |

#### Response

| Field | Data type | Notes                                 |
| ----- | --------- | ------------------------------------- |
| `id`  | `int`     | The ID of the newly created greeting. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/create_greeting \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "type": "normal",
        "active": true,
        "active_from": "2024-01-01T00:00:00Z",
        "active_until": "2024-12-31T23:59:59Z",
        "name": "Welcome greeting",
        "group": 0,
        "rules": [
          {
            "condition": "and",
            "type": "url_current",
            "operator": "contains",
            "value": "checkout"
          },
          {
            "condition": "or",
            "type": "visit_time_site",
            "operator": "greater_than",
            "value": "30"
          }
        ],
        "properties": {
          "addon": "chat_widget",
          "is_exit_intent": "false"
        },
        "rich_message": {
          "template_id": "text",
          "elements": [
            {
              "title": "Welcome to our website!",
              "subtitle": "How can we help you today?"
            }
          ]
        }
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="createGreeting"/>

</Code>

</Section>

<Section>

<Text>

### Update Greeting

Updates the properties of a greeting.

#### Specifics

|                                  |                                                                         |
| -------------------------------- | ----------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_greeting` |
| Required scopes                  | `greetings:rw`                                                          |
| [Batch support](#batch-requests) | No                                                                      |

#### Request

| Parameter                                     | Required | Data type  | Notes                                                                                                                |
| --------------------------------------------- | -------- | ---------- | -------------------------------------------------------------------------------------------------------------------- |
| `id`                                          | Yes      | `int`      | The ID of the greeting to update.                                                                                    |
| `type`                                        | No       | `string`   | The greeting type. Possible values: `normal` (standard greeting type), `announcement` (announcement-style greeting). |
| `active`                                      | No       | `bool`     | If set to `true`, the greeting is active.                                                                            |
| `active_from`                                 | No       | `string`   | The RFC 3339 date-time when the greeting becomes active.                                                             |
| `active_until`                                | No       | `string`   | The RFC 3339 date-time when the greeting stops being active.                                                         |
| `name`                                        | No       | `string`   | The greeting name.                                                                                                   |
| `rules`                                       | No       | `object[]` | An array of action rules. See [Create Greeting](#create-greeting) for detailed structure and validation.             |
| `properties`                                  | No       | `object`   | Additional properties. See [Create Greeting](#create-greeting) for allowed keys.                                     |
| `rich_message`                                | No       | `object`   | The rich message content. See [Create Greeting](#create-greeting) for complete structure                             |
| `rich_message.elements[].buttons[].button_id` | No       | `string`   | Pass the existing ID if you want to preserve it                                                                      |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_greeting \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 123,
        "active": false,
        "name": "Updated welcome greeting",
        "rules": [
          {
            "condition": "and",
            "type": "url_current",
            "operator": "contains",
            "value": "product"
          }
        ],
        "properties": {
          "addon": "chat_widget",
          "is_exit_intent": "true"
        },
        "rich_message": {
          "template_id": "text",
          "elements": [
            {
              "title": "Updated greeting message!",
              "subtitle": "Can we help you find a product?"
            }
          ]
        }
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Delete Greeting

Deletes a greeting.

#### Specifics

|                                  |                                                                         |
| -------------------------------- | ----------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_greeting` |
| Required scopes                  | `greetings:rw`                                                          |
| [Batch support](#batch-requests) | No                                                                      |

#### Request

| Parameter | Required | Data type | Notes                             |
| --------- | -------- | --------- | --------------------------------- |
| `id`      | Yes      | `int`     | The ID of the greeting to delete. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_greeting \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 123
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Greetings

Returns a list of greetings.

#### Specifics

|                                  |                                                                        |
| -------------------------------- | ---------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_greetings` |
| Required scopes                  | `greetings:ro`                                                         |
| [Batch support](#batch-requests) | No                                                                     |

#### Request

| Parameter | Required | Data type | Notes                                                                                                                                                              |
| --------- | -------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `groups`  | No       | `array`   | An array of group IDs to filter greetings. Defaults to all accessible groups. Cannot be used with `page_id`.                                                       |
| `page_id` | No       | `string`  | The page ID for pagination. When provided, `groups` and `limit` parameters are ignored as they're encoded in the page ID. Cannot be used with `groups` or `limit`. |
| `limit`   | No       | `int`     | The number of greetings per page. Maximum: 100. Default: 100. Cannot be used with `page_id`.                                                                       |

#### Response

| Field             | Data type | Notes                                                                                  |
| ----------------- | --------- | -------------------------------------------------------------------------------------- |
| `greetings`       | `array`   | An array of greeting objects.                                                          |
| `found_greetings` | `int`     | The total number of greetings.                                                         |
| `next_page_id`    | `string`  | The page ID for the next page of results. Returned only if more results are available. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_greetings \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "groups": [0, 1],
        "limit": 25
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listGreetings"/>

</Code>

</Section>

<Section>

<Text>

### Get Greeting

Returns the details of a specific greeting.

#### Specifics

|                                  |                                                                      |
| -------------------------------- | -------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/get_greeting` |
| Required scopes                  | `greetings:ro`                                                       |
| [Batch support](#batch-requests) | No                                                                   |

#### Request

| Parameter | Required | Data type | Notes                          |
| --------- | -------- | --------- | ------------------------------ |
| `id`      | Yes      | `int`     | The ID of the greeting to get. |

#### Response

| Field          | Data type | Notes                                                                          |
| -------------- | --------- | ------------------------------------------------------------------------------ |
| `id`           | `int`     | The greeting ID.                                                               |
| `type`         | `string`  | The greeting type.                                                             |
| `active`       | `boolean` | If set to `true`, the greeting is active.                                      |
| `active_from`  | `string`  | The ISO 8601 datetime when the greeting becomes active (if set).               |
| `active_until` | `string`  | The ISO 8601 datetime when the greeting stops being active (if set).           |
| `name`         | `string`  | The greeting name.                                                             |
| `group`        | `int`     | The ID of the group the greeting is assigned to                                |
| `rules`        | `array`   | An array of rule objects. See [Create Greeting](#create-greeting) for details. |
| `properties`   | `object`  | Additional properties. See [Create Greeting](#create-greeting) for details.    |
| `rich_message` | `object`  | The rich message content. See [Create Greeting](#create-greeting) for details. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/get_greeting \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 123
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="getGreeting"/>

</Code>

</Section>

# Groups

Groups let you organize your work by creating teams with agent and bot members. You can use groups to do configuration based on shared settings (language, working hours, department) and to separate chat routing. It's worth mentioning that one agent can belong to multiple groups at the same time. It's possible to configure routing priorities for agents and Bots specifically per group.

## Methods

| HTTP method | The Groups API endpoint                                          |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.7/configuration/action/<action>` |

| Required header | Value              |
| --------------- | ------------------ |
| `Content-Type`  | `application/json` |

<Section>

<Text>

### Create Group

Creates a new group.

#### Specifics

|                                  |                                                                      |
| -------------------------------- | -------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/create_group` |
| Required scopes                  | `groups--all:rw`                                                     |
| [Batch support](#batch-requests) | No                                                                   |

#### Request

| Parameter                          | Data type | Required | Notes                                                                      |
| ---------------------------------- | --------- | -------- | -------------------------------------------------------------------------- |
| `name`                             | `string`  | Yes      | The name of the group. Maximum: 180 characters.                            |
| `language_code`                    | `string`  | No       | The code of the group language.                                            |
| `agent_priorities`<sup>**1**</sup> | `object`  | Yes      | Agent priorities in a group as a map in the `"<id>": "<priority>"` format. |

**1)** The table below presents the possible values for the `agent_priorities` map:

| Possible value | Notes                                                                                                                                                                                                           |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Agents with the `first` priority get chats before others from the same group, for example, bots can get chats before regular agents.                                         |
| `normal`       | The medium chat routing priority. Agents with the `normal` priority get chats before those with the `last` priority, when there are no agents with the `first` priority available with free slots in the group. |
| `last`         | The lowest chat routing priority. Agents with the `last` priority get chats when there are no agents with the `first` or `normal` priority available with free slots in the group.                              |
| `supervisor`   | Agents with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                            |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/create_group \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "name": "Sports shoes",
        "agent_priorities": {
          "agent1@example.com": "normal",
          "agent2@example.com": "normal",
          "agent3@example.com": "last"
        }
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="createGroup"/>

</Code>

</Section>

<Section>

<Text>

### Update Group

Updates an existing group.

#### Specifics

|                                  |                                                                                      |
| -------------------------------- | ------------------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_group`                 |
| Required scopes                  | `groups--my:rw` `groups--all:rw` (to update groups the requester is not a member of) |
| [Batch support](#batch-requests) | No                                                                                   |

#### Request

| Parameter                          | Data type | Required | Notes                                                                      |
| ---------------------------------- | --------- | -------- | -------------------------------------------------------------------------- |
| `id`                               | `int`     | Yes      | The group ID.                                                              |
| `name`                             | `string`  | No       | The name of the group. Maximum: 180 characters.                            |
| `language_code`                    | `string`  | No       | The code of the group language.                                            |
| `agent_priorities`<sup>**1**</sup> | `object`  | No       | Agent priorities in a group as a map in the `"<id>": "<priority>"` format. |

**1)** The table below presents the possible values for the `agent_priorities` map:

| Possible value | Notes                                                                                                                                                                                                           |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Agents with the `first` priority get chats before others from the same group, for example, bots can get chats before regular agents.                                         |
| `normal`       | The medium chat routing priority. Agents with the `normal` priority get chats before those with the `last` priority, when there are no agents with the `first` priority available with free slots in the group. |
| `last`         | The lowest chat routing priority. Agents with the `last` priority get chats when there are no agents with the `first` or `normal` priority available with free slots in the group.                              |
| `supervisor`   | Agents with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                            |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_group \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 19,
        "name": "Sport shoes",
        "agent_priorities": {
          "agent1@example.com": "normal",
          "agent2@example.com": "normal",
          "agent3@example.com": "last"
        }
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Delete Group

Deletes an existing group.

#### Specifics

|                                  |                                                                                      |
| -------------------------------- | ------------------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_group`                 |
| Required scopes                  | `groups--my:rw` `groups--all:rw` (to delete groups the requester is not a member of) |
| [Batch support](#batch-requests) | No                                                                                   |

#### Request

| Parameter | Data type | Required | Notes         |
| --------- | --------- | -------- | ------------- |
| `id`      | `int`     | Yes      | The group ID. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_group \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 19
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Groups

Lists all the exisiting groups.

#### Specifics

|                                  |                                                                     |
| -------------------------------- | ------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_groups` |
| Required scopes                  | `groups--all:ro`                                                    |
| [Batch support](#batch-requests) | No                                                                  |

#### Request

| Parameter                | Data type  | Required | Notes                         |
| ------------------------ | ---------- | -------- | ----------------------------- |
| `fields`<sup>**1**</sup> | `string[]` | No       | Additional fields to include. |

**1)** Possible values for the `fields[]` parameter:

| Possible value     | Notes                                                                          |
| ------------------ | ------------------------------------------------------------------------------ |
| `agent_priorities` | An object containing agents belonging to a group, along with their priorities. |
| `routing_status`   | The routing status of a group.                                                 |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_groups \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listGroups"/>

</Code>

</Section>

<Section>

<Text>

### Get Group

Returns details about a group specified by its `id`.

#### Specifics

|                                  |                                                                                   |
| -------------------------------- | --------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/get_group`                 |
| Required scopes                  | `groups--my:ro` `groups--all:ro` (to get groups the requester is not a member of) |
| [Batch support](#batch-requests) | No                                                                                |

#### Request

| Parameter                | Data type  | Required | Notes                         |
| ------------------------ | ---------- | -------- | ----------------------------- |
| `id`                     | `int`      | Yes      | The group ID.                 |
| `fields`<sup>**1**</sup> | `string[]` | No       | Additional fields to include. |

**1)** Possible values for the `fields[]` parameter:

| Possible value     | Notes                                                                          |
| ------------------ | ------------------------------------------------------------------------------ |
| `agent_priorities` | An object containing agents belonging to a group, along with their priorities. |
| `routing_status`   | The routing status of a group.                                                 |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/get_group \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 19,
        "fields": ["agent_priorities", "routing_status"]
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="getGroup"/>

</Code>

</Section>

# Properties

<Section>

<Text>

Properties are key-value storages. Property configuration is owned by a **Client Id** (integration). In this document, we call a Client Id that owns a property the **owner Client Id**.

Properties can be private or public.

- **Private** properties can be accessed only by their **owner Client Id**. [Read more...](#private-properties)
- **Public** properties can be accessed by **any Client Id**. [Read more...](#public-properties)

Properties are grouped in _namespaces_, which helps to distinguish which property belongs to a given Client Id. The property _namespace_ is named after the **Client Id** a property belongs to.

You can configure the property [type](#property-types), [location access](#property-locations), and [domain](#property-domain).

</Text>

<Code>

<CodeSample path={'The general properties format'}>

```js
{
    "properties": {
        "<namespace>": {
            "<property_name>": "<property_value>",
            "<property_name>": "<property_value>"
        }
    }
}
```

</CodeSample>

</Code>

</Section>

## Property types

There are four property types:

- `int` (int32)
- `bool`
- `string`
- `tokenized_string`

The `tokenized_string` type is a string split to tokens before indexing in our search engine. It can be useful for longer strings, such as messages. It should not be used for keywords.

## Property locations

Properties can be set within the following locations:

- event
- thread
- chat
- group
- license

You can configure access to properties within those locations. For example, you could create a property visible only to agents in a chat and thread, but not in an event.

## Property domain

The **property domain** is a set of values that a property can be assigned to.

Property domain can be configured in two ways:

- by defining a set of values explicitly allowed in this property (for example `[1, 2, 3]`).
- by defining a range. All values within the range are allowed in this property. It works only for numeric types (for example a range from `1` to `3`).

## Property default value

If a property value hasn't been explicitly set, then the **default value** will be returned, if any.
The **default value** of a property can be set during [property registration](#register-property) as the `default_value` parameter.

## Private properties

You can register, unregister, and configure a property for a **Client Id** owned by your organization. Unpublished (private) properties can be access only with a token belonging to the **owner Client Id**.  If you want other integrations to be able to access your private property, you need to publish it.

## Public properties

Once you publish a private property, it becomes accessible to other integrations. The public access to your property can be `read` and/or `write`. Consider an example:

You register a private chat property with the `read` and `write` access.

```json
{
    "name": "string_property",
    "owner_client_id": "0805e283233042b37f460ed8fbf22160",
    "type": "string",
    "access": {
      "chat": {
        "agent": ["read"],
        "customer": ["read", "write"]
      }
    }
}
```

While publishing the property, you can narrow down its public access to `read`.

```bash
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/publish_property \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "name": "string_property",
    "owner_client_id": "0805e283233042b37f460ed8fbf22160",
    "access_type": ["read"]
}'
```

In this case, tokens belonging to the owner Client Id will be able to **read** and **write** to that property. Any other token will only be able to **read** it.

💡 Published properties cannot be unregistered.

### Test properties

Each license has some test properties that you can use to play with properties.

| Namespace | Property                    | Type               | Access                     |
| --------- | --------------------------- | ------------------ | -------------------------- |
| `test`    | `bool_property`             | `bool`             | rw for everyone everywhere |
| `test`    | `int_property`              | `int`              | rw for everyone everywhere |
| `test`    | `string_property`           | `string`           | rw for everyone everywhere |
| `test`    | `tokenized_string_property` | `tokenized_string` | rw for everyone everywhere |

The `tokenized_string` property is similar to the `string` type. The values of a `tokenized_string` are split in tokens to enable searching for each word separately.

### Predefined properties

There are also [predefined public properties](/messaging/references/default-properties/#reference) used mainly by the LiveChat backend integration.

## Methods

| HTTP method | The Properties API endpoint                                      |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.7/configuration/action/<action>` |

| Required header |       Value        |      |
| --------------- | :----------------: | ---: |
| `Content-Type`  | `application/json` |      |

<Section>

<Text>

### Register Property

Registers a new private property for a given **Client Id**.

#### Specifics

|                                  |                                                                           |
| -------------------------------- | ------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/register_property` |
| Required scopes                  | `properties.configuration:rw`                                             |
| [Batch support](#batch-requests) | No                                                                        |

#### Request

| Parameter                        | Required            | Data type  | Notes                                                                               |
| -------------------------------- | ------------------- | ---------- | ----------------------------------------------------------------------------------- |
| `name`                           | Yes                 | `string`   | The property name.                                                                  |
| `owner_client_id`                | Yes                 | `string`   | The client ID that will own the property; must be owned by your organization.       |
| `type`                           | Yes                 | `string`   | Possible values: `int`, `string`, `bool`, `tokenized_string`.                       |
| `access`                         | Yes                 | `object`   |                                                                                     |
| `access.<location>`              | min. one `location` | `object`   | Possible values: `chat`, `thread`, `event`, `license`, `group`.                     |
| `access.<location>.<user>`       | min. one `user`     | `[string]` | Possible `<user>` values: `agent`, `customer`; possible values: `read`, `write`.    |
| `description`                    | No                  | `string`   | The property description.                                                           |
| `domain` <sup>**1**</sup>        | No                  | `[<type>]` | An array of values that properties can be set to.                                   |
| `range` <sup>**1**</sup>         | No                  | `object`   | A range of values that properties can be set to.                                    |
| `range.from`                     | No                  | `int`      | Only values equal to or greater than this parameter can be set to this property.    |
| `range.to`                       | No                  | `int`      | Only values equal to or lower than this parameter can be set to this property.      |
| `default_value` <sup>**2**</sup> | No                  | `type`     | The default value of the property; validated by `domain` or `range`, if one exists. |

**1)** Only one `domain` and one `range` can be set for a single property.<br/>
**2)** Registering a property with `default_value` is possible only if `access.<location>` is set to `license` or to `group`.

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/register_property \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "name": "string_property",
    "owner_client_id": "0805e283233042b37f460ed8fbf22160",
    "type": "string",
    "default_value": "string_default_value",
    "access": {
      "chat": {
        "agent": ["read"],
        "customer": ["read", "write"]
      }
      //  "thread": {},
      //  "event": {},
      //  "license": {},
      //  "group": {}
    }
}'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Unregister Property

Unregisters a private property.

#### Specifics

|                                  |                                                                             |
| -------------------------------- | --------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/unregister_property` |
| Required scopes                  | `properties.configuration:rw`                                               |
| [Batch support](#batch-requests) | No                                                                          |

#### Request

| Parameter         | Required | Data type | Notes                                                                     |
| ----------------- | -------- | --------- | ------------------------------------------------------------------------- |
| `name`            | Yes      | `string`  | The property name.                                                        |
| `owner_client_id` | Yes      | `string`  | The client ID that owns the property; must be owned by your organization. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/unregister_property \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "name": "string_property",
    "owner_client_id": "0805e283233042b37f460ed8fbf22160"
}'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Publish Property

Publishes a private property. A published property cannot be unpublished or unregistered. Published properties can be accessed by tokens belonging to any **Client Id**.

#### Specifics

|                                  |                                                                          |
| -------------------------------- | ------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/publish_property` |
| Required scopes                  | `properties.configuration:rw`                                            |
| [Batch support](#batch-requests) | No                                                                       |

#### Request

| Parameter         | Required | Data type  | Notes                                                                                                                 |
| ----------------- | -------- | ---------- | --------------------------------------------------------------------------------------------------------------------- |
| `name`            | Yes      | `string`   | The property name.                                                                                                    |
| `owner_client_id` | Yes      | `string`   | The client ID that owns the property; must be owned by your organization.                                             |
| `access_type`     | Yes      | `[string]` | Possible values: `read`, `write`. It determines the access level for the client IDs different than `owner_client_id`. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/publish_property \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "name": "string_property",
    "owner_client_id": "0805e283233042b37f460ed8fbf22160",
    "access_type": ["read"]
}'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Properties

Lists private and public properties owned by a given **Client Id**.

#### Specifics

|                                  |                                                                         |
| -------------------------------- | ----------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_properties` |
| Required scopes                  | `properties.configuration:rw`                                           |
| [Batch support](#batch-requests) | No                                                                      |

#### Request

| Parameter         | Required | Data type | Notes                                                                       |
| ----------------- | -------- | --------- | --------------------------------------------------------------------------- |
| `owner_client_id` | Yes      | `string`  | The client ID that owns the properties; must be owned by your organization. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "owner_client_id": "0805e283233042b37f460ed8fbf22160"
  }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listProperties"/>

</Code>

</Section>

<Section>

<Text>

### Update License Properties

Updates a property value within a license. This operation **doesn't** overwrite the existing values.

#### Specifics

|                                  |                                                                                                       |
| -------------------------------- | ----------------------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_license_properties`                     |
| Required scopes                  | `properties.license.value--my:rw`<sup>**1**</sup>, `properties.license.value--all:rw`<sup>**2**</sup> |
| [Batch support](#batch-requests) | No                                                                                                    |

**1)** If the requester's Client ID matches the namespace, setting license properties requires `properties.license.value--my:rw`.

**2)** If the requester's Client ID doesn't match the namespace, setting license properties requires `properties.license.value--all:rw`. The scope allows to
set all properties from your namespace and [public properties](#public-properties) from `core` and other namespaces.

#### Request

| Parameter    | Required | Data type               | Notes                                                                            |
| ------------ | -------- | ----------------------- | -------------------------------------------------------------------------------- |
| `properties` | Yes      | [`object`](#properties) | An object with namespaces as keys and properties (grouped in objects) as values. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_license_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "properties": {
            "0805e283233042b37f460ed8fbf22160": {
                "string_property": "string value"
              }
          }
      }'
```

</CodeSample>

<CodeResponse>

```json
{}
```

</CodeResponse>

</Code>

</Section>

<Section>

<Text>

### List License Properties

Returns the properties set within a license.
For properties without an explicit value assignment, the method will return the default values (if they exist).

#### Specifics

|                                  |                                                                                                       |
| -------------------------------- | ----------------------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_license_properties`                       |
| Required scopes                  | `properties.license.value--my:ro`<sup>**1**</sup>, `properties.license.value--all:ro`<sup>**2**</sup> |
| [Batch support](#batch-requests) | No                                                                                                    |

**1)** The `properties.license.value--my:ro` scope allows you to access all properties from your namespace only.

**2)** The `properties.license.value--all:ro` scope allows you to access all properties from your namespace and [public properties](#public-properties) from `core` and other namespaces.

#### Request

| Parameter     | Required | Data type | Notes                       |
| ------------- | -------- | --------- | --------------------------- |
| `namespace`   | No       | `string`  | The properties namespace.   |
| `name_prefix` | No       | `string`  | The properties name prefix. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_license_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
      "namespace": "0805e283233042b37f460ed8fbf22160",
      "name_prefix": "string"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listLicenseProperties"/>

</Code>

</Section>

<Section>

<Text>

### Delete License Properties

Deletes the properties set within a license.

#### Specifics

|                                  |                                                                                                       |
| -------------------------------- | ----------------------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_license_properties`                     |
| Required scopes                  | `properties.license.value--my:rw`<sup>**1**</sup>, `properties.license.value--all:rw`<sup>**2**</sup> |
| [Batch support](#batch-requests) | No                                                                                                    |

**1)** If the requester's Client ID matches the namespace, deleting license properties requires `properties.license.value--my:rw`.

**2)** If the requester's Client ID doesn't match the namespace, deleting license properties requires `properties.license.value--all:rw`. The scope allows to
delete all properties from your namespace and [public properties](#public-properties) from `core` and other namespaces.

#### Request

| Parameter    | Required | Data type               | Notes                                                                         |
| ------------ | -------- | ----------------------- | ----------------------------------------------------------------------------- |
| `properties` | Yes      | [`object`](#properties) | An object with namespaces as keys and property names (in an array) as values. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_license_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "properties": {
        "0805e283233042b37f460ed8fbf22160": ["string_property"]
          }
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Update Group Properties

Updates a property value within a group as the [property location](#property-locations). This operation **doesn't** overwrite the existing values.

#### Specifics

|                                  |                                                                                                   |
| -------------------------------- | ------------------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_group_properties`                   |
| Required scopes                  | `properties.group.value--my:rw`<sup>**1**</sup>, `properties.group.value--all:rw`<sup>**2**</sup> |
| [Batch support](#batch-requests) | No                                                                                                |

**1)** If the requester's Client ID matches the namespace, setting group properties requires `properties.group.value--my:rw`.

**2)** If the requester's Client ID doesn't match the namespace, setting group properties requires `properties.group.value--all:rw`. The scope allows to
set all properties from your namespace and [public properties](#public-properties) from other namespaces.

#### Request

| Parameter    | Required | Data type               | Notes                                                                            |
| ------------ | -------- | ----------------------- | -------------------------------------------------------------------------------- |
| `group_id`   | Yes      | `number`                | The ID of the group you set the properties for.                                  |
| `properties` | Yes      | [`object`](#properties) | An object with namespaces as keys and properties (grouped in objects) as values. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_group_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
      "group_id": 1,
      "properties": {
          "0805e283233042b37f460ed8fbf22160": {
              "string_property": "group property value"
              }
          }
      }'
```

</CodeSample>

<CodeResponse>

```json
{}
```

</CodeResponse>

</Code>

</Section>

<Section>

<Text>

### List Groups Properties

Returns the properties set within specified groups.

#### Specifics

|                                  |                                                                                |
| -------------------------------- | ------------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_groups_properties` |
| Required scopes                  | `properties.group.value--all:ro`                                               |
| [Batch support](#batch-requests) | No                                                                             |

#### Request

| Parameter     | Required | Data type | Notes                                                                                                                          |
| ------------- | -------- | --------- | ------------------------------------------------------------------------------------------------------------------------------ |
| `group_ids`   | Yes      | `[]int`   | The IDs of the groups you retrieve properties from. Properties from all groups will be returned if an empty array is provided. |
| `namespace`   | No       | `string`  | The properties namespace.                                                                                                      |
| `name_prefix` | No       | `string`  | The properties name prefix.                                                                                                    |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_groups_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
     "group_ids": [0, 1],
     "namespace": "a",
     "name_prefix": "b"
     }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listGroupsProperties"/>

</Code>

</Section>

<Section>

<Text>

### Delete Group Properties

Deletes the properties set within a group.

#### Specifics

|                                  |                                                                                                   |
| -------------------------------- | ------------------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_group_properties`                   |
| Required scopes                  | `properties.group.value--my:rw`<sup>**1**</sup>, `properties.group.value--all:rw`<sup>**2**</sup> |
| [Batch support](#batch-requests) | No                                                                                                |

**1)** If the requester's Client ID matches the namespace, deleting group properties requires `properties.group.value--my:rw`.

**2)** If the requester's Client ID doesn't match the namespace, deleting group properties requires `properties.group.value--all:rw`. The scope allows to
delete all properties from your namespace and [public properties](#public-properties) from other namespaces.

#### Request

| Parameter    | Required | Data type               | Notes                                                                         |
| ------------ | -------- | ----------------------- | ----------------------------------------------------------------------------- |
| `id`         | Yes      | `number`                | The ID of the group you delete properties from.                               |
| `properties` | Yes      | [`object`](#properties) | An object with namespaces as keys and property names (in an array) as values. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_group_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
      "id": 1,
      "properties": {
        "0805e283233042b37f460ed8fbf22160": ["string_property"]
          }
      }'
```

</CodeSample>

</Code>

</Section>

# Tags

<Section>

<Text>

Tags are simple text labels that can be used by agents to assign chats to pre-defined, custom categories. Tags are useful for filtering out chats in archives and reports.

To create a new tag, call the [**Create Tag**](/management/configuration-api/v3.7/#create-tag) method with a `name`. Letter case is ignored when checking if a tag already exists. When creating a tag, you can also provide `group_ids` to assign the tag to some groups right away. It's also possible to create a tag with empty `group_ids` and update the group assignment later with [**Update Tag**](/management/configuration-api/v3.7/#update-tag).

 To remove a tag, call [**Delete Tag**](/management/configuration-api/v3.7/#delete-tag). Both **Update Tag** and **Delete Tag** methods respect the letter case when matching the tag. You can list all tags existing on your account with the [**List Tags**](/management/configuration-api/v3.7/#list-tags) method.

Users with the `tags--all:rw` scope can create/delete/update tags in all license's groups. Users with the `tags--groups:rw` scope are restricted to groups they are assigned to. Similarly `tags--all:ro` and `tags--groups:ro` scopes affect listing tags.

Tag can be used to mark a chat's thread only if the thread and the tag are assigned to at least one common group.

</Text>

</Section>

## Methods

| HTTP method | The Tags API endpoint                                            |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.7/configuration/action/<action>` |

| Required header |       Value        |      |
| --------------- | :----------------: | ---: |
| `Content-Type`  | `application/json` |      |

<Section>

<Text>

### Create Tag

Creates a new tag.

#### Specifics

|                                  |                                                                    |
| -------------------------------- | ------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/create_tag` |
| Required scopes                  | `tags--all:rw` `tags--groups:rw`                                   |
| [Batch support](#batch-requests) | No                                                                 |

#### Request

| Parameter   | Required | Data type | Notes                                                     |
| ----------- | -------- | --------- | --------------------------------------------------------- |
| `name`      | yes      | `string`  | Matching the name of an existing tag is case insensitive. |
| `group_ids` | no       | `[]int`   | Can be empty.                                             |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/create_tag \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "name": "docs_feedback",
    "group_ids": [
      0,
      42
    ]
  }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Delete Tag

Deletes an existing tag.

#### Specifics

|                                  |                                                                    |
| -------------------------------- | ------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_tag` |
| Required scopes                  | `tags--all:rw` `tags--groups:rw`                                   |
| [Batch support](#batch-requests) | No                                                                 |

#### Request

| Parameter | Required | Data type | Notes                                                   |
| --------- | -------- | --------- | ------------------------------------------------------- |
| `name`    | yes      | `string`  | Matching the name of an existing tag is case sensitive. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_tag \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "name": "docs_feedback"
  }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Tags

Lists the exisiting tags.

#### Specifics

|                                  |                                                                   |
| -------------------------------- | ----------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_tags` |
| Required scopes                  | `tags--all:ro` `tags--groups:ro`                                  |
| [Batch support](#batch-requests) | No                                                                |

#### Request

| Parameter           | Required | Data type | Notes                                                   |
| ------------------- | -------- | --------- | ------------------------------------------------------- |
| `filters`           | No       | `object`  | Possible request filters.                               |
| `filters.group_ids` | Yes      | `int[]`   | The IDs of the groups from which you want to list tags. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_tags \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "filters": {
      "group_ids": [
        0,
        42
      ]
    }
  }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listTags"/>

</Code>

</Section>

<Section>

<Text>

### Update Tag

Updates an existing tag.

#### Specifics

|                                  |                                                                    |
| -------------------------------- | ------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_tag` |
| Required scopes                  | `tags--all:rw` `tags--groups:rw`                                   |
| [Batch support](#batch-requests) | No                                                                 |

#### Request

| Parameter   | Required | Data type | Notes                                                   |
| ----------- | -------- | --------- | ------------------------------------------------------- |
| `name`      | yes      | `string`  | Matching the name of an existing tag is case sensitive. |
| `group_ids` | no       | `[]int`   | Can be empty.                                           |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_tag \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "name": "docs_feedback",
    "group_ids": [
      0,
      42
    ]
  }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

# Webhooks

Here's what you need to know about **webhooks**:

- Webhooks notify you when specific events are triggered.
- They can be generated by both Web and RTM API actions.
- Webhooks and pushes have similar payloads.
- You **register** webhook definitions per Client ID (application).
- Webhooks are always automatically enabled for the licences that install your application.
- There's a limit of three weebhoks for every action a Client ID can register.

💡 <a href="https://developers.livechat.com/updates/setting-up-webhooks-with-livechat-api" target="_blank">Tutorial: How to set up LiveChat webhooks.</a>

</Text>

<Code>

<CodeResponse title={'general webhook format'}>

```json
{
  "webhook_id": "<webhook_id>",
  "secret_key": "<secret_key>",
  "action": "<action>",
  "organization_id": "<organization_id>",
  "payload": {
  },
  "additional_data": {
    "chat_properties": { //optional
        // chat properties
    },
    "chat_presence_user_ids": [ //optional
      // User IDs
    ]
  }
}
```

</CodeResponse>

</Code>

</Section>

## Methods

| HTTP method | The Webhooks API endpoint                                        |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.7/configuration/action/<action>` |

| Required header |       Value        |      |
| --------------- | :----------------: | ---: |
| `Content-Type`  | `application/json` |      |

<Section>

<Text>

### Register Webhook

Registers a webhook for the Client ID (application) provided in the request. One Client ID can register up to three webhooks for every `action`. The `license` webhooks'll be enabled automatically when the application is installed on the license.

As an alternative to calling Register Webhook, you can register webhooks via <Placeholder id="DEVELOPER_CONSOLE_URL" /> by configuring the Chat Webhooks building block. [Learn more...](/guides/console-guides/chat-webhooks/)

For `bot` webhooks, you need to [create a bot](#create-bot), [register webhooks](#register-webhook), and then, call [Set Routing Status](/messaging/agent-chat-api/v3.7/#set-routing-status).

#### Specifics

|                                        |                                                                          |
| -------------------------------------- | ------------------------------------------------------------------------ |
| Method URL                             | `https://api.livechatinc.com/v3.7/configuration/action/register_webhook` |
| Required token scopes <sup>**1**</sup> | `webhooks.configuration:rw`                                              |
| [Batch support](#batch-requests)       | No                                                                       |

**1)** Token scopes are assigned to an access token, not to an application (Client ID). For this method, we recommend authorizing with a [Personal Access Token (PAT)](/authorization/agent-authorization#personal-access-tokens). Make sure your PAT has the `webhooks.configuration:rw` scope.

| Parameter                                       | Required | Data type  | Notes                                                                                                                                                                                                                                                |
| ----------------------------------------------- | -------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `action`<sup>**2**</sup>                        | yes      | `string`   | The [action](#triggering-actions) that triggers sending a webhook.                                                                                                                                                                                   |
| `secret_key`                                    | yes      | `string`   | The secret key sent in webhooks to verify the source of a webhook.                                                                                                                                                                                   |
| `url`                                           | yes      | `string`   | The destination URL for the webhook. Maximum: 500 characters.                                                                                                                                                                                                                 |
| `additional_data`                               | no       | `[]string` | Additional data arriving with the webhook. Possible values: `chat_properties`, `chat_presence_user_ids` (all actions except for `agent_status_changed`, `agent_deleted`).                                                                            |
| `description`                                   | no       | `string`   | The webhook description.                                                                                                                                                                                                                             |
| `filters`                                       | no       | `object`   | Filters to check if a webhook should be triggered.                                                                                                                                                                                                   |
| `filters.author_type`                           | no       | `string`   | Possible values: `customer`, `agent`; allowed only for the `incoming_event` and `event_updated` actions.                                                                                                                                             |
| `filters.only_my_chats`                         | no       | `bool`     | If set to `true`: triggers webhooks only for chats with the property `source.client_id` set to my `client_id`.                                                                                                                                       |
| `filters.chat_presence`                         | no       | `object`   | Filters to check if a webhook should be triggered based on user's presence in the chat.                                                                                                                                                              |
| `filters.chat_presence.user_ids`                | no       | `object`   | Only one filter (`values` or `exclude_values`) is allowed. Supports every user type (agent, customer, bot).                                                                                                                                          |
| `filters.chat_presence.user_ids.values`         | no       | `[]string` | An array of user IDs; if any specified user is in the chat, the webhook will be triggered.                                                                                                                                                           |
| `filters.chat_presence.user_ids.exclude_values` | no       | `[]string` | An array of user IDs; if any specified user is in the chat, the webhook will not be triggered.                                                                                                                                                       |
| `filters.chat_presence.my_bots`                 | no       | `bool`     | If set to `true`: the webhook will be triggered if any bot owned by `owner_client_id` is in the chat.                                                                                                                                                |
| `filters.source_type`                           | no       | `[]string` | An array of source types. Possible values: `my_client` (client ID of your app), `other_clients` (client IDs other than your app's), `system` (no client ID); if the source which triggered the webhook matches the filter, the webhook will be sent. |
| `owner_client_id`                               | yes      | `string`   | The client ID that will own the webhook; must be owned by your organization.                                                                                                                                                                         |
| `type`                                          | yes      | `string`   | Possible values: `bot`, `license`.                                                                                                                                                                                                                   |

#### Triggering actions

**2)** The table below presents the possible values for the `action` parameter.

| Possible action                                                                                |                                              Available filters |
| ---------------------------------------------------------------------------------------------- | -------------------------------------------------------------: |
| [`incoming_chat`](/management/webhooks/v3.7#incoming_chat)                                     |                `chat_presence`, `only_my_chats`, `source_type` |
| [`chat_deactivated`](/management/webhooks/v3.7#chat_deactivated)                               |                `chat_presence`, `only_my_chats`, `source_type` |
| [`chat_access_updated`](/management/webhooks/v3.7#chat_access_updated)                         |                `chat_presence`, `only_my_chats`, `source_type` |
| [`chat_transferred`](/management/webhooks/v3.7#chat_transferred)                               |                `chat_presence`, `only_my_chats`, `source_type` |
| [`user_added_to_chat`](/management/webhooks/v3.7#user_added_to_chat)                           |                `chat_presence`, `only_my_chats`, `source_type` |
| [`user_removed_from_chat`](/management/webhooks/v3.7#user_removed_from_chat)                   |                `chat_presence`, `only_my_chats`, `source_type` |
| [`incoming_event`](/management/webhooks/v3.7#incoming_event)                                   | `chat_presence`, `author_type`, `only_my_chats`, `source_type` |
| [`event_deleted`](/management/webhooks/v3.7#event_deleted)                                     |                `chat_presence`, `only_my_chats`, `source_type` |
| [`event_updated`](/management/webhooks/v3.7#event_updated)                                     | `chat_presence`, `author_type`, `only_my_chats`, `source_type` |
| [`incoming_rich_message_postback`](/management/webhooks/v3.7#incoming_rich_message_postback)   |                `chat_presence`, `only_my_chats`, `source_type` |
| [`chat_properties_updated`](/management/webhooks/v3.7#chat_properties_updated)                 |                `chat_presence`, `only_my_chats`, `source_type` |
| [`chat_properties_deleted`](/management/webhooks/v3.7#chat_properties_deleted)                 |                `chat_presence`, `only_my_chats`, `source_type` |
| [`thread_properties_updated`](/management/webhooks/v3.7#thread_properties_updated)             |                `chat_presence`, `only_my_chats`, `source_type` |
| [`thread_properties_deleted`](/management/webhooks/v3.7#thread_properties_deleted)             |                `chat_presence`, `only_my_chats`, `source_type` |
| [`event_properties_updated`](/management/webhooks/v3.7#event_properties_updated)               |                `chat_presence`, `only_my_chats`, `source_type` |
| [`event_properties_deleted`](/management/webhooks/v3.7#event_properties_deleted)               |                `chat_presence`, `only_my_chats`, `source_type` |
| [`thread_tagged`](/management/webhooks/v3.7#thread_tagged)                                     |                `chat_presence`, `only_my_chats`, `source_type` |
| [`thread_untagged`](/management/webhooks/v3.7#thread_untagged)                                 |                `chat_presence`, `only_my_chats`, `source_type` |
| [`routing_status_set`](/management/webhooks/v3.7#routing_status_set)                           |                                     `agent_ids`, `source_type` |
| [`customer_session_fields_updated`](/management/webhooks/v3.7#customer_session_fields_updated) |                                 `chat_presence`, `source_type` |
| [`events_marked_as_seen`](/management/webhooks/v3.7#events_marked_as_seen)                     |                `chat_presence`, `only_my_chats`, `source_type` |
| [`group_created`](/management/webhooks/v3.7#group_created)                                     |                                                  `source_type` |
| [`group_updated`](/management/webhooks/v3.7#group_updated)                                     |                                                  `source_type` |
| [`group_deleted`](/management/webhooks/v3.7#group_deleted)                                     |                                                  `source_type` |
| [`agent_created`](/management/webhooks/v3.7#agent_created)                                     |                                                  `source_type` |
| [`agent_updated`](/management/webhooks/v3.7#agent_updated)                                     |                                                  `source_type` |
| [`agent_deleted`](/management/webhooks/v3.7#agent_deleted)                                     |                                                  `source_type` |
| [`agent_suspended`](/management/webhooks/v3.7#agent_suspended)                                 |                                                  `source_type` |
| [`agent_unsuspended`](/management/webhooks/v3.7#agent_unsuspended)                             |                                                  `source_type` |
| [`agent_approved`](/management/webhooks/v3.7#agent_approved)                                   |                                                  `source_type` |
| [`bot_created`](/management/webhooks/v3.7#bot_created)                                         |                                                  `source_type` |
| [`bot_updated`](/management/webhooks/v3.7#bot_updated)                                         |                                                  `source_type` |
| [`bot_deleted`](/management/webhooks/v3.7#bot_deleted)                                         |                                                  `source_type` |
| [`auto_accesses_updated`](/management/webhooks/v3.7#auto_accesses_updated)                     |                                                  `source_type` |
| [`tag_created`](/management/webhooks/v3.7#tag_created)                                         |                                                  `source_type` |
| [`tag_deleted`](/management/webhooks/v3.7#tag_deleted)                                         |                                                  `source_type` |
| [`tag_updated`](/management/webhooks/v3.7#tag_updated)                                         |                                                  `source_type` |
| [`thread_summary_set`](/management/webhooks/v3.7#thread_summary_set)                           |                `chat_presence`, `only_my_chats`, `source_type` |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/register_webhook \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Basic <your_username>:<your_PAT>' \
  -d '{
        "url": "http://myservice.com/webhooks",
        "description": "Test webhook",
        "action": "chat_deactivated",
        "secret_key": "laudla991lamda0pnoaa0",
        "owner_client_id": "asXdesldiAJSq9padj",
        "type": "license"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="registerWebhook"/>

</Code>

</Section>

<Section>

<Text>

### List Webhooks

Lists all webhooks registered for the given Client ID.

#### Specifics

|                                  |                                                                       |
| -------------------------------- | --------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_webhooks` |
| Required scopes                  | `webhooks.configuration:rw`                                           |
| [Batch support](#batch-requests) | No                                                                    |

#### Request

| Parameter         | Required | Data type | Notes                                                                  |
| ----------------- | -------- | --------- | ---------------------------------------------------------------------- |
| `owner_client_id` | yes      | `string`  | The webhook owner (the client ID for which the webhook is registered). |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_webhooks \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "owner_client_id": "0805e283233042b37f460ed8fbf22160"
  }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listWebhooks"/>

</Code>

</Section>

<Section>

<Text>

### Unregister Webhook

Unregisters a webhook previously [registered](#register-webhook) for a Client ID (application).

#### Specifics

|                                  |                                                                            |
| -------------------------------- | -------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/unregister_webhook` |
| Required scopes                  | `webhooks.configuration:rw`                                                |
| [Batch support](#batch-requests) | No                                                                         |

#### Request

| Parameter         | Required | Data type | Notes                                                                  |
| ----------------- | -------- | --------- | ---------------------------------------------------------------------- |
| `id`              | Yes      | `string`  | The webhook ID.                                                        |
| `owner_client_id` | Yes      | `string`  | The webhook owner (the client ID for which the webhook is registered). |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/unregister_webhook \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "id": "pqi8oasdjahuakndw9nsad9na",
        "owner_client_id": "0805e283233042b37f460ed8fbf22160"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Webhook Names

Lists all webhooks that are supported in a given API version. This method requires no authorization.

#### Specifics

|                                  |                                                                            |
| -------------------------------- | -------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_webhook_names` |
| Required scopes                  | -                                                                          |
| [Batch support](#batch-requests) | No                                                                         |

#### Request

| Parameter | Required | Data type | Notes                                    |
| --------- | -------- | --------- | ---------------------------------------- |
| `version` | No       | `string`  | Default: the current stable API version. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_webhook_names \
  -H 'Content-Type: application/json' \
  -d '{
        "version": "3.7"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listWebhookNames"/>

</Code>

</Section>

<Section>

<Text>

### Enable License Webhooks

Enables the [disabled](#disable-license-webhooks) webhooks on the license.

Use this method only if you disabled the webhooks on the license via [Disable License Webhooks](#disable-license-webhooks).
Otherwise, the webhooks will be automatically enabled when the associated application is installed on the license.

#### Specifics

|                                  |                                                                                 |
| -------------------------------- | ------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/enable_license_webhooks` |
| Required scopes                  | `webhooks.state:rw`                                                             |
| [Batch support](#batch-requests) | No                                                                              |

#### Request

| Parameter         | Required | Data type | Notes                                                                                                                                                                                                                                                                                               |
| ----------------- | -------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `owner_client_id` | Yes      | `string`  | Required only when authorizing via [PATs](/authorization/agent-authorization#personal-access-tokens). When you provide this param while authorizing with a Bearer Token, the `client_id` associated with the Bearer Token will be ignored, and the provided `owner_client_id` will be used instead. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/enable_license_webhooks \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Disable License Webhooks

Disables the webhooks on the license. The webhooks will stay disabled even after the associated application is reinstalled.
To enable the webhooks again (and to rely on automatic webhooks enablement), use [Enable License Webhooks](#enable-license-webhooks).

#### Specifics

|                                  |                                                                                  |
| -------------------------------- | -------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/disable_license_webhooks` |
| Required scopes                  | `webhooks.state:rw`                                                              |
| [Batch support](#batch-requests) | No                                                                               |

#### Request

| Parameter         | Required | Data type | Notes                                                                                                                                                                                                                                                                                               |
| ----------------- | -------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `owner_client_id` | Yes      | `string`  | Required only when authorizing via [PATs](/authorization/agent-authorization#personal-access-tokens). When you provide this param while authorizing with a Bearer Token, the `client_id` associated with the Bearer Token will be ignored, and the provided `owner_client_id` will be used instead. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/disable_license_webhooks \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Get License Webhooks State

Gets the state of the webhooks registered for a given **Client Id** (application) on the license associated with the access token used in the request.

#### Specifics

|                                  |                                                                                    |
| -------------------------------- | ---------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/get_license_webhooks_state` |
| Required scopes                  | `webhooks.state:ro`                                                                |
| [Batch support](#batch-requests) | No                                                                                 |

#### Request

| Parameter         | Required | Data type | Notes                                                                                                                                                                                                                                                                                               |
| ----------------- | -------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `owner_client_id` | Yes      | `string`  | Required only when authorizing via [PATs](/authorization/agent-authorization#personal-access-tokens). When you provide this param while authorizing with a Bearer Token, the `client_id` associated with the Bearer Token will be ignored, and the provided `owner_client_id` will be used instead. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/get_license_webhooks_state \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="getWebhooksState"/>

</Code>

</Section>

## Available webhooks

To see the list of available webhooks v3.7, [visit the Webhooks](/management/webhooks/v3.7/) document.

# Canned responses

<Section>

### Create Canned Response

Creates a new canned response.

#### Specifics

|                                  |                                                                                |
| -------------------------------- | ------------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/create_canned_response` |
| Required scopes                  | `canned_responses_write`                                                       |
| [Batch support](#batch-requests) | No                                                                             |

#### Request

| Parameter    | Required | Data type       | Notes                                                                                                          |
| ------------ | -------- | --------------- | -------------------------------------------------------------------------------------------------------------- |
| `text`       | Yes      | `string`        | The canned response text content. <sup>**1**</sup>                                                             |
| `tags`       | Yes      | `array[string]` | An array of tags.                                                                                              |
| `group_id`   | Yes      | `number`        | The ID of the group the canned response belongs to.                                                            |
| `is_private` | No       | `bool`          | If set to `true`: the canned response will be private. If set to `false`: it will be public. Default: `false`. |

**1)** `text` is sanitized when created. If sanitization removes all content and the input becomes empty, the system rejects the request as invalid.

#### Response

| Parameter | Data type | Notes                                  |
| --------- | --------- | -------------------------------------- |
| `id`      | `number`  | The ID of the created canned response. |

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/create_canned_response \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "text": "Thank you for contacting us! How can I help you today?",
    "tags": ["greeting", "support"],
    "group_id": 1,
    "is_private": false
  }'
```

</CodeSample>

<CodeResponse>

```json
{
  "id": 12345
}
```

</CodeResponse>

</Code>

### Update Canned Response

Updates an existing canned response.

#### Specifics

|                                  |                                                                                |
| -------------------------------- | ------------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_canned_response` |
| Required scopes                  | `canned_responses_write`                                                       |
| [Batch support](#batch-requests) | No                                                                             |

#### Request

| Parameter    | Required | Data type       | Notes                                                                                        |
| ------------ | -------- | --------------- | -------------------------------------------------------------------------------------------- |
| `id`         | Yes      | `number`        | The ID of the canned response to update.                                                     |
| `text`       | No       | `string`        | The new canned response text. <sup>1</sup>                                                   |
| `tags`       | No       | `array[string]` | An array of tags.                                                                            |
| `group_id`   | No       | `number`        | The new group ID for the canned response.                                                    |
| `is_private` | No       | `bool`          | If set to `true`: the canned response will be private. If set to `false`: it will be public. |

**1)** `text` is sanitized when created. If sanitization removes all content and the input becomes empty, the system rejects the request as invalid.

#### Response

Empty response object `{}`.

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_canned_response \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "id": 12345,
    "text": "Thank you for contacting us! How may I assist you today?",
    "tags": ["greeting", "support", "updated"],
    "is_private": true
  }'
```

</CodeSample>

<CodeResponse>

```json
{}
```

</CodeResponse>

</Code>

### List Canned Responses

Returns a paginated list of canned responses.

#### Specifics

|                                  |                                                                               |
| -------------------------------- | ----------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_canned_responses` |
| Required scopes                  | `canned_responses_read`                                                       |
| [Batch support](#batch-requests) | No                                                                            |

#### Request

| Parameter         | Required | Data type       | Notes                                                                                     |
| ----------------- | -------- | --------------- | ----------------------------------------------------------------------------------------- |
| `group_ids`       | No       | `array[number]` | Filter by specific group IDs. If not provided, defaults to groups the user has access to. |
| `include_private` | No       | `bool`          | If set to `true`: private canned responses will be included. Default: `false`.            |
| `limit`           | No       | `number`        | The number of results per page. Minimum: 1. Maximum: 100000. Default: 100.                |
| `page_id`         | No       | `string`        | The page ID for pagination.                                                               |

#### Response

| Parameter                | Data type               | Notes                                        |
| ------------------------ | ----------------------- | -------------------------------------------- |
| `canned_responses`       | `array[CannedResponse]` | An array of canned response objects.         |
| `found_canned_responses` | `number`                | The total number of canned responses found.  |
| `next_page_id`           | `string`                | The page ID for the next page, if it exists. |

##### Response

| Parameter    | Data type       | Notes                                           |
| ------------ | --------------- | ----------------------------------------------- |
| `id`         | `number`        | The canned response ID.                         |
| `text`       | `string`        | The canned response text content.               |
| `tags`       | `array[string]` | An array of tags.                               |
| `group_id`   | `number`        | The group ID the canned response belongs to.    |
| `is_private` | `bool`          | `true` when the canned response is private.     |
| `author_id`  | `string`        | The user ID of the last editor.                 |
| `created_at` | `string`        | Specifies when the canned response was created. |
| `updated_at` | `string`        | Specifies when the canned response was updated. |

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_canned_responses \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "group_ids": [1, 2],
    "include_private": true,
    "limit": 10
  }'
```

</CodeSample>

<CodeResponse>

```json
{
  "canned_responses": [
    {
      "id": 12345,
      "text": "Thank you for contacting us! How may I assist you today?",
      "tags": ["greeting", "support", "updated"],
      "group_id": 1,
      "is_private": true,
      "author_id": "smith@example.com",
      "created_at": "2025-10-17T08:16:45.000000Z",
      "updated_at": "2025-10-17T08:16:45.000000Z",
    },
    {
      "id": 12346,
      "text": "We'll get back to you within 24 hours.",
      "tags": ["follow-up"],
      "group_id": 1,
      "is_private": false,
      "author_id": "smith@example.com",
      "created_at": "2025-10-10T08:16:45.000000Z",
      "updated_at": "2025-22-17T07:11:28.288340Z",
    }
  ],
  "found_canned_responses": 25,
  "next_page_id": "MTIzNDY="
}
```

</CodeResponse>

</Code>

### Delete Canned Response

Deletes an existing canned response.

#### Specifics

|                                  |                                                                                |
| -------------------------------- | ------------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/delete_canned_response` |
| Required scopes                  | `canned_responses_write`                                                       |
| [Batch support](#batch-requests) | No                                                                             |

#### Request

| Parameter | Required | Data type | Notes                                    |
| --------- | -------- | --------- | ---------------------------------------- |
| `id`      | Yes      | `number`  | The ID of the canned response to delete. |

#### Response

Empty response object `{}`.

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/delete_canned_response \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "id": 12345
  }'
```

</CodeSample>

<CodeResponse>

```json
{}
```

</CodeResponse>

</Code>

</Section>

# Translations

<Section>

### Update Translations

Updates existing translations.

#### Specifics

|                                  |                                                                                |
| -------------------------------- | ------------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_translations`    |
| Required scopes                  | `languages_write`                                                              |
| [Batch support](#batch-requests) | Yes                                                                            |

#### Request

| Parameter                    | Required | Data type    | Notes                                            |
| ---------------------------- | -------- | ------------ | ------------------------------------------------ |
| `group_id`                   | Yes      | `number`     | ID of the group                                  |
| `language`                   | Yes      | `string`     | Language identifier                              |
| `phrases`<sup>**1**</sup>    | Yes      | `object`     | List of phrases to update as key-value pairs     |

**1)** Possible values for the `phrases` object keys:

| Possible value                      | Notes                           |
| ----------------------------------- | ------------------------------- |
| `Welcome_title`                     | Welcome message                 |
| `Agents_not_available_continuous`   | Contact card message            |
| `User_in_queue`                     | Queued customer info            |
| `Client`                            | Default customer name           |
| `Embedded_textarea_placeholder`     | Message placeholder             |
| `Offline_message_sent`              | Ticket confirmation message     |

#### Response

Empty response object `{}`.

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_translations \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "group_id": 0,
    "language": "en",
    "phrases": {
      "Welcome_title": "Welcome to chat!"
    }
  }'
```

</CodeSample>

<CodeResponse>

```json
{}
```

</CodeResponse>

</Code>

### List Translations

Returns a list of all translations.

#### Specifics

|                                  |                                                                               |
| -------------------------------- | ----------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_translations`     |
| Required scopes                  | `languages_read`                                                              |
| [Batch support](#batch-requests) | No                                                                            |

#### Request

| Parameter    | Required | Data type    | Notes                         |
| ------------ | -------- | ------------ | ----------------------------- |
| `group_id`   | Yes      | `number`     | ID of the group               |
| `language`   | Yes      | `string`     | Language identifier           |

#### Response

| Parameter       | Data type    | Notes                                 |
| --------------- | ------------ | ------------------------------------- |
| `phrases`       | `object`     | List of phrases as key-value pairs    |

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_translations \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
    "group_id": 0,
    "language": "en"
  }'
```

</CodeSample>

<CodeResponse>

```json
{
  "phrases": {
    "Welcome_title": "Welcome to chat",
    "Offline_form":  "Thank you for contacting us"
  }
}
```

</CodeResponse>

</Code>

</Section>

# Other

## Methods

<Section>

<Text>

### List Channels

Returns the summary of communication channels for your LiveChat product.

#### Specifics

|                                  |                                                                       |
| -------------------------------- | --------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/list_channels` |
| Required scopes                  | -                                                                     |
| [Batch support](#batch-requests) | No                                                                    |

#### Request

Empty request payload.

#### Response

The response is an array of the channel objects:

| Field                      | Data type | Notes                                                                        |
| -------------------------- | --------- | ---------------------------------------------------------------------------- |
| `channel_type`             | `string`  | Possible values: `code`, `direct_link`, `integration`.                       |
| `channel_subtype`          | `string`  | An empty string for `code` and `direct_link`. A Client ID for `integration`. |
| `first_activity_timestamp` | `string`  | The RFC 3339 date-time format.                                               |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/list_channels \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="listChannels"/>

</Code>

</Section>

<Section>

<Text>

### Check Product Limits for Plan

Resource limits in the LiveChat product are different for each plan. This method compares your organization's current resources with a given plan and returns those which exceeded the called plan's limits. Useful when considering downgrading the plan.

#### Specifics

|                                  |                                                                                       |
| -------------------------------- | ------------------------------------------------------------------------------------- |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/check_product_limits_for_plan` |
| Required scopes                  | `subscription.lc:rw`<sup>**1**</sup>                                                  |
| [Batch support](#batch-requests) | No                                                                                    |

**1)** `subscription.lc:rw` is a private scope; it's not possible to configure it in Developer Console.

#### Request

| Parameter | Required | Data type | Notes                                                               |
| --------- | -------- | --------- | ------------------------------------------------------------------- |
| `plan`    | yes      | `string`  | Possible values: `starter`, `team`, `enterprise`, `enterpriseplus`. |

#### Response

| Resource Name          | Notes                                                                                                                                                     |
| ---------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `agents`               | The number of active agents, including bots, that exceeded the limit.                                                                                     |
| `groups`               | The number of groups that exceeded the limit.                                                                                                             |
| `banned`               | The number of banned visitors that exceeded the limit.                                                                                                    |
| `queue`                | The number of chats waiting in the queue (with [Messaging Mode](/messaging#messaging-mode) disabled) that exceeded the limit.                             |
| `queue_continuous`     | The number of chats waiting in the queue (with [Messaging Mode](/messaging#messaging-mode) enabled) that exceeded the limit.                              |
| `groups_per_agent`     | The number of groups an agent can be assigned to that exceeded the limit.                                                                                 |
| `access_rules`         | The number of [Access Rules](/management/configuration-api#auto-access) that exceeded the limit.                                                          |
| `group_chooser_groups` | The number of groups available in the [pre-chat survey](https://www.livechat.com/help/dividing-live-chat-by-group/#target-field) that exceeded the limit. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/check_product_limits_for_plan \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "plan": "starter"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="checkProductLimitsForPlan"/>

</Code>

</Section>

<Section>

<Text>

### Get Product Source

This method retrieves the `source` parameters that were passed when activating the LiveChat product.

#### Specifics

|                 |                                                                            |
| --------------- | -------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.7/configuration/action/get_product_source` |
| Required scopes | -                                                                          |

#### Request

Empty request payload.

#### Response

| Field         | Data type | Notes                                                                  |
| ------------- | --------- | ---------------------------------------------------------------------- |
| `source_id`   | `string`  | The source ID parameter passed when activating the LiveChat product.   |
| `source_type` | `string`  | The source type parameter passed when activating the LiveChat product. |
| `source_url`  | `string`  | The source URL parameter passed when activating the LiveChat product.  |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/get_product_source \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.7" json="getProductSource"/>

</Code>

</Section>

<Section>

<Text>

### Reactivate Email

Reactivates email if it has been bounced.

#### Specifics

|                                  |                                                                          |
| -------------------------------- | ------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/reactivate_email` |
| Required scopes                  | `agents--all:rw`                                                         |
| [Batch support](#batch-requests) | No                                                                       |

#### Request

| Parameter  | Required | Data type | Notes         |
| ---------- | -------- | --------- | ------------- |
| `agent_id` | Yes      | `string`  | The agent ID. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/reactivate_email \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "agent_id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Update Company Details

Updates company details of the license.

#### Specifics

|                                  |                                                                                |
| -------------------------------- | ------------------------------------------------------------------------------ |
| Method URL                       | `https://api.livechatinc.com/v3.7/configuration/action/update_company_details` |
| Required scopes                  | `organization--my:rw`                                                          |
| [Batch support](#batch-requests) | No                                                                             |

#### Request

| Parameter       | Required | Data type | Notes                                                                                                               |
| --------------- | -------- | --------- | ------------------------------------------------------------------------------------------------------------------- |
| `enrich`        | No       | `bool`    | If set to `true`: the system will attempt to automatically fill empty fields by searching for the company's domain. |
| `audience`      | No       | `string`  | The audience.                                                                                                       |
| `chat_purpose`  | No       | `string`  | The chat purpose.                                                                                                   |
| `city`          | No       | `string`  | The city.                                                                                                           |
| `company`       | No       | `string`  | The company.                                                                                                        |
| `company_size`  | No       | `string`  | The company size.                                                                                                   |
| `country`       | No       | `string`  | The country.                                                                                                        |
| `invoice_email` | No       | `string`  | The invoice email.                                                                                                  |
| `invoice_name`  | No       | `string`  | The invoice name.                                                                                                   |
| `nip`           | No       | `string`  | The Employer Identification Number.                                                                                 |
| `postal_code`   | No       | `string`  | The postal code.                                                                                                    |
| `state`         | No       | `string`  | The state.                                                                                                          |
| `street`        | No       | `string`  | The street.                                                                                                         |
| `phone`         | No       | `string`  | The phone.                                                                                                          |
| `province`      | No       | `string`  | The province.                                                                                                       |
| `url`           | No       | `string`  | The URL.                                                                                                            |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.7/configuration/action/update_company_details \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "enrich": true,
        "url": "www.text.com",
      }'
```

</CodeSample>

</Code>

</Section>

# Errors

<CodeResponse title={'Format of error payload'}>

```json
{
  "error": {
    "type": "misdirected_request",
    "message": "Wrong region",
    "data": {
      // optional
      "region": "dal"
    }
  }
}
```

</CodeResponse>

## Possible errors

<Errors errors="authentication,authorization,already_exists,group_not_found,internal,license_expired,limit_reached,misdirected_request,not_found,too_many_requests,ownership_transfer,unsupported_version,validation"/>

# Contact us

If you found a bug or a typo, you can let us know directly on GitHub. In case of any questions or feedback, don't hesitate to contact us at <a href="mailto:developers@text.com">developers@text.com</a>. We'll be happy to hear from you!

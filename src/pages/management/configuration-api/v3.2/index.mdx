---
weight: 10
category: "management"
subcategory: "configuration-api"
title: "Configuration API"
tagline: "Set up webhooks, create Bots or properties."
desc: "Reach out for the Configuration API to set up webhooks, create Bots or properties."
apiVersion: "3.2"
---

# Introduction

Configuration API is a service for storing configuration of license. You can set up here different types of features such as properties or webhooks.

## Versioning

This document describes the **Configuration API v3.2**. This is the **legacy** version. We encourage you to migrate to the latest stable version. [Read more about versioning...](/management/#api-versioning)

### Lifecycle headers

API responses will contain one of two headers related to the API lifecycle: `Legacy` or `Deprecation`. These headers specify when the associated stage ends (in the `YYYY-MM-DD` format).

## Authentication

Authentication for Configuration API is handled by access tokens. Find out how to get an access token from [Agent authorization flows](/authorization/authorizing-api-calls/#agent-authorization-flows). If a method requires particular authorization scopes, you’ll find them included in the method description. Each request should contain the `Authorization: Bearer <your_access_token>` header.

## Data centers

LiveChat system operates in two data centers: `dal` (USA) and `fra` (Europe). The default data center is `dal`.

All the LiveChat OAuth 2.1 access tokens have a prefix: `dal:` or `fra:`. This prefix indicates the data center they belong to. If you need to specify the data center while making an API call, simply add the `X-Region: <token_prefix>` optional header.

Summing up, if the user token starts with `fra`, you should add the `X-Region: fra` header. If the token starts with `dal`, you don’t have to specify the header.

If you get the [`misdirected_request`](#possible-errors) error, use the prefix returned in the error as the value of `X-Region`.

## Propagation delay

All configurations set by this API will have action in system after max 2 minutes. This delay will be removed in the future.

## Postman Collection

You can find all the requests from the Configuration API v3.2 in Postman. In our collection, we use [environment variables](https://learning.getpostman.com/docs/postman/environments_and_globals/manage_environments/) for the API version and the access token. Importing the collection from the link below downloads the **LiveChat Web API** environment as well. Remember to replace the sample token with your own.

[<div style={{maxWidth: '123px'}}><img alt="Run in Postman" src="https://run.pstmn.io/button.svg" width="123px" height="30px"/></div>](https://god.gw.postman.com/run-collection/15474443-51c158fe-bde6-4eb5-a3cd-180cc51b08c7?action=collection%2Ffork&collection-url=entityId%3D15474443-51c158fe-bde6-4eb5-a3cd-180cc51b08c7%26entityType%3Dcollection%26workspaceId%3D5e6fb31b-587b-4258-b215-4dccaae38a38#?env%5BLiveChat%20APIs%5D=W3sia2V5IjoiZGF0ZV9mcm9tIiwidmFsdWUiOiIyMDEzLTAxLTI5IiwiZW5hYmxlZCI6dHJ1ZSwic2Vzc2lvblZhbHVlIjoiMjAxMy0wMS0yOSIsInNlc3Npb25JbmRleCI6MH0seyJrZXkiOiJkYXRlX3RvIiwidmFsdWUiOiIyMDEzLTAxLTI5IiwiZW5hYmxlZCI6dHJ1ZSwic2Vzc2lvblZhbHVlIjoiMjAxMy0wMS0yOSIsInNlc3Npb25JbmRleCI6MX0seyJrZXkiOiJhZ2VudCIsInZhbHVlIjoiam9obi5kb2VAbXljb21wYW55LmNvbSIsImVuYWJsZWQiOnRydWUsInNlc3Npb25WYWx1ZSI6ImpvaG4uZG9lQG15Y29tcGFueS5jb20iLCJzZXNzaW9uSW5kZXgiOjJ9LHsia2V5IjoiZ3JvdXBfYnkiLCJ2YWx1ZSI6ImhvdXIiLCJlbmFibGVkIjp0cnVlLCJzZXNzaW9uVmFsdWUiOiJob3VyIiwic2Vzc2lvbkluZGV4IjozfSx7ImtleSI6Imdyb3VwIiwidmFsdWUiOiIyIiwiZW5hYmxlZCI6dHJ1ZSwic2Vzc2lvblZhbHVlIjoiMiIsInNlc3Npb25JbmRleCI6NH0seyJrZXkiOiJ3ZWVrZGF5IiwidmFsdWUiOiJtb24iLCJlbmFibGVkIjp0cnVlLCJzZXNzaW9uVmFsdWUiOiJtb24iLCJzZXNzaW9uSW5kZXgiOjV9LHsia2V5IjoiYXBpX3ZlcnNpb24iLCJ2YWx1ZSI6InYzLjQiLCJlbmFibGVkIjp0cnVlLCJzZXNzaW9uVmFsdWUiOiJ2My40Iiwic2Vzc2lvbkluZGV4Ijo2fSx7ImtleSI6ImFjY2Vzc190b2tlbiIsInZhbHVlIjoiZGFsOnRlc3RfLUF2WlNTT0RLa1pzcmpvUGtRIiwiZW5hYmxlZCI6dHJ1ZSwic2Vzc2lvblZhbHVlIjoiZGFsOnRlc3RfLUF2WlNTT0RLa1pzcmpvUGtRIiwic2Vzc2lvbkluZGV4Ijo3fSx7ImtleSI6ImN1c3RvbWVyX2FjY2Vzc190b2tlbiIsInZhbHVlIjoiZGFsOnRlc3RfcHE3UVllVlpMRkV6RE5CVGciLCJlbmFibGVkIjp0cnVlLCJzZXNzaW9uVmFsdWUiOiJkYWw6dGVzdF9wcTdRWWVWWkxGRXpETkJUZyIsInNlc3Npb25JbmRleCI6OH0seyJrZXkiOiJhY2NvdW50X2lkIiwidmFsdWUiOiJiN2VmZjc5OC1mOGRmLTQzNjQtODA1OS02NDljMzVjOWVkMGMiLCJlbmFibGVkIjp0cnVlLCJzZXNzaW9uVmFsdWUiOiJiN2VmZjc5OC1mOGRmLTQzNjQtODA1OS02NDljMzVjOWVkMGMiLCJzZXNzaW9uSW5kZXgiOjl9LHsia2V5IjoibGljZW5zZV9pZCIsInZhbHVlIjoiMTA0MTMwNjIzIiwiZW5hYmxlZCI6dHJ1ZSwic2Vzc2lvblZhbHVlIjoiMTA0MTMwNjIzIiwic2Vzc2lvbkluZGV4IjoxMH0seyJrZXkiOiJwYXJ0bmVyX2FwaV91cmwiLCJ2YWx1ZSI6Imh0dHBzOi8vYXBpLmxpdmVjaGF0aW5jLmNvbS92Mi9wYXJ0bmVycyIsImVuYWJsZWQiOnRydWUsInR5cGUiOiJkZWZhdWx0Iiwic2Vzc2lvblZhbHVlIjoiaHR0cHM6Ly9hcGkubGl2ZWNoYXRpbmMuY29tL3YyL3BhcnRuZXJzIiwic2Vzc2lvbkluZGV4IjoxMX0seyJrZXkiOiJwYXJ0bmVyX2FjY2Vzc190b2tlbiIsInZhbHVlIjoiZGFsOnRlc3Rfb3VoZWZnMzQ4N3dlcnRxM0pFQiIsImVuYWJsZWQiOnRydWUsInR5cGUiOiJkZWZhdWx0Iiwic2Vzc2lvblZhbHVlIjoiZGFsOnRlc3Rfb3VoZWZnMzQ4N3dlcnRxM0pFQiIsInNlc3Npb25JbmRleCI6MTJ9LHsia2V5Ijoib3JnYW5pemF0aW9uX2lkIiwidmFsdWUiOiJiN2VmZjc5OC1mOGxqLTQzNjQtODA1OS02NDljMzVjOWVkMGMiLCJlbmFibGVkIjp0cnVlLCJ0eXBlIjoiZGVmYXVsdCIsInNlc3Npb25WYWx1ZSI6ImI3ZWZmNzk4LWY4bGotNDM2NC04MDU5LTY0OWMzNWM5ZWQwYyIsInNlc3Npb25JbmRleCI6MTN9XQ==)

# Agents

An agent is a type of user who communicates with customers. You can look up the sample agent data structure in the [response of Get Agent](#get-agent).

## Methods

| HTTP method | The Agents API endpoint                                          |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.2/configuration/action/<action>` |

| Required header | Value              |
| --------------- | ------------------ |
| `Content-Type`  | `application/json` |

| Response Header | Value        | Notes                                      |
| --------------- | ------------ | ------------------------------------------ |
| `Legacy`        | `YYYY-MM-DD` | The date when the `legacy` stage ends.     |
| `Deprecation`   | `YYYY-MM-DD` | The date when the `deprecated` stage ends. |

[<div style={{maxWidth: '123px'}}><img alt="Run in Postman" src="https://run.pstmn.io/button.svg" width="123px" height="30px"/></div>](https://app.getpostman.com/run-collection/30750779b7b99326d318#?env%5BLiveChat%20Web%20API%5D=W3sia2V5IjoiYXBpX3ZlcnNpb24iLCJ2YWx1ZSI6InYzLjIiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImFjY2Vzc190b2tlbiIsInZhbHVlIjoiZGFsOnRlc3RfLUF2WlNTT0RLa1pzcmpvUGtRIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJjdXN0b21lcl9hY2Nlc3NfdG9rZW4iLCJ2YWx1ZSI6ImRhbDp0ZXN0X3BxN1FZZVZaTEZFekROQlRnIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJhY2NvdW50X2lkIiwidmFsdWUiOiJiN2VmZjc5OC1mOGRmLTQzNjQtODA1OS02NDljMzVjOWVkMGMiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImxpY2Vuc2VfaWQiLCJ2YWx1ZSI6InRlc3RfOTA1MiIsImVuYWJsZWQiOnRydWV9XQ==)

<Section>

<Text>

### Create Agent

Creates a new agent with specified parameters within a license.

#### Specifics

|                 |                                                                                            |
| --------------- | ------------------------------------------------------------------------------------------ |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/create_agent`                       |
| Required scopes | `accounts--all:rc` `accounts--all:rw`<sup>**1**</sup> `subscription.lc:rw`<sup>**1**</sup> |

**1)** – to create agents who don't have to wait for approval after creation

#### Request

| Parameter                              | Data type  | Required | Notes                                                                                                                                                 |
| -------------------------------------- | ---------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`                                   | `string`   | Yes      | Agent ID                                                                                                                                              |
| `name`                                 | `string`   | Yes      | Agent name                                                                                                                                            |
| `role`                                 | `string`   | No       | Agent role, should be one of the following: `viceowner`, `administrator`, `normal` (default).                                                         |
| `avatar_path`                          | `string`   | No       | Avatar URL                                                                                                                                            |
| `job_title`                            | `string`   | No       | Agent's job title                                                                                                                                     |
| `mobile`                               | `string`   | No       | Agent's mobile number                                                                                                                                 |
| `max_chats_count`                      | `int`      | No       | Agent's maximum number of concurrent chats; default: 6. Limited to 100.                                                                               |
| `awaiting_approval`                    | `bool`     | No       | Determines if the Agent will be awaiting approval after creation. Only a requester with the `subscription.lc:rw` scope can set this value to `false`. |
| `groups`                               | `object[]` | No       | Groups an Agent belongs to.                                                                                                                           |
| `groups[].id`                          | `uint`     | Yes      | Group ID; required only when `group` is included.                                                                                                     |
| `groups[].priority` __*__              | `string`   | Yes      | Agent's priority in a group; required only when `group` is included.                                                                                  |
| `notifications`__**__                  | `string[]` | No       | Represents which Agent notifications are turned on.                                                                                                   |
| `email_subscriptions`__***__           | `string[]` | No       | Represents which subscriptions will be send to the Agent via email.                                                                                   |
| `work_scheduler`                       | `object`   | No       | Work scheduler options to set for the new Agent                                                                                                       |
| `work_scheduler.****.<work_scheduler>` | `object`   | No       | `<work_scheduler>` values __\*\*\*\*\*__                                                                                                              |

__*__ Possible values for the `groups[].priority` parameter:

| Possible value | Notes                                                                                                                                                                                                                                                                               |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Agents with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular Agents. Corresponds to the **Bot** priority option in the LiveChat App.                                                     |
| `normal`       | The medium chat routing priority. Agents with the `normal` priority get chats before those with the `last` priority, when there are no Agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`         | The lowest chat routing priority. Agents with the `last` priority get chats when there are no Agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                            |
| `supervisor`   | Agents with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                |

__**__ Possible values for the `notifications` array:

- `new_visitor`
- `incoming_chat`
- `returning_visitor`
- `queued_visitor`
- `visitor_is_typing`
- `new_goal`
- `unassigned_chats`
- `unassigned_chat_messages`
- `ticket`
- `inactive_notifications`
- `mute_all_sounds`
- `repeat_sound_notifications`
- `ticket_notifications`

__***__ Possible values for the `email_subscriptions` array:

- `daily_summary`
- `weekly_summary`

__****__ Possible values for the `work_scheduler` object keys:

- `sunday`
- `monday`
- `tuesday`
- `wednesday`
- `thursday`
- `friday`
- `saturday`

__\*\*\*\*\*__ `<work_scheduler>` contains the following fields:

- `start` (`string`) - the time when the Agent starts work, in the format: `HH:MM`
- `end` (`string`) - the time when the Agent finishes work, in the format: `HH:MM`

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/create_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com",
        "name": "Agent Smith",
        "role": "viceowner",
        "groups": [
          {
            "id": 5,
            "priority": "first"
          },
          {
            "id": 2,
            "priority": "last"
          },
          {
            "id": 1,
            "priority": "normal"
          }
        ],
        "work_scheduler": {
          "monday": {
            "start": "08:30",
            "end": "12:30"
          }
        },
        "notifications": [
          "new_visitor",
          "new_goal",
          "visitor_is_typing"
        ],
        "email_subscriptions": [
          "weekly_summary"
        ]
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="createAgent"/>

</Code>

</Section>

<Section>

<Text>

### Get Agent

It returns the info about an Agent specified by `id`.

#### Specifics

|                 |                                                                   |
| --------------- | ----------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/get_agent` |
| Required scopes | `agents--my:ro` `agents--all:ro`                                  |

#### Request

| Parameter     | Type       | Required | Notes                         |
| ------------- | ---------- | -------- | ----------------------------- |
| `id`          | `string`   | Yes      | Agent ID                      |
| `fields`__*__ | `string[]` | No       | Additional fields to include. |

__*__ Possible values for the `fields[]` parameter:

| Possible value        | Notes                                                     |
| --------------------- | --------------------------------------------------------- |
| `work_scheduler`      | Work scheduler object for an Agent                        |
| `groups`              | Groups an Agent belongs to                                |
| `email_subscriptions` | A list of an Agent's active subscriptions                 |
| `notifications`       | A list of an Agent's enabled notifications                |
| `job_title`           | Agent's job title                                         |
| `mobile`              | Agent's mobile number                                     |
| `max_chats_count`     | Agent's maximum number of concurrent chats                |
| `suspended`           | Boolean value indicating if an Agent is suspended         |
| `awaiting_approval`   | Boolean value indicating if an Agent is awaiting approval |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/get_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="getAgent"/>

</Code>

</Section>

<Section>

<Text>

### List Agents

Returns all Agents within a license.

#### Specifics

|                 |                                                                     |
| --------------- | ------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/list_agents` |
| Required scopes | `agents--all:ro`                                                    |

#### Request

| Parameter           | Required | Type       | Notes                                                                                                         |
| ------------------- | -------- | ---------- | ------------------------------------------------------------------------------------------------------------- |
| `filters`           | No       | `object`   | Possible request filters                                                                                      |
| `filters.group_ids` | No       | `int[]`    | IDs of the groups from which you want to list Agents. You'll only get the Agents from the specified group(s). |
| `fields`__*__       | No       | `string[]` | Additional Agent fields to include.                                                                           |

__*__ Possible values for the `fields[]` parameter:

| Possible value        | Notes                                                     |
| --------------------- | --------------------------------------------------------- |
| `groups`              | Groups an Agent belongs to                                |
| `work_scheduler`      | Work scheduler object for an Agent                        |
| `email_subscriptions` | A list of the Agent's active email subscriptions          |
| `notifications`       | A list of the Agent's enabled notifications               |
| `job_title`           | Agent's job title                                         |
| `mobile`              | Agent's mobile number                                     |
| `max_chats_count`     | Agent's maximum number of concurrent chats                |
| `suspended`           | Boolean value indicating if an Agent is suspended         |
| `awaiting_approval`   | Boolean value indicating if an Agent is awaiting approval |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/list_agents \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
       "fields": [
          "summaries",
          "max_chats_count",
          "job_title"
        ],
        "filters": {
          "group_ids": [
            0,
            1
          ]
        }
    }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="listAgents"/>

</Code>

</Section>

<Section>

<Text>

### Update Agent

Updates the properties of an Agent specified by `id`.

#### Specifics

|                 |                                                                                              |
| --------------- | -------------------------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/update_agent`                         |
| Required scopes | `agents--my:rw` `agents--all:rw`<sup>**1**</sup> `accounts.roles.lc--all:rw`<sup>**2**</sup> |

**1)** to update other agents within the same license<br/>
**2)** to update the agent `role`

#### Request

| Parameter                              | Data type  | Required | Notes                                                                              |
| -------------------------------------- | ---------- | -------- | ---------------------------------------------------------------------------------- |
| `id`                                   | `string`   | Yes      | Agent ID                                                                           |
| `name`                                 | `string`   | No       | Agent name                                                                         |
| `role`                                 | `string`   | No       | Agent role, should be one of the following: `viceowner`, `administrator`, `normal` |
| `avatar_path`                          | `string`   | No       | Avatar URL                                                                         |
| `job_title`                            | `string`   | No       | Agent's job title                                                                  |
| `mobile`                               | `string`   | No       | Agent's mobile number                                                              |
| `max_chats_count`                      | `int`      | No       | Agent's maximum number of concurrent chats. Limited to 100.                        |
| `groups`                               | `object[]` | No       | Groups an Agent belongs to.                                                        |
| `groups[].id`                          | `uint`     | Yes      | Group ID; required only when `group`'s included.                                   |
| `groups[].priority` __*__              | `string`   | Yes      | Agent's priority in a group; required only when `group`'s included.                |
| `notifications`__**__                  | `string[]` | No       | Represents which Agent notifications are turned on.                                |
| `email_subscriptions`__***__           | `string[]` | No       | Represents which subscriptions will be send to an Agent via email.                 |
| `work_scheduler`                       | `object`   | No       | Work scheduler options to set for a new Agent                                      |
| `work_scheduler.****.<work_scheduler>` | `object`   | No       | `<work_scheduler>` values __\*\*\*\*\*__                                           |

__*__ Possible values for the `groups[].priority` parameter:

| Possible value | Notes                                                                                                                                                                                                                                                                               |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Agents with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular Agents. Corresponds to the **Bot** priority option in the LiveChat App.                                                     |
| `normal`       | The medium chat routing priority. Agents with the `normal` priority get chats before those with the `last` priority, when there are no Agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`         | The lowest chat routing priority. Agents with the `last` priority get chats when there are no Agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                            |
| `supervisor`   | Agents with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                |

__**__ Possible values for the `notifications` array:

- `new_visitor`
- `incoming_chat`
- `returning_visitor`
- `queued_visitor`
- `visitor_is_typing`
- `new_goal`
- `unassigned_chats`
- `unassigned_chat_messages`
- `ticket`
- `inactive_notifications`
- `mute_all_sounds`
- `repeat_sound_notifications`
- `ticket_notifications`

__***__ Possible values for the `email_subscriptions` array:

- `daily_summary`
- `weekly_summary`

__****__ Possible values for the `work_scheduler` object keys:

- `sunday`
- `monday`
- `tuesday`
- `wednesday`
- `thursday`
- `friday`
- `saturday`

__\*\*\*\*\*__
`<work_scheduler>` contains the following fields:

- `start` (`string`) - the time when the Agent starts work, in the format: `HH:MM`
- `end` (`string`) - the time when the Agent finishes work, in the format: `HH:MM`

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/update_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com",
        "name": "Agent Smith",
        "role": "viceowner",
        "groups": [
          {
            "id": 5,
            "priority": "first"
          },
          {
            "id": 2,
            "priority": "last"
          },
          {
            "id": 1,
            "priority": "normal"
          }
        ],
        "work_scheduler": {
          "monday": {
            "start": "08:30",
            "end": "12:30"
          },
          "friday": {
            "start": "07:30",
            "end": "21:30"
          }
        },
        "notifications": [
          "new_visitor",
          "new_goal",
          "visitor_is_typing"
        ],
        "email_subscriptions": [
          "weekly_summary"
        ]
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Delete Agent

Deletes an Agent specified by `id`.

#### Specifics

|                 |                                                                                   |
| --------------- | --------------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/delete_agent`              |
| Required scopes | `agents--my:rw` `accounts--my:rw` `agents--all:rw` __*__ `accounts--all:rw` __*__ |

__*__ to delete other agents within the same license

#### Request

| Parameter | Required | Data type | Notes    |
| --------- | -------- | --------- | -------- |
| `id`      | Yes      | `string`  | Agent ID |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/delete_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Suspend Agent

Suspends an Agent specified by `id`.

❗️ This method is not yet available for public use. For now, an agent can only be approved via the LiveChat Agent application UI. If you want to use this method in your integration, send us an email at developers@livechat.com and describe your use case.

#### Specifics

|                 |                                                                       |
| --------------- | --------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/suspend_agent` |
| Required scopes | `agents--all:rw` `sessions--all:rw`<sup>1</sup>                       |

**1)** `sessions--all:rw` is a private scope; it's not possible to configure it in Developer Console.

#### Request

| Parameter | Required | Data type | Notes    |
| --------- | -------- | --------- | -------- |
| `id`      | Yes      | `string`  | Agent ID |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/suspend_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Unsuspend Agent

Unsuspends an Agent specified by `id`.

❗️ This method is not yet available for public use. For now, an agent can only be approved via the LiveChat Agent application UI. If you want to use this method in your integration, send us an email at developers@livechat.com and describe your use case.

#### Specifics

|                 |                                                                         |
| --------------- | ----------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/unsuspend_agent` |
| Required scopes | `agents--all:rw` `accounts--all:rw` `subscription.lc:rw`<sup>1</sup>    |

**1)** `subscription.lc:rw` is a private scope; it's not possible to configure it in Developer Console.

#### Request

| Parameter | Required | Data type | Notes    |
| --------- | -------- | --------- | -------- |
| `id`      | Yes      | `string`  | Agent ID |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/unsuspend_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Request Agent Unsuspension

A suspended Agent can send emails to license owners and vice owners with an unsuspension request.

#### Specifics

|                 |                                                                                    |
| --------------- | ---------------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/request_agent_unsuspension` |
| Required scopes | -                                                                                  |

#### Request

Empty request payload.

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/request_agent_unsuspension \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Approve Agent

Approves an Agent thus allowing the Agent to use the application.

❗️ This method is not yet available for public use. For now, an agent can only be approved via the LiveChat Agent application UI. If you want to use this method in your integration, send us an email at **developers@livechat.com** and describe your use case.

#### Specifics

|                 |                                                                       |
| --------------- | --------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/approve_agent` |
| Required scopes | `agents--all:rw` `accounts--all:rw` `subscription.lc:rw` __*__        |

__*__ `subscription.lc:rw` is a private scope; it's not possible to configure it in Developer Console.

#### Request

| Parameter | Required | Data type | Notes    |
| --------- | -------- | --------- | -------- |
| `id`      | Yes      | `string`  | Agent ID |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/approve_agent \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "smith@example.com"
      }'
```

</CodeSample>

</Code>

</Section>

# Bots

Bot enables writing integrations using the **Agent Chat API** - both [RTM](/messaging/agent-chat-api/rtm-reference/) and [Web](/messaging/agent-chat-api/) - to communicate in chats as regular Agents.
A Bot shares the SSO access token with the Agent who created the Bot. Each Bot is a resource owned by an application in Developers Platform, identified by its own `client_id`.

Unlike Agents, Bot don't have passwords or emails - you cannot log in as a Bot.

## Methods

| HTTP method | The Bots API endpoint                                            |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.2/configuration/action/<action>` |

| Required header |       Value        |      |
| --------------- | :----------------: | ---: |
| `Content-Type`  | `application/json` |      |

| Response Header | Value        | Notes                                      |
| --------------- | ------------ | ------------------------------------------ |
| `Legacy`        | `YYYY-MM-DD` | The date when the `legacy` stage ends.     |
| `Deprecation`   | `YYYY-MM-DD` | The date when the `deprecated` stage ends. |

[<div style={{maxWidth: '123px'}}><img alt="Run in Postman" src="https://run.pstmn.io/button.svg" width="123px" height="30px"/></div>](https://app.getpostman.com/run-collection/30750779b7b99326d318#?env%5BLiveChat%20Web%20API%5D=W3sia2V5IjoiYXBpX3ZlcnNpb24iLCJ2YWx1ZSI6InYzLjIiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImFjY2Vzc190b2tlbiIsInZhbHVlIjoiZGFsOnRlc3RfLUF2WlNTT0RLa1pzcmpvUGtRIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJjdXN0b21lcl9hY2Nlc3NfdG9rZW4iLCJ2YWx1ZSI6ImRhbDp0ZXN0X3BxN1FZZVZaTEZFekROQlRnIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJhY2NvdW50X2lkIiwidmFsdWUiOiJiN2VmZjc5OC1mOGRmLTQzNjQtODA1OS02NDljMzVjOWVkMGMiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImxpY2Vuc2VfaWQiLCJ2YWx1ZSI6InRlc3RfOTA1MiIsImVuYWJsZWQiOnRydWV9XQ==)

<Section>

<Text>

### Create Bot

Creates a new Bot.

#### Specifics

|                 |                                                                    |
| --------------- | ------------------------------------------------------------------ |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/create_bot` |
| Required scopes | `agents-bot--my:rw`                                                |

#### Request

| Parameter                               | Required | Data type  | Notes                                                                                                                                  |
| --------------------------------------- | -------- | ---------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| `name`                                  | Yes      | `string`   | Display name                                                                                                                           |
| `avatar`                                | No       | `string`   | Avatar URL                                                                                                                             |
| `max_chats_count`                       | No       | `int`      | Max. number of incoming chats that can be routed to the Bot; default: 6. Limited to 500.                                               |
| `default_group_priority` __\*\*\*\*\*__ | No       | `string`   | The default routing priority for a group without defined priority.                                                                     |
| `job_title`                             | No       | `string`   | Bot's job title                                                                                                                        |
| `groups`                                | No       | `object[]` | Groups the Bot belongs to.                                                                                                             |
| `groups[].id`                           | No       | `int`      | Group ID; required only when `group`'s included.                                                                                       |
| `groups[].priority` __*__               | Yes      | `string`   | Bot's priority in a group; required only when `group`'s included.                                                                      |
| `webhooks`                              | No       | `object`   | Webhooks sent to the Bot; for more info on possible values and payload, see [Webhooks](#webhooks). Webhooks work only for online Bots. |
| `webhooks.url`                          | Yes      | `string`   | Destination URL for webhooks; required only when `webhooks` is included.                                                               |
| `webhooks.secret_key`                   | Yes      | `string`   | Secret sent in webhooks to verify webhook's source; required only when `webhooks`'s included.                                          |
| `webhooks.actions`                      | Yes      | `object[]` | [Triggering actions](#triggering-actions); required only when `webhooks`'s included. Actions have to be unique.                        |
| `webhooks.actions[].name`               | Yes      | `string`   | The name of the triggering action; required only when `webhooks` is included.                                                          |
| `webhooks.actions[].filters`            | No       | `object`   | Filters to check if a webhook should be triggered. For more info on filters, see [Register webhook](#register-webhook).                |
| `webhooks.actions[].additional_data`    | No       | `string[]` | Additional data that will arrive with webhooks.                                                                                        |
| `work_scheduler`                        | No       | `object`   | Work scheduler options to set for the new Bot. __**__                                                                                  |
| `work_scheduler.***.<work_scheduler>`   | No       | `object`   | `<work_scheduler>` values __****__.                                                                                                    |

__*__ Possible values for the `groups[].priority` parameter:

| Possible value | Notes                                                                                                                                                                                                                                                                              |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Bots with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular Agents. Corresponds to the **Bot** priority option in the LiveChat App.                                                      |
| `normal`       | The medium chat routing priority. Bots with the `normal` priority get chats before agents with the `last` priority, when there are no Agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`         | The lowest chat routing priority. Bots with the `last` priority get chats when there are no Agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                             |
| `supervisor`   | Bots with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                 |

__**__ When using `work_scheduler`, timezone for operating hours is the same as timezone of agent sending request

__***__ Possible values for the `work_scheduler` object keys:

- `sunday`
- `monday`
- `tuesday`
- `wednesday`
- `thursday`
- `friday`
- `saturday`

__****__ `<work_scheduler>` contains the following fields:

- `start` (`string`) - the time when the Bot starts accepting chats, in the format: `HH:MM`
- `end` (`string`) - the time when the Bot finishes accepting chats, in the format: `HH:MM`

__\*\*\*\*\*__ The table below presents the possible values for the `default_group_priority` parameter:

| Possible values | Notes                                                                                                                                                                                                                                                                              |
| --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`         | The highest chat routing priority. Bots with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular Agents. Corresponds to the **Bot** priority option in the LiveChat App.                                                      |
| `normal`        | The medium chat routing priority. Bots with the `normal` priority get chats before agents with the `last` priority, when there are no Agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`          | The lowest chat routing priority. Bots with the `last` priority get chats when there are no Agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                             |
| `supervisor`    | Bots with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                 |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/create_bot \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "name": "Bot Name"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="createBot"/>

</Code>

</Section>

<Section>

<Text>

### Delete Bot

Deletes a bot specified by `id`.

#### Specifics

|                 |                                                                    |
| --------------- | ------------------------------------------------------------------ |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/delete_bot` |
| Required scopes | `agents-bot--my:rw` `agents-bot--all:rw`                           |

#### Request

| Parameter      | Required | Type     | Notes  |
| -------------- | -------- | -------- | ------ |
| `bot_agent_id` | Yes      | `string` | Bot ID |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/delete_bot \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "bot_agent_id": "505591fc9fc2d6e92798bed7d9d8f079"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Update Bot

Updates an existing Bot.

#### Specifics

|                 |                                                                                         |
| --------------- | --------------------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/update_bot`                      |
| Required scopes | `agents-bot--my:rw` `agents-bot--all:rw` (to update other Bots within the same license) |

#### Request

| Parameter                              | Required | Data type  | Notes                                                                                                                   |
| -------------------------------------- | -------- | ---------- | ----------------------------------------------------------------------------------------------------------------------- |
| `id`                                   | Yes      | `string`   | Bot ID                                                                                                                  |
| `name`                                 | No       | `string`   | Display name                                                                                                            |
| `avatar`                               | No       | `string`   | Avatar URL                                                                                                              |
| `max_chats_count`                      | No       | `int`      | Maximum incoming chats that can be routed to the Bot. Limited to 500.                                                   |
| `groups`                               | No       | `object[]` | Groups the Bot belongs to                                                                                               |
| `groups[].id`                          | Yes      | `uint`     | Group ID, required only when `groups`'s present.                                                                        |
| `groups[].priority` __*__              | Yes      | `string`   | Bot's priority in the group; required only when `groups` is included.                                                   |
| `default_group_priority` __**__        | No       | `string`   | The default routing priority for a group without defined priority.                                                      |
| `webhooks`                             | No       | `object`   | Webhooks sent to the Bot. Webhooks work only for online Bots.                                                           |
| `webhooks.url`                         | Yes      | `string`   | Destination URL for webhooks; required only when `webhooks` is present.                                                 |
| `webhooks.secret_key`                  | Yes      | `string`   | Secret sent in webhooks to verify the webhook's source; required when `webhooks` is included.                           |
| `webhooks.actions`                     | Yes      | `object[]` | [Triggering actions](#triggering-actions); required only when `webhooks` is included.                                   |
| `webhooks.actions[].name`              | Yes      | `string`   | The name of the triggering action; required only when `webhooks` is included.                                           |
| `webhooks.actions[].filters`           | No       | `object`   | Filters to check if a webhook should be triggered. For more info on filters, see [Register webhook](#register-webhook). |
| `webhooks.actions[].additional_data`   | No       | `string[]` | Additional data arriving with the webhook.                                                                              |
| `work_scheduler`                       | No       | `object`   | Work scheduler options to set for the new Bot. __***__                                                                  |
| `work_scheduler.****.<work_scheduler>` | No       | `object`   | `<work_scheduler>` values __*****__.                                                                                    |

__*__ The table below presents the possible values for the `groups[].priority` parameter:

| Possible values | Notes:                                                                                                                                                                                                                                                                             |
| --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`         | The highest chat routing priority. Bots with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular Agents. Corresponds to the **Bot** priority option in the LiveChat App.                                                      |
| `normal`        | The medium chat routing priority. Bots with the `normal` priority get chats before agents with the `last` priority, when there are no Agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`          | The lowest chat routing priority. Bots with the `last` priority get chats when there are no Agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                             |
| `supervisor`    | Bots with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                 |

__**__ The table below presents the possible values for the `default_group_priority` parameter:

| Possible values | Notes                                                                                                                                                                                                                                                                              |
| --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`         | The highest chat routing priority. Bots with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular Agents. Corresponds to the **Bot** priority option in the LiveChat App.                                                      |
| `normal`        | The medium chat routing priority. Bots with the `normal` priority get chats before agents with the `last` priority, when there are no Agents with the `first` priority available with free slots in the group. Corresponds to the **Primary** priority option in the LiveChat App. |
| `last`          | The lowest chat routing priority. Bots with the `last` priority get chats when there are no Agents with the `first` or `normal` priority available with free slots in the group. Corresponds to the **Secondary** priority option in the LiveChat App.                             |
| `supervisor`    | Bots with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                                                                                                 |

__***__ When using `work_scheduler`, timezone for operating hours is the same as timezone of agent sending request

__****__ Possible values for the `work_scheduler` object keys:

- `sunday`
- `monday`
- `tuesday`
- `wednesday`
- `thursday`
- `friday`
- `saturday`

__*****__ `<work_scheduler>` contains the following fields:

- `start` (`string`) - the time when the Bot starts accepting chats, in the format: `HH:MM`
- `end` (`string`) - the time when the Bot finishes accepting chats, in the format: `HH:MM`


#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/update_bot \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
      "id": "ce54714e3d2b53adbfff09dbdbdd56e9",
      "name": "New Bot Name"
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Bots

Returns the list of Bots created within a license. The method behavior differs depending on who created the Bot and what authorization method is used for the call.

#### Specifics

|                 |                                                                   |
| --------------- | ----------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/list_bots` |
| Required scopes | `agents-bot--my:ro` `agents-bot--all:ro`                          |

#### Request

| Parameter | Required | Type   | Notes                                                                                                      |
| --------- | -------- | ------ | ---------------------------------------------------------------------------------------------------------- |
| `all`     | No       | `bool` | `true` - gets all Bots within a license. &nbsp;`false` (default)__*__ - returns only the requester's Bots. |

__*__ **Calling List Bots with `all:false`**

- If a Bot was created via an app, all Agents who make the request via this app will get the Bot in the response.
- If a Bot was created directly by an Agent ([PAT authorization](/authorization/authorizing-api-calls/#personal-access-tokens)), all Agents who authorize with PATs will get the Bot in the response.

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/list_bots \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "all": false
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="listBots"/>

</Code>

</Section>

<Section>

<Text>

### Get Bot

It returns the info about a bot with a given `id`.

#### Specifics

|                 |                                                                 |
| --------------- | --------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/get_bot` |
| Required scopes | `agents-bot--my:ro` `agents-bot--all:ro`                        |

#### Request

| Parameter      | Required | Type     | Notes  |
| -------------- | -------- | -------- | ------ |
| `bot_agent_id` | Yes      | `string` | Bot ID |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/get_bot \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "bot_agent_id": "5c9871d5372c824cbf22d860a707a578"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="getBot"/>

</Code>

</Section>

# Groups

Groups let you organize your work by creating teams with Agent and Bot members. You can use groups to do configuration based on shared settings (language, working hours, department) and to separate chat routing. It's worth mentioning that one Agent can belong to multiple groups at the same time. It's possible to configure routing priorities for Agents and Bots specifically per group.

## Methods

| HTTP method | The Groups API endpoint                                          |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.2/configuration/action/<action>` |

| Required header | Value              |
| --------------- | ------------------ |
| `Content-Type`  | `application/json` |

| Response Header | Value        | Notes                                      |
| --------------- | ------------ | ------------------------------------------ |
| `Legacy`        | `YYYY-MM-DD` | The date when the `legacy` stage ends.     |
| `Deprecation`   | `YYYY-MM-DD` | The date when the `deprecated` stage ends. |

[<div style={{maxWidth: '123px'}}><img alt="Run in Postman" src="https://run.pstmn.io/button.svg" width="123px" height="30px"/></div>](https://app.getpostman.com/run-collection/30750779b7b99326d318#?env%5BLiveChat%20Web%20API%5D=W3sia2V5IjoiYXBpX3ZlcnNpb24iLCJ2YWx1ZSI6InYzLjIiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImFjY2Vzc190b2tlbiIsInZhbHVlIjoiZGFsOnRlc3RfLUF2WlNTT0RLa1pzcmpvUGtRIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJjdXN0b21lcl9hY2Nlc3NfdG9rZW4iLCJ2YWx1ZSI6ImRhbDp0ZXN0X3BxN1FZZVZaTEZFekROQlRnIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJhY2NvdW50X2lkIiwidmFsdWUiOiJiN2VmZjc5OC1mOGRmLTQzNjQtODA1OS02NDljMzVjOWVkMGMiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImxpY2Vuc2VfaWQiLCJ2YWx1ZSI6InRlc3RfOTA1MiIsImVuYWJsZWQiOnRydWV9XQ==)

<Section>

<Text>

### Create Group

Creates a new group.

#### Specifics

|                 |                                                                      |
| --------------- | -------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/create_group` |
| Required scopes | `groups--all:rw`                                                     |

#### Request

| Parameter               | Data type | Required | Notes                                                                                                                            |
| ----------------------- | --------- | -------- | -------------------------------------------------------------------------------------------------------------------------------- |
| `name`                  | `string`  | Yes      | Group name (up to 180 chars)                                                                                                     |
| `language_code`         | `string`  | No       | The code of the group languange                                                                                                  |
| `agent_priorities`__*__ | `object`  | Yes      | Agents' priorities in a group as a map in the `"<id>": "<priority>"` format. At least one Agent must have the `normal` priority. |

__*__ The table below presents the possible values for the `agent_priorities` map:

| Possible value | Notes                                                                                                                                                                                                           |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Agents with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular Agents.                                                 |
| `normal`       | The medium chat routing priority. Agents with the `normal` priority get chats before those with the `last` priority, when there are no Agents with the `first` priority available with free slots in the group. |
| `last`         | The lowest chat routing priority. Agents with the `last` priority get chats when there are no Agents with the `first` or `normal` priority available with free slots in the group.                              |
| `supervisor`   | Agents with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                            |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/create_group \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "name": "Sports shoes",
        "agent_priorities": {
          "agent1@example.com": "normal",
          "agent2@example.com": "normal",
          "agent3@example.com": "last"
        }
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="createGroup"/>

</Code>

</Section>

<Section>

<Text>

### Update Group

Updates an existing group.

#### Specifics

|                 |                                                                                      |
| --------------- | ------------------------------------------------------------------------------------ |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/update_group`                 |
| Required scopes | `groups--my:rw` `groups--all:rw` (to update groups the requester is not a member of) |

#### Request

| Parameter               | Data type | Required | Notes                                                                        |
| ----------------------- | --------- | -------- | ---------------------------------------------------------------------------- |
| `id`                    | `int`     | Yes      | Group ID                                                                     |
| `name`                  | `string`  | No       | Group name (up to 180 chars)                                                 |
| `language_code`         | `string`  | No       | The code of the group languange                                              |
| `agent_priorities`__*__ | `object`  | No       | Agents' priorities in a group as a map in the `"<id>": "<priority>"` format. |

__*__ The table below presents the possible values for the `agent_priorities` map:

| Possible value | Notes                                                                                                                                                                                                           |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `first`        | The highest chat routing priority. Agents with the `first` priority get chats before others from the same group, e.g. Bots can get chats before regular Agents.                                                 |
| `normal`       | The medium chat routing priority. Agents with the `normal` priority get chats before those with the `last` priority, when there are no Agents with the `first` priority available with free slots in the group. |
| `last`         | The lowest chat routing priority. Agents with the `last` priority get chats when there are no Agents with the `first` or `normal` priority available with free slots in the group.                              |
| `supervisor`   | Agents with the `supervisor` priority will not get any chats assigned automatically.                                                                                                                            |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/update_group \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 19,
        "name": "Sport shoes",
        "agent_priorities": {
          "agent1@example.com": "normal",
          "agent2@example.com": "normal",
          "agent3@example.com": "last"
        }
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Delete Group

Deletes an existing group.

#### Specifics

|                 |                                                                                      |
| --------------- | ------------------------------------------------------------------------------------ |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/delete_group`                 |
| Required scopes | `groups--my:rw` `groups--all:rw` (to delete groups the requester is not a member of) |

#### Request

| Parameter | Data type | Required | Notes    |
| --------- | --------- | -------- | -------- |
| `id`      | `int`     | Yes      | Group ID |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/delete_group \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 19
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Groups

Lists all the exisiting groups.

#### Specifics

|                 |                                                                     |
| --------------- | ------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/list_groups` |
| Required scopes | `groups--all:ro`                                                    |

#### Request

| Parameter     | Data type  | Required | Notes                         |
| ------------- | ---------- | -------- | ----------------------------- |
| `fields`__*__ | `string[]` | No       | Additional fields to include. |

__*__ Possible values for the `fields[]` parameter:

| Possible value     | Notes                                                                          |
| ------------------ | ------------------------------------------------------------------------------ |
| `agent_priorities` | An object containing Agents belonging to a group, along with their priorities. |
| `routing_status`   | The routing status of a group.                                                 |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/list_groups \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="listGroups"/>

</Code>

</Section>

<Section>

<Text>

### Get Group

Returns details about a group specified by its `id`.

#### Specifics

|                 |                                                                                   |
| --------------- | --------------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/get_group`                 |
| Required scopes | `groups--my:ro` `groups--all:ro` (to get groups the requester is not a member of) |

#### Request

| Parameter     | Data type  | Required | Notes                         |
| ------------- | ---------- | -------- | ----------------------------- |
| `id`          | `int`      | Yes      | Group ID                      |
| `fields`__*__ | `string[]` | No       | Additional fields to include. |

__*__ Possible values for the `fields[]` parameter:

| Possible value     | Notes                                                                          |
| ------------------ | ------------------------------------------------------------------------------ |
| `agent_priorities` | An object containing Agents belonging to a group, along with their priorities. |
| `routing_status`   | The routing status of a group.                                                 |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/get_group \
  -H 'Authorization: Bearer <your_access_token>' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": 19,
        "fields": ["agent_priorities", "routing_status"]
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="getGroup"/>

</Code>

</Section>

# Properties

<Section>

<Text>

Properties are key-value storages. They can be set within a specific [location](#property-locations).

You can register properties within a license and configure them using the **Configuration API**. Properties are grouped in _namespaces_, which helps distinguishing which property belongs to a given integration. Your namespace is always named after your **Client Id**.

You can configure the property [type](#property-types), [location](#property-locations), and [domain](#property-domain).

## Property types

There are four property types:

- `int` (int32)
- `bool`
- `string`
- `tokenized_string`

The `tokenized_string` type is a string split to tokens before indexing in our search engine. It can be useful for longer strings, such as messages. It should not be used for keywords.

## Property locations

Properties can be set within the following locations:

- chat
- thread
- event
- license
- group

You can configure access to properties within those locations. For example, you could create a property visible only to agents in a chat and thread, but not in an event.

## Property domain

The **property domain** is a set of values that a property can be assigned to.

Property domain can be configured in two ways:

- by defining a set of values explicitly allowed in this property (for example `[1, 2, 3]`).
- by defining a range. All values within the range are allowed in this property. It works only for numeric types (for example a range from `1` to `3`).

### Test properties

Each license has some test properties that you can use to play with properties.

| Namespace | Property                    | Type               | Access                     |
| --------- | --------------------------- | ------------------ | -------------------------- |
| `test`    | `bool_property`             | `bool`             | rw for everyone everywhere |
| `test`    | `int_property`              | `int`              | rw for everyone everywhere |
| `test`    | `string_property`           | `string`           | rw for everyone everywhere |
| `test`    | `tokenized_string_property` | `tokenized_string` | rw for everyone everywhere |

The `tokenized_string` property is similar to the `string` type. The values of a `tokenized_string` are split in tokens to enable searching for each word separately.

</Text>

<Code>

<CodeSample path={'The general properties format'}>

```js
{
    "properties": {
        "<namespace>": {
            "<property_name>": "<property_value>",
            "<property_name>": "<property_value>"
        }
    }
}
```

</CodeSample>

</Code>

</Section>

## Methods

| HTTP method | The Properties API endpoint                                      |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.2/configuration/action/<action>` |

| Required header |       Value        |      |
| --------------- | :----------------: | ---: |
| `Content-Type`  | `application/json` |      |

| Response Header | Value        | Notes                                      |
| --------------- | ------------ | ------------------------------------------ |
| `Legacy`        | `YYYY-MM-DD` | The date when the `legacy` stage ends.     |
| `Deprecation`   | `YYYY-MM-DD` | The date when the `deprecated` stage ends. |

[<div style={{maxWidth: '123px'}}><img alt="Run in Postman" src="https://run.pstmn.io/button.svg" width="123px" height="30px"/></div>](https://app.getpostman.com/run-collection/30750779b7b99326d318#?env%5BLiveChat%20Web%20API%5D=W3sia2V5IjoiYXBpX3ZlcnNpb24iLCJ2YWx1ZSI6InYzLjIiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImFjY2Vzc190b2tlbiIsInZhbHVlIjoiZGFsOnRlc3RfLUF2WlNTT0RLa1pzcmpvUGtRIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJjdXN0b21lcl9hY2Nlc3NfdG9rZW4iLCJ2YWx1ZSI6ImRhbDp0ZXN0X3BxN1FZZVZaTEZFekROQlRnIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJhY2NvdW50X2lkIiwidmFsdWUiOiJiN2VmZjc5OC1mOGRmLTQzNjQtODA1OS02NDljMzVjOWVkMGMiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImxpY2Vuc2VfaWQiLCJ2YWx1ZSI6InRlc3RfOTA1MiIsImVuYWJsZWQiOnRydWV9XQ==)

<Section>

<Text>

### Register Properties

#### Specifics

|                 |                                                                             |
| --------------- | --------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/register_properties` |
| Required scopes | `properties--my:rw`(to create my _properties_ in my _namespace_)            |

#### Request

| Parameter                                                  | Required            | Data type  | Notes                                                                                 |
| ---------------------------------------------------------- | ------------------- | ---------- | ------------------------------------------------------------------------------------- |
| `<property_name>.type`                                     | Yes                 | `string`   | Possible values: `int`, `string`, `bool`, and `tokenized_string`                      |
| `<property_name>.locations`                                | Yes                 | `object`   |                                                                                       |
| `<property_name>.locations.<location>`                     | min. one `location` | `object`   | Possible values: `chat`, `thread`, `event`, `license`, `group`                        |
| `<property_name>.locations.<location>.access.<user>`       | min. one `user`     | `object`   | Possible values: `agent`, `customer`                                                  |
| `<property_name>.locations.<location>.access.<user>.read`  | Yes                 | `bool`     | If set to `true`, then `<user>` can read this property.                               |
| `<property_name>.locations.<location>.access.<user>.write` | Yes                 | `bool`     | If set to `true`, then `<user>` can write to this property.                           |
| `<property_name>.description`                              | No                  | `string`   | Property description                                                                  |
| `<property_name>.domain` __*__                             | No                  | `[<type>]` | Array of values that properties can be set to.                                        |
| `<property_name>.range` __*__                              | No                  | `object`   | Range of values that properties can be set to.                                        |
| `<property_name>.range.from`                               | No                  | `int`      | Only values **equal** or **greater** than this parameter can be set to this property. |
| `<property_name>.range.to`                                 | No                  | `int`      | Only values **equal** or **lower** than this parameter can be set to this property.   |

__*)__ Only one `domain` and one `range` can be set for a single property.

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/register_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "string_property": {
        "type": "string",
        "locations": {
            "chat": {
                "access": {
                    "agent": {
                        "read": true,
                        "write": true
                    },
                    "customer": {
                        "read": true,
                        "write": true
                    }
                }
            }
        //  "thread": {},
        //  "event": {},
        //  "license": {},
        //  "group": {}
        }
    }
}'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### List Registered Properties

#### Specifics

|                 |                                                                                    |
| --------------- | ---------------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/list_registered_properties` |
| Required scopes | `properties--my:ro` `properties--all:ro` (to list properties in all _namespaces_)  |

#### Request

| Parameter | Required | Data type | Notes                                                                                 |
| --------- | -------- | --------- | ------------------------------------------------------------------------------------- |
| `all`     | No       | `bool`    | If set to `true`, it returns all properties within a given license; default: `false`. |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/list_registered_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="listRegisteredProperties"/>

</Code>

</Section>

<Section>

<Text>

### Update License Properties

Updates a property value within a license. This operation **doesn't** overwrite the existing values.

#### Specifics

|                      |                                                                                   |
| -------------------- | --------------------------------------------------------------------------------- |
| Method URL           | `https://api.livechatinc.com/v3.2/configuration/action/update_license_properties` |
| Required scopes__*__ | -                                                                                 |

__*)__ If the requester's Client ID matches the namespace, setting license properties is always allowed.
Otherwise, the permission depends on how the property was configured during [registration](#register-properties); parameter: `<property_name>.locations.<location>.access.<user>.write`.

#### Request

| Parameter    | Required | Data type               | Notes                                                                                |
| ------------ | -------- | ----------------------- | ------------------------------------------------------------------------------------ |
| `properties` | Yes      | [`object`](#properties) | An object with _namespaces_ as keys and _properties_ (grouped in objects) as values. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/update_license_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "properties": {
            "0805e283233042b37f460ed8fbf22160": {
                "string_property": "string value"
              }
          }
      }'
```

</CodeSample>

<CodeResponse >

```json
{}
```

</CodeResponse >

</Code>

</Section>

<Section>

<Text>

### List License Properties

Returns the properties set within a license.

#### Specifics

|                      |                                                                                 |
| -------------------- | ------------------------------------------------------------------------------- |
| Method URL           | `https://api.livechatinc.com/v3.2/configuration/action/list_license_properties` |
| Required scopes__*__ | -                                                                               |

__*)__ If the requester's Client ID matches the namespace, retrieving license properties is always allowed.
Otherwise, the permission depends on how the property was configured during [registration](#register-properties); parameter: `<property_name>.locations.<location>.access.<user>.read`.

#### Request

| Parameter          | Required | Data type | Notes                       |
| ------------------ | -------- | --------- | --------------------------- |
| `namespace_prefix` | No       | `string`  | Properties namespace prefix |
| `name_prefix`      | No       | `string`  | Properties name prefix      |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/list_license_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
      "namespace_prefix": "0",
      "name_prefix": "string"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="listLicenseProperties"/>

</Code>

</Section>

<Section>

<Text>

### Delete License Properties

Deletes the properties set within a license.

#### Specifics

|                      |                                                                                   |
| -------------------- | --------------------------------------------------------------------------------- |
| Method URL           | `https://api.livechatinc.com/v3.2/configuration/action/delete_license_properties` |
| Required scopes__*__ | -                                                                                 |

__*)__ If the requester's Client ID matches the namespace, deleting license properties is always allowed.
Otherwise, the permission depends on how the property was configured during [registration](#register-properties); parameter: `<property_name>.locations.<location>.access.<user>.write`.

#### Request

| Parameter    | Required | Data type               | Notes                                                                             |
| ------------ | -------- | ----------------------- | --------------------------------------------------------------------------------- |
| `properties` | Yes      | [`object`](#properties) | An object with _namespaces_ as keys and _property_names_ (in an array) as values. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/delete_license_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
    "properties": {
        "0805e283233042b37f460ed8fbf22160": ["string_property"]
          }
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

### Update Group Properties

Updates a property value within a group as the [property location](#property-locations). This operation **doesn't** overwrite the existing values.

#### Specifics

|                      |                                                                                 |
| -------------------- | ------------------------------------------------------------------------------- |
| Method URL           | `https://api.livechatinc.com/v3.2/configuration/action/update_group_properties` |
| Required scopes__*__ | -                                                                               |

__*)__ If the requester's Client ID matches the namespace, setting group properties is always allowed.
Otherwise, the permission depends on how the property was configured during [registration](#register-properties); parameter: `<property_name>.locations.<location>.access.<user>.write`.

#### Request

| Parameter    | Required | Data type               | Notes                                                                                |
| ------------ | -------- | ----------------------- | ------------------------------------------------------------------------------------ |
| `group_id`   | Yes      | `number`                | ID of the group you set the properties for.                                          |
| `properties` | Yes      | [`object`](#properties) | An object with _namespaces_ as keys and _properties_ (grouped in objects) as values. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/update_group_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
      "group_id": 1,
      "properties": {
          "0805e283233042b37f460ed8fbf22160": {
              "string_property": "group property value"
              }
          }
      }'
```

</CodeSample>

<CodeResponse >

```json
{}
```

</CodeResponse >

</Code>

</Section>

<Section>

<Text>

### List Group Properties

Returns the properties set within a group.

#### Specifics

|                      |                                                                               |
| -------------------- | ----------------------------------------------------------------------------- |
| Method URL           | `https://api.livechatinc.com/v3.2/configuration/action/list_group_properties` |
| Required scopes__*__ | -                                                                             |

__*)__ If the requester's Client ID matches the namespace, retrieving group properties is always allowed.
Otherwise, the permission depends on how the property was configured during [registration](#register-properties); parameter: `<property_name>.locations.<location>.access.<user>.read`.

#### Request

| Parameter          | Required | Data type | Notes                                         |
| ------------------ | -------- | --------- | --------------------------------------------- |
| `group_id`         | Yes      | `number`  | ID of the group you retrieve properties from. |
| `namespace_prefix` | No       | `string`  | Properties namespace prefix                   |
| `name_prefix`      | No       | `string`  | Properties name prefix                        |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/list_group_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
      "group_id": 1,
      "namespace_prefix": "0",
      "name_prefix": "string"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="listGroupProperties"/>

</Code>

</Section>

<Section>

<Text>

### Delete Group Properties

Deletes the properties set within a group.

#### Specifics

|                      |                                                                                 |
| -------------------- | ------------------------------------------------------------------------------- |
| Method URL           | `https://api.livechatinc.com/v3.2/configuration/action/delete_group_properties` |
| Required scopes__*__ | -                                                                               |

__*)__ If the requester's Client ID matches the namespace, deleting group properties is always allowed.
Otherwise, the permission depends on how the property was configured during [registration](#register-properties); parameter: `<property_name>.locations.<location>.access.<user>.write`.

#### Request

| Parameter    | Required | Data type               | Notes                                                                             |
| ------------ | -------- | ----------------------- | --------------------------------------------------------------------------------- |
| `group_id`   | Yes      | `number`                | ID of the group you delete properties from.                                       |
| `properties` | Yes      | [`object`](#properties) | An object with _namespaces_ as keys and _property_names_ (in an array) as values. |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/delete_group_properties \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
      "group_id": 1,
      "properties": {
        "0805e283233042b37f460ed8fbf22160": ["string_property"]
          }
      }'
```

</CodeSample>

</Code>

</Section>

<Section>

<Text>

# Webhooks

Here's what you need to know about **webhooks**:

- Webhooks notify you when specific events are triggered.
- They can be generated by both Web and RTM API actions.
- Webhooks and pushes have similar payloads.

</Text>

<Code>

<CodeResponse  title={'general webhook format'}>

```json
{
  "webhook_id": "<webhook_id>",
  "secret_key": "<secret_key>",
  "action": "<action>",
  "license_id": "<license_id>",
  "payload": {
  },
  "additional_data": {
    "chat_properties": { //optional
        // chat properties
    }
  }
}
```

</CodeResponse >

</Code>

</Section>

## Methods

| HTTP method | The Webhooks API endpoint                                        |
| ----------- | ---------------------------------------------------------------- |
| `POST`      | `https://api.livechatinc.com/v3.2/configuration/action/<action>` |

| Required header |       Value        |      |
| --------------- | :----------------: | ---: |
| `Content-Type`  | `application/json` |      |

| Response Header | Value        | Notes                                      |
| --------------- | ------------ | ------------------------------------------ |
| `Legacy`        | `YYYY-MM-DD` | The date when the `legacy` stage ends.     |
| `Deprecation`   | `YYYY-MM-DD` | The date when the `deprecated` stage ends. |

[<div style={{maxWidth: '123px'}}><img alt="Run in Postman" src="https://run.pstmn.io/button.svg" width="123px" height="30px"/></div>](https://app.getpostman.com/run-collection/30750779b7b99326d318#?env%5BLiveChat%20Web%20API%5D=W3sia2V5IjoiYXBpX3ZlcnNpb24iLCJ2YWx1ZSI6InYzLjIiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImFjY2Vzc190b2tlbiIsInZhbHVlIjoiZGFsOnRlc3RfLUF2WlNTT0RLa1pzcmpvUGtRIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJjdXN0b21lcl9hY2Nlc3NfdG9rZW4iLCJ2YWx1ZSI6ImRhbDp0ZXN0X3BxN1FZZVZaTEZFekROQlRnIiwiZW5hYmxlZCI6dHJ1ZX0seyJrZXkiOiJhY2NvdW50X2lkIiwidmFsdWUiOiJiN2VmZjc5OC1mOGRmLTQzNjQtODA1OS02NDljMzVjOWVkMGMiLCJlbmFibGVkIjp0cnVlfSx7ImtleSI6ImxpY2Vuc2VfaWQiLCJ2YWx1ZSI6InRlc3RfOTA1MiIsImVuYWJsZWQiOnRydWV9XQ==)

<Section>

<Text>

### Register Webhook

The number of webhooks that you can register is limited and depends on the authorization method:

- When using PATs: 10 for every action. Using multiple PATs *doesn't* rise the limit.
- When using Bearer Tokens: 60 for every action.

#### Specifics

|                 |                                                                          |
| --------------- | ------------------------------------------------------------------------ |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/register_webhook` |
| Required scopes | `webhooks--my:rw`                                                        |

| Parameter                                | Required | Data type  | Notes                                                                                                                                                    |
| ---------------------------------------- | -------- | ---------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `action`__*__                            | yes      | `string`   | The [action](#triggering-actions) that triggers sending a webhook.                                                                                       |
| `secret_key`                             | yes      | `string`   | The secret key sent in webhooks to verify the source of a webhook.                                                                                       |
| `url`                                    | yes      | `string`   | Destination URL for the webhook                                                                                                                          |
| `additional_data`                        | no       | `[]string` | Additional data arriving with the webhook. Value: `chat properties` (all actions except for `agent_status_changed`, `agent_deleted`, `customer_created`) |
| `description`                            | no       | `string`   | Webhook description                                                                                                                                      |
| `filters`                                | no       | `object`   | Filters to check if a webhook should be triggered.                                                                                                       |
| `filters.author_type`                    | no       | `string`   | Possible values: `customer`, `agent`; allowed only for the `incoming_event` and `event_updated` actions.                                                 |
| `filters.only_my_chats`                  | no       | `bool`     | `true` or `false`; triggers webhooks only for chats with the property `source.client_id` set to my `client_id`.                                          |
| `filters.chat_member_ids`                | no       | `object`   | Only one filter (`agents_any` or `agents_exclude`) is allowed.                                                                                           |
| `filters.chat_member_ids.agents_any`     | no       | `[]string` | Array of Agents' ids; if any specified Agent is in the chat, the webhook will be triggered.                                                              |
| `filters.chat_member_ids.agents_exclude` | no       | `[]string` | Array of Agents' ids; If any specified Agent is in the chat, the webhook will not be triggered.                                                          |

#### Triggering actions

__*__ The table below presents the possible values for the `action` parameter.

| Possible action                                                     |                                 Available filters |
| ------------------------------------------------------------------- | ------------------------------------------------: |
| [`incoming_chat`](#incoming_chat)                                   |                `chat_member_ids`, `only_my_chats` |
| [`chat_deactivated`](#chat_deactivated)                             |                `chat_member_ids`, `only_my_chats` |
| [`chat_access_granted`](#chat_access_granted)                       |                `chat_member_ids`, `only_my_chats` |
| [`chat_access_revoked`](#chat_access_revoked)                       |                `chat_member_ids`, `only_my_chats` |
| [`user_added_to_chat`](#user_added_to_chat)                         |                `chat_member_ids`, `only_my_chats` |
| [`user_removed_from_chat`](#user_removed_from_chat)                 |                `chat_member_ids`, `only_my_chats` |
| [`incoming_event`](#incoming_event)                                 | `chat_member_ids`, `author_type`, `only_my_chats` |
| [`event_updated`](#event_updated)                                   | `chat_member_ids`, `author_type`, `only_my_chats` |
| [`incoming_rich_message_postback`](#incoming_rich_message_postback) |                `chat_member_ids`, `only_my_chats` |
| [`chat_properties_updated`](#chat_properties_updated)               |                `chat_member_ids`, `only_my_chats` |
| [`chat_properties_deleted`](#chat_properties_deleted)               |                `chat_member_ids`, `only_my_chats` |
| [`thread_properties_updated`](#thread_properties_updated)           |                `chat_member_ids`, `only_my_chats` |
| [`thread_properties_deleted`](#thread_properties_deleted)           |                `chat_member_ids`, `only_my_chats` |
| [`event_properties_updated`](#event_properties_updated)             |                `chat_member_ids`, `only_my_chats` |
| [`event_properties_deleted`](#event_properties_deleted)             |                `chat_member_ids`, `only_my_chats` |
| [`thread_tagged`](#thread_tagged)                                   |                `chat_member_ids`, `only_my_chats` |
| [`thread_untagged`](#thread_untagged)                               |                `chat_member_ids`, `only_my_chats` |
| [`routing_status_set`](#routing_status_set)                         |                                                 - |
| [`agent_deleted`](#agent_deleted)                                   |                                       `agent_ids` |
| [`customer_created`](#customer_created)                             |                                                 - |
| [`events_marked_as_seen`](#events_marked_as_seen)                   |                `chat_member_ids`, `only_my_chats` |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/register_webhook \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "url": "http://myservice.com/webhooks",
        "description": "Test webhook",
        "action": "chat_deactivated",
        "secret_key": "laudla991lamda0pnoaa0"
      }'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="registerWebhook"/>

</Code>

</Section>

<Section>

<Text>

### List Registered Webhooks

#### Specifics

|                 |                                                                                  |
| --------------- | -------------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/list_registered_webhooks` |
| Required scopes | `webhooks--my:ro` `webhooks--all:ro`                                             |

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/list_registered_webhooks \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{}'
```

</CodeSample>

<CodeResponse type="configuration" version="v3.2" json="listRegisteredWebhooks"/>

</Code>

</Section>

<Section>

<Text>

### Unregister Webhook

#### Specifics

|                 |                                                                            |
| --------------- | -------------------------------------------------------------------------- |
| Method URL      | `https://api.livechatinc.com/v3.2/configuration/action/unregister_webhook` |
| Required scopes | `webhooks--my:rw` `webhooks--all:rw`                                       |

#### Request

| Parameter    | Required | Data type | Notes      |
| ------------ | -------- | --------- | ---------- |
| `webhook_id` | Yes      | `string`  | Webhook ID |

#### Response

No response payload (`200 OK`).

</Text>

<Code>

<CodeSample path={'REQUEST'}>

```shell
curl -X POST \
  https://api.livechatinc.com/v3.2/configuration/action/unregister_webhook \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer <your_access_token>' \
  -d '{
        "webhook_id": "pqi8oasdjahuakndw9nsad9na"
      }'
```

</CodeSample>

</Code>

</Section>

## Available webhooks

To see the list of available webhooks v3.2, [visit the Webhooks](/management/webhooks/v3.2/) document.

# Possible errors

<Errors errors="authentication,authorization,already_exist,group_not_found,internal,license_expired,limit_reached,misdirected_request,not_found,too_many_requests,transfer_ownership,unsupported_version,validation"/>

# Contact us

If you found a bug or a typo, you can let us know directly on GitHub. In case of any questions or feedback, don't hesitate to contact us at <a href="mailto:developers@livechat.com">developers@livechat.com</a>. We'll be happy to hear from you!

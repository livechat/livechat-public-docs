---
weight: 30
category: "getting-started"
subcategory: "authorization"
title: "Authorizing API calls"
tagline: "Build secure LiveChat apps."
desc: "Learn how to use OAuth 2.0 to access LiveChat data in a secure way."
---

# Introduction

LiveChat uses [OAuth 2.0](https://oauth.net/2/) protocol for **authentication** and **authorization** for all of its services. Before you continue, make sure you understand the difference between them.

- **Authentication** is making sure that somebody really is who they say they are. <br/>_E.g.: Checking your passport at the security check is authentication._
- **Authorization** is assigning rules about who is allowed to do what. <br/>_E.g.: Allowing you to take first class seat is authorization._

In terms of LiveChat apps, authentication is when you check the user credentials to see if they are signed in. Authorization is when you look up whether you allow them to do something.

Throughout the document, we'll also use the terms **public** and **private** apps:

- **public apps** are available to all LiveChat customers, who can install it from the LiveChat [Marketplace](https://www.livechat.com/marketplace/).
- **private apps** are only available within a LiveChat license that created the app. They're a way to go if you want to build an internal app for your chat Agents only. Unlike public apps, private apps don't ask users for an access grant.

## Use cases

Decide which authorization flow to choose based on your use case.

| Use case                              | Recommended flow                                                                                                                                                                                                                                           |
| ------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Sending requests to LiveChat API**  | [Personal Access Tokens](#personal-access-tokens) is the fastest way, but all other flows are also possible                                                                                                                                                |
| **Testing an app during development** | [Personal Access Tokens](#personal-access-tokens) is the fastes, but all other flows are also possible                                                                                                                                                     |
| **Building public web apps**          | [Sign in with LiveChat](/getting-started/authorization/sign-in-with-livechat/), [Implicit grant](#implicit-grant)                                                                                                                                          |
| **Building private web apps**         | [Sign in with LiveChat](/getting-started/authorization/sign-in-with-livechat/), [Implicit grant](#implicit-grant)                                                                                                                                          |
| **Building public server-side apps**  | [Sign in with LiveChat](/getting-started/authorization/sign-in-with-livechat/), [Authorization code grant](#authorization-code-grant)                                                                                                                      |
| **Building private server-side apps** | [Personal Access Tokens](#personal-access-tokens) for the personal use of the app, [Sign in with LiveChat](/getting-started/authorization/sign-in-with-livechat/) or [Authorization code grant](#authorization-code-grant) for all Agents within a license |

Read more about [creating LiveChat apps](getting-started/guides/#creating-livechat-apps) or go straight to [Developer Console](https://developers.livechat.com/console/) and start building.

# Agent authorization flows

All of the following authorization flows let your app acquire an `access_token`. With this token, the app can make calls to the Agent Chat API, Configuration API, and Reports API, Billing API, and Partner Program API on behalf of an Agent.
To make calls to Customer Chat API, you need a different `access_token`. For that, see [Customer authorization flow](#customer-authorization-flow).

## Personal Access Tokens

Unlike other authorization flows that let you acquire a token for your app, **Personal Access Tokens (PATs)** are generated per Agent. PATs are great when you want to make a quick call to the LiveChat API or test out the app you're working on.

To sign a request with a Personal Access Token, you need to:

1. Create a PAT in <a href="https://developers.livechatinc.com/console" target="_blank">Developer Console</a>.
2. Use your `account_id` and PAT in the **Basic authentication scheme** to send a request.

### Step 1: Generate a PAT

Start in <a href="https://developers.livechatinc.com/console/" target="_blank">Developer Console</a>. Then, go to **Tools -> Personal Access Tokens** and create a new token together with necessary [scopes](/messaging/agent-chat-api/#scopes-1). You won't be able to change those scopes once you create the token.

![LiveChat Developer Console](images/new_PAT.png)

### Step 2: Use your credentials to send the request

Personal Access Tokens use the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication#Basic_authentication_scheme/" target="_blank">Basic authentication scheme</a>. For that reason, you need a username and a password.

Use:

- **Account ID** as the **username** for API v3
- **Entity ID (your LiveChat login)** as the **username** for API v2
- **PAT** as the **password** for API v2 and v3

Once you have your credentials, you can send requests to, for example, [Agent Chat API](/messaging/agent-chat-api/).

![LiveChat Request Authorized with PAT](images/request_PAT.png)

## Implicit grant

Implicit grant is an authorization flow recommended for JavaScript web apps.

To set up your own web app, you must define the URL of the app and the list of scopes. Scopes determine which parts of a LiveChat user's account your app will have access to. A LiveChat customer who enters your app URL will be asked to enter their login and password and grant the access for your app. Then, the user is redirected to your app with `access_token` included in the URL.

![LiveChat Public Web Apps](images/public-web-app.png)

### Step 1: Create an app

Start by creating an app in [Developer Console](https://developers.livechat.com/console). The app is a LiveChat OAuth 2.0 Client with its **Id** and **Secret**. You need to configure the Authorization building block of your application. [See the guide](/getting-started/authorization/authorization-in-practice/#step-1-configure-the-authorization-building-block) to learn how to do that. Since this is the Implicint grant authorization flow, you won't use the **Client Secret** of your app. Feel free to skip the part about **Client Secret** in the guide; the rest applies without any change.

### Step 2: Redirect users to LiveChat OAuth Server

When a user runs your app, you should redirect them to the LiveChat OAuth Server, which can be found under this URL:

```
https://accounts.livechat.com/
```

<Section>
<Text>

#### URL parameters

| Parameter       | Required | Value                                                                       | Notes                                                                                                                                                                                   |
| --------------- | -------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `response_type` | yes      | `token`                                                                     |                                                                                                                                                                                         |
| `client_id`     | yes      | **Client Id** from Developer Console (Authorization block)                  |                                                                                                                                                                                         |
| `redirect_uri`  | yes      | one of the URLs defined in the Authorization block during app configuration | The URL of your web application. The LiveChat OAuth Server will redirect the user back to this URL after successful authorization.                                                      |
| `state`         | no       | any value that might be useful to your application                          | It's strongly recommended to include an anti-forgery token to mitigate the [cross-site request forgery](https://en.wikipedia.org/wiki/Cross-site_request_forgery).                      |
| `prompt`        | no       | `consent`                                                                   | **For testing purposes.** It forces the app to ask for access to certain resources. It’s necessary for you to test the app as if you were a user who installs the app from Marketplace. |

</Text>
<Code>
<CodeSample path={'EXAMPLE REDIRECTION TO LIVECHAT OAUTH SERVER'}>

```shell
https://accounts.livechat.com/
  ?response_type=token
  &client_id=2261a58dfe1420acc0dc1bd77158f7ac
  &redirect_uri=https%3A%2F%2Fmy-application.com
  &state=i8XNjC4b8KVok4uw5RftR38Wgp2BFwql
```

</CodeSample>
</Code>
</Section>

At this point, the app should ask the user to grant it access to certain resources.

![Access Grant Request](images/grant-access-livechat.png)

### Step 3: Acquire the access token

After successful authorization, the user is redirected back to your application. The URL includes a number o parameter, including the `access_token`.

<Section>
<Text>

#### URL parameters

| Parameter       | Required | Value                                                                       | Notes                                                                                                                                                                                   |
| --------------- | -------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `response_type` | yes      | `token`                                                                     |                                                                                                                                                                                         |
| `client_id`     | yes      | **Client Id** from Developer Console (Authorization block)                  |                                                                                                                                                                                         |
| `redirect_uri`  | yes      | one of the URLs defined in the Authorization block during app configuration | The URL of your web application. The LiveChat OAuth Server will redirect the user back to this URL after successful authorization.                                                      |
| `state`         | no       | any value that might be useful to your application                          | It's strongly recommended to include an anti-forgery token to mitigate the [cross-site request forgery](https://en.wikipedia.org/wiki/Cross-site_request_forgery).                      |
| `prompt`        | no       | `consent`                                                                   | **For testing purposes.** It forces the app to ask for access to certain resources. It’s necessary for you to test the app as if you were a user who installs the app from Marketplace. |

</Text>
<Code>
<CodeResponse title={'EXAMPLE REDIRECTION BACK TO THE APP'}>

```
https://my-application.com/
  #access_token=1/fFBGRNJru1FQd44AzqT3Zg
  &token_type=Bearer
  &expires_in=1209600
  &state=i8XNjC4b8KVok4uw5RftR38Wgp2BFwql
```

</CodeResponse>
</Code>
</Section>

Example redirection back to your app:

```
https://my-application.com/
  #access_token=1/fFBGRNJru1FQd44AzqT3Zg
  &token_type=Bearer
  &expires_in=1209600
  &state=i8XNjC4b8KVok4uw5RftR38Wgp2BFwql
```

- **access_token** – token you can use to call LiveChat APIs on behalf of the user.
- **expires_in** – number of seconds the `access_token` will be valid. When it expires, you will need to repeat the authorization process to get the new `access_token`.
- **state** – value of the `state` param that you passed in redirection to LiveChat OAuth Server.
- **token_type=Bearer**

Your application should remember `access_token` in localStorage or a cookie until it expires. Caching the token prevents you from redirecting the user to LiveChat OAuth Server every time he visits your app.

### Example app

This example private web application fetches LiveChat agents list and logs it in the console.

<Code>
<CodeSample path={'index.html'}>

```html
<!DOCTYPE html>
<html>
  <body>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script>
      function getHashParam(key) {
        var params = location.hash.substring(1).split("&");
        var value = params.find(function(item) {
          return item.split("=")[0] === key;
        });
        return value ? value.split("=")[1] : "";
      }

      var clientId = "<client_id>";
      var redirectUri = "http://localhost/test.html";
      var accessToken = getHashParam("access_token");

      if (accessToken) {
        $.ajax({
          url: "./get_agents.php",
          dataType: "json",
          data: {
            access_token: accessToken
          },
          success: agents => {
            console.log(agents);
          }
        });
      } else {
        location.href =
          "https://accounts.livechatinc.com/" +
          "?response_type=token" +
          "&client_id=" +
          clientId +
          "&redirect_uri=" +
          redirectUri;
      }
    </script>
  </body>
</html>
```

</CodeSample>

<CodeSample path={'get_agents.php'}>

```php
<?php
$accessToken = $_GET['access_token'];

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, 'https://api.livechatinc.com/agents');
curl_setopt($ch, CURLOPT_HTTPHEADER, array(
	'Content-Type: application/json',
	'X-API-Version: 2',
	'Authorization: Bearer ' . $accessToken
));
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);

$result = curl_exec($ch);
curl_close($ch);

echo $result;
```

</CodeSample>
</Code>

This example app fetches [Agents list](/management/configuration-api/v2.0/#list-all-agents) and returns it in the browser's console.

You should update `clientId` and `redirectUri` params from the example to match actual values. You can set up these params when creating the app in [LiveChat Developers Console](https://developers.livechatinc.com/console). Your app must also have access to **read agents list** scopes. Scopes are also configured in the Developers Console.

Please note that the request is performed by the backend script (in this case, PHP) because LiveChat Configuration API v2 does not allow cross-domain requests

## Authorization code grant

Authorization code grant flow is recommended for server-side apps. Server-side apps have access to user's data for an unlimited amount of time. Unlike web apps, they can store confidential info, such as **Client Secret**, on a server without ever exposing it.

When your application wants to acquire an `access_token`, you must redirect the user to LiveChat OAuth Server only once. After successful authorization, the user is redirected back to your app along with a single-use authorization code. Your application exchanges the authorization code for an `access_token` and `refresh_token` using the **Client Secret**. From now now, you can generate new `access_tokens` indefinitely without any action required from the user.

![LiveChat Public Server-Side Apps](images/public-backend-app.png)

### Step 1: Create the app

Go to [Developers Console](https://developers.livechatinc.com/console) to create a new server-side app. **Redirect URI** is the address of your app that will receive authorization `code` in a URL. **Scopes** is a list of permissions your app will get.

### Step 2: Redirect to LiveChat OAuth Server

Sample URL for redirecting to LiveChat OAuth Server:

```
https://accounts.livechatinc.com/
  ?response_type=code
  &client_id=86pp8cqeg2ac5fimbs8gibluu16ugyvs
  &redirect_uri=https%3A%2F%2Fmy-application.com
  &state=f3NtEuZ5AuxsmnVAzcyLGm17aAaltJTv
```

Start with redirecting your user to the following address: `https://accounts.livechatinc.com/`

Required URL parameters:

- **response_type=code**
- **client_id** – you received it when you created the app in [Developers Console](https://developers.livechatinc.com/console).
- **redirect_uri** – URL of your web application that LiveChat OAuth Server will redirect the user back after successful authorization. It must be one of the URLs that you entered when creating the app in the previous step.

Optional URL parameters:

- **state** – provide any state that might be useful to your application. It will be included in the redirection to `redirect_uri` endpoint.It is strongly recommended to include an anti-forgery token in the state to mitigate the [cross-site request forgery](https://en.wikipedia.org/wiki/Cross-site_request_forgery).

For testing purposes:

- **prompt=consent** - forces the app to ask for access to certain resources. It’s necessary for you to test the app as if you were a user who installs the app from Marketplace.

### Step 3: Acquire the code

Example redirection back to your app:

```
https://my-application.com/
  ?code=4/P7q7W91a-oMsCeLvIaQm6bTrgtp7
  &state=f3NtEuZ5AuxsmnVAzcyLGm17aAaltJTv
```

When the user approves the access request, they are redirected back to your app. The URL will include `code` param which should be used to acquire `access_token` and `refresh_token`.

If the user does not approve the request, LiveChat OAuth Server will not redirect the user to your application.

<Section>
<Text>

### Step 4: Exchange code for access token and refresh token

To exchange the `code` for an `access_token` and `refresh_token`, you should perform an HTTP POST request.

Required parameters:

- **grant_type=authorization_code**
- **code** – the authorization code returned from the initial request.
- **client_id** – you received it when you created the app in [Developers Console](https://developers.livechatinc.com/console).
- **client_secret** - you received it when you created the app in [Developers Console](https://developers.livechatinc.com/console).
- **redirect_uri** – the URL of your web application that LiveChat OAuth Server will redirect the user back after successful authorization. It must be one of the URLs that you entered when creating the app in the previous step.

The response will include the following params in JSON format:

- **access_token** – the token you can use to call LiveChat APIs on behalf of the user.
- **account_id** - the ID of the Agent's account.
- **entity_id** - the requester's email address.
- **license_id** - the LiveChat license number.
- **expires_in** – a number in seconds specifying how long the `access_token` will be valid. When it expires, you will need to generate new `access_token` using `refresh_token` (read [Using the refresh token](#using-the-refresh-token) for more details).
- **organization_id** - the ID of the organization's account.
- **refresh_token** – the token that can be used to generate new access tokens.
- **token_type=Bearer**

</Text>
<Code>
<CodeSample path={'POST https://accounts.livechatinc.com/token'}>

```shell
curl "https://accounts.livechatinc.com/token" \
  -X POST \
  -d "grant_type=authorization_code&\
  code=4/P7q7W91a-oMsCeLvIaQm6bTrgtp7&\
  client_id=86pp8cqeg2ac5fimbs8gibluu16ugyvs&\
  client_secret=nBdMN8d7MEp1YYo3&\
  redirect_uri=https://my-application.com"
```

</CodeSample>
<CodeResponse title={'Sample response'}>

```json
{
  "access_token": "1/fFAGRNJru1FTz70BzhT3Zg",
  "account_id": "b7eff798-f8df-4364-8059-649c35c9ed0c",
  "entity_id": "agent1@example.com",
  "expires_in": 28800,
  "license_id": 104130623,
  "organization_id": "390e44e6-f1e6-0368c-z6ddb-74g14508c2ex",
  "refresh_token": "-/khgiugfalskdbcakg2347o8326",
  "token_type": "Bearer"
}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Using the refresh token

To obtain a new `access_token`, your application must send an HTTP POST request using the `refresh_token`.

Required parameters:

- **grant_type=refresh_token**
- **refresh_token** – the value of the refresh token you received in the previous step.
- **client_id** – you received it when you created the app in [Developers Console](https://developers.livechatinc.com/console).
- **client_secret** - you received it when you created the app in [Developers Console](https://developers.livechatinc.com/console).

The response will include the following params in JSON format:

- **access_token** – the token you can use to call LiveChat APIs on behalf of the user.
- **account_id** - the ID of the Agent's account.
- **entity_id** - the requester's email address.
- **license_id** - the LiveChat license number.
- **expires_in** – a number in seconds specifying how long the `access_token` will be valid. When it expires, you will need to generate new `access_token` using `refresh_token` (read [Using the refresh token](#using-the-refresh-token) for more details).
- **organization_id** - the ID of the organization's account.
- **refresh_token** – the token that can be used to generate new access tokens.
- **token_type=Bearer**

</Text>
<Code>
<CodeSample path={'POST https://accounts.livechatinc.com/token'}>

```shell
curl "https://accounts.livechatinc.com/token" \
  -X POST \
  -d "grant_type=refresh_token&\
  refresh_token=-/khgiugfalskdbcakg2347o8326&\
  client_id=86pp8cqeg2ac5fimbs8gibluu16ugyvs&\
  client_secret=nBdMN8d7MEp1YYo3"
```

</CodeSample>
<CodeResponse title={'Sample response'}>

```json
{
  "access_token": "1/fFAGRNJru1FTz70BzhT3Zg",
  "account_id": "b7eff798-f8df-4364-8059-649c35c9ed0c",
  "entity_id": "agent1@example.com",
  "expires_in": 28800,
  "license_id": 104130623,
  "organization_id": "390e44e6-f1e6-0368c-z6ddb-74g14508c2ex",
  "refresh_token": "-/khgiugfalskdbcakg2347o8326",
  "token_type": "Bearer"
}
```

</CodeResponse>
</Code>
</Section>

<Section>
<Text>

### Revoking tokens

In some cases a user may wish to revoke access given to an application. The token can be an access token or a refresh token. If the token is an access token and it has a corresponding refresh token, the refresh token will also be revoked.

</Text>
<Code>
<CodeSample path={'DELETE https://accounts.livechatinc.com/token'}>

```shell
curl "https://accounts.livechatinc.com/token\
  ?token=<access_token|refresh_token>"
  -X DELETE
```

</CodeSample>
</Code>
</Section>

<Section>
<Text>

### Validating the access token

You can validate an `access_token` by making an HTTP request.

Please note that refresh tokens are not supported for direct validation. If `access_token` was obtained with with the use of a `refresh_token`, response will return both tokens.

The response will include the following params in JSON format:

- **access_token** – token you can use to call LiveChat APIs on behalf of the user.
- **expires_in** – number of seconds the `access_token` will be valid. When it expires, you will need to generate new `access_token` using `refresh_token` (read [Using the refresh token](#using-the-refresh-token) for more details).
- **refresh_token** – token that can be used to generate new access tokens.
- **client_id** – you received it when you created the app in [Developers Console](https://developers.livechatinc.com/console).
- **scope** – comma-separated list of permissions that `access_token` has access to.
- **token_type=Bearer**
- **entity_id** – LiveChat's user login.
- **license_id** – LiveChat's user account number.

</Text>
<Code>
<CodeSample path={'GET https://accounts.livechatinc.com/info'}>

```shell
curl "https://accounts.livechatinc.com/info"
  -H "Authorization: Bearer <access_token>"
```

</CodeSample>
<CodeResponse title={'Sample response'}>

```json
{
  "access_token": "hgDBq88bSw-UHBXnm1Q_Bw",
  "expires_in": 3564,
  "refresh_token": "wB_Q1mnXBHU-wSb88qBDgh", // optional
  "client_id": "14c26ac43f2123dcf8a76ff58b319930",
  "scope": "email,manage_accounts",
  "token_type": "Bearer",
  "entity_id": "name@example.com",
  "license_id": 1520
}
```

</CodeResponse>
</Code>
</Section>

# Customer authorization flow

To authorize [Customer Chat API](../../messaging/customer-chat-api/) you will need different access token than for the [Agent Chat API](../../messaging/agent-chat-api/) or [Configuration API](../../management/configuration-api/).

<Section>
<Text>

## Creating new customer

You can create a new customer on licence or use an existing identity. The `<ACCESS_TOKEN>` mentioned below is the one that you get from the app authorization flow. Required scope: `customers.own`.

**Required parameters**

- `client_id` - identifies the client application that is making the request
- `response_type` - oauth2 standard, should use `token`
- `redirect_uri` - the value of this parameter must exactly match one of the values listed in application

**Optional partametres**

- `customer_id` - ID of existing customer, if empty new `customer_id` is created
- `valid_for` - Optional for overriding default token expiration time

</Text>
<Code>
<CodeSample path={'POST https://accounts.livechatinc.com/customer/'}>

```shell
curl "https://accounts.livechatinc.com/customer/" \
  -H "Authorization: Bearer <access_token>" \
  -X POST
  -d '{
  "client_id": "04b98ba24fc4426a0a046cf955dfd796",
  "response_type": "token",
  "redirect_uri": "https://my.livechatinc.com/"
  }'
```

</CodeSample>
<CodeResponse title={'Sample response'}>

```json
{
  "access_token": "dev-J7ssSZhSSbShcZxrv580FA",
  "client_id": "238ac4c3c3628880aca289c6d700d2c5",
  "entity_id": "bf18d1a8-1afe-4a3e-4cc0-a3148f1143db",
  "expires_id": 3600
}
```

</CodeResponse>
</Code>
</Section>

## Customer chat URL

It's possible to create customer direct chat url using `license_id` and `access_token`.

**Example URL**

```
https://accounts.livechatinc.com/customer?
  access_token=ae19bb31-803a-46f3-53ac-3b7d2564fe7e&
  redirect_uri=https://lc.chat/now/1520/"
```

# Notes

## Limitations

There is currently a limit of 25 refresh tokens per client per user. When limit is reached, the oldest token is automaticaly revoked.

Another limitation is 3 redirects in 30 seconds to Livechat OAuth 2.0 server per client per user. When limit is reached, server redirects to error page with `too_many_redirects` error detail.

## Redirect URI considerations

Client configuration allows adding many redirect URIs. The redirect URIs are separated by comma. Authorization request redirect URI is valid when matches one of the client's configuration URIs.

URI is composed of several parts:

- scheme (`http://`, `https://`) - is required and must match exactly,
- host (`google.pl`, `localhost:3000`, ...) - hostname or ip and optional port, is required and must match exactly,
- path (`/info`, `/test`, ...) - is optional, client redirect URI path must be a substring of authorization request redirect path, path traversals are forbidden,
- query (`?size=20`, ...) - is forbidden,
- fragment (`#paragraph`) - is forbidden.

**Examples:**

| client redirect configuration   | authorization redirect URI            | is valid |
| ------------------------------- | :------------------------------------ | -------- |
| http://livechatinc.com          | http://livechatinc.com                | yes      |
| http://livechatinc.com          | http://livechatinc.com/archives       | yes      |
| http://livechatinc.com          | http://livechatinc.com/archives/../   | no       |
| http://livechatinc.com/archives | http://livechatinc.com                | no       |
| http://livechatinc.com/archives | http://livechatinc.com/archives       | yes      |
| http://livechatinc.com/archives | http://livechatinc.com/archives/chats | yes      |
| http://localhost:3000           | http://localhost:3000                 | yes      |
| http://127.0.0.1:3000           | http://127.0.0.1:3000                 | yes      |
| http://localhost:3000           | http://localhost:4000                 | no       |
| https://livechatinc.com         | http://livechatinc.com                | no       |
| http://livechatinc.com          | https://livechatinc.com               | no       |

# Errors

All authorization errors redirect to error page (`https://accounts.livechatinc.com/ooops`) while authentication errors redirect to the login page (`https://accounts.livechatinc.com/`).

Errors codes are returned in the query strings, in form of `oauth_exception` param (for authorization errors) or `identity_exception` param (for authentication errors).

Additional `exception_details` may be passed with detailed information.

## Authorization errors

#### `invalid_request`

The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Possible reasons:

- wrong HTTP method
- invalid HTTP body encoding

#### `unauthorized_client`

The client is not authorized to request a token using this method. Possible reasons:

- missing client id
- client id not found
- refresh token not found
- invalid client secret
- invalid redirect uri

#### `access_denied`

The resource owner or authorization server denied the request. Possible reasons:

- requested scope include any scope not originally granted by the resource owner

#### `unsupported_response_type`

The authorization server does not support obtaining a token using this method. Possible reasons:

- response type is not `code` or `token`

#### `invalid_scope`

The requested scope is invalid, insufficient, unknown or malformed. Possible reasons:

- scope not found
- scope name not found

#### `server_error`

The authorization server encountered an unexpected condition that prevented it from fulfilling the request. Possible reasons:

- server down
- server storage down

#### `temporarily_unavailable`

The authorization server is currently unable to handle the request due to a temporary overloading or maintenance of the server. Currently not used.

#### `unsupported_grant_type`

The authorization grant type is not supported by the authorization server.

- using disabled authorization grant type, for example client credentials grant - https://tools.ietf.org/html/rfc6749#section-4.4

#### `invalid_grant`

The provided authorization grant (e.g., authorization code, resource owner credentials) or refresh token is invalid, expired, revoked, does not match the redirection URI used in the authorization request, or was issued to another client. Possible reasons:

- refresh token expired
- access token expires

#### `invalid_client`

Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method). Possible reasons:

- using refresh token with wrong client id

#### `missing_grant`

The client is missing granted rights. Possible reasons:

- grants were rejected
- grants were never given
- client changed required grants

### Exception details

`client_id_not_found` - wrong client id, client id does not exists

`redirect_uri_not_set` - client misconfiguration, client has not set redirect uri

`invalid_redirect_uri` - redirect uri is not one of client's allowed redirects

`to_many_redirects` - server has detected redirect loop, client should not redirect to many times

## Authentication errors

#### `invalid_request`

The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed.

#### `unauthorized`

The request is valid, but identity data is wrong or identity does not exists. If identity id is known, it's added to querystring as `entity_id`.

#### `server_error`

The server encountered an unexpected condition that prevented it from demermining identity.

#### `access_denied`

The identity is known, but access is denied because of bussiness reasons. For example identity can be banned, has wrong account version, etc.

#### `identity_lost`

The identity was removed due logout, password reset, remote logout, etc.

#### `credentials_login_disabled`

Identity has disabled credentials login strategy. Identity should be verified with other stategies like Google Oauth or SAML.
